"use strict";(self.webpackChunkangular_agGrid=self.webpackChunkangular_agGrid||[]).push([[179],{44:()=>{function Re(e){return"function"==typeof e}function wd(e){const i=e(n=>{Error.call(n),n.stack=(new Error).stack});return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}const wh=wd(e=>function(i){e(this),this.message=i?`${i.length} errors occurred during unsubscription:\n${i.map((n,s)=>`${s+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=i});function Ca(e,t){if(e){const i=e.indexOf(t);0<=i&&e.splice(i,1)}}class Vt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:i}=this;if(i)if(this._parentage=null,Array.isArray(i))for(const r of i)r.remove(this);else i.remove(this);const{initialTeardown:n}=this;if(Re(n))try{n()}catch(r){t=r instanceof wh?r.errors:[r]}const{_finalizers:s}=this;if(s){this._finalizers=null;for(const r of s)try{hE(r)}catch(o){t=t??[],o instanceof wh?t=[...t,...o.errors]:t.push(o)}}if(t)throw new wh(t)}}add(t){var i;if(t&&t!==this)if(this.closed)hE(t);else{if(t instanceof Vt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(i=this._finalizers)&&void 0!==i?i:[]).push(t)}}_hasParent(t){const{_parentage:i}=this;return i===t||Array.isArray(i)&&i.includes(t)}_addParent(t){const{_parentage:i}=this;this._parentage=Array.isArray(i)?(i.push(t),i):i?[i,t]:t}_removeParent(t){const{_parentage:i}=this;i===t?this._parentage=null:Array.isArray(i)&&Ca(i,t)}remove(t){const{_finalizers:i}=this;i&&Ca(i,t),t instanceof Vt&&t._removeParent(this)}}Vt.EMPTY=(()=>{const e=new Vt;return e.closed=!0,e})();const cE=Vt.EMPTY;function uE(e){return e instanceof Vt||e&&"closed"in e&&Re(e.remove)&&Re(e.add)&&Re(e.unsubscribe)}function hE(e){Re(e)?e():e.unsubscribe()}const Jr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},yh={setTimeout(e,t,...i){const{delegate:n}=yh;return n?.setTimeout?n.setTimeout(e,t,...i):setTimeout(e,t,...i)},clearTimeout(e){const{delegate:t}=yh;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function pE(e){yh.setTimeout(()=>{const{onUnhandledError:t}=Jr;if(!t)throw e;t(e)})}function zg(){}const vV=Wg("C",void 0,void 0);function Wg(e,t,i){return{kind:e,value:t,error:i}}let eo=null;function _h(e){if(Jr.useDeprecatedSynchronousErrorHandling){const t=!eo;if(t&&(eo={errorThrown:!1,error:null}),e(),t){const{errorThrown:i,error:n}=eo;if(eo=null,i)throw n}}else e()}class jg extends Vt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,uE(t)&&t.add(this)):this.destination=EV}static create(t,i,n){return new yd(t,i,n)}next(t){this.isStopped?qg(function bV(e){return Wg("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?qg(function CV(e){return Wg("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?qg(vV,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const yV=Function.prototype.bind;function $g(e,t){return yV.call(e,t)}class _V{constructor(t){this.partialObserver=t}next(t){const{partialObserver:i}=this;if(i.next)try{i.next(t)}catch(n){Sh(n)}}error(t){const{partialObserver:i}=this;if(i.error)try{i.error(t)}catch(n){Sh(n)}else Sh(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(i){Sh(i)}}}class yd extends jg{constructor(t,i,n){let s;if(super(),Re(t)||!t)s={next:t??void 0,error:i??void 0,complete:n??void 0};else{let r;this&&Jr.useDeprecatedNextContext?(r=Object.create(t),r.unsubscribe=()=>this.unsubscribe(),s={next:t.next&&$g(t.next,r),error:t.error&&$g(t.error,r),complete:t.complete&&$g(t.complete,r)}):s=t}this.destination=new _V(s)}}function Sh(e){Jr.useDeprecatedSynchronousErrorHandling?function wV(e){Jr.useDeprecatedSynchronousErrorHandling&&eo&&(eo.errorThrown=!0,eo.error=e)}(e):pE(e)}function qg(e,t){const{onStoppedNotification:i}=Jr;i&&yh.setTimeout(()=>i(e,t))}const EV={closed:!0,next:zg,error:function SV(e){throw e},complete:zg},Kg="function"==typeof Symbol&&Symbol.observable||"@@observable";function gr(e){return e}function fE(e){return 0===e.length?gr:1===e.length?e[0]:function(i){return e.reduce((n,s)=>s(n),i)}}let Qe=(()=>{class e{constructor(i){i&&(this._subscribe=i)}lift(i){const n=new e;return n.source=this,n.operator=i,n}subscribe(i,n,s){const r=function RV(e){return e&&e instanceof jg||function xV(e){return e&&Re(e.next)&&Re(e.error)&&Re(e.complete)}(e)&&uE(e)}(i)?i:new yd(i,n,s);return _h(()=>{const{operator:o,source:a}=this;r.add(o?o.call(r,a):a?this._subscribe(r):this._trySubscribe(r))}),r}_trySubscribe(i){try{return this._subscribe(i)}catch(n){i.error(n)}}forEach(i,n){return new(n=mE(n))((s,r)=>{const o=new yd({next:a=>{try{i(a)}catch(l){r(l),o.unsubscribe()}},error:r,complete:s});this.subscribe(o)})}_subscribe(i){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(i)}[Kg](){return this}pipe(...i){return fE(i)(this)}toPromise(i){return new(i=mE(i))((n,s)=>{let r;this.subscribe(o=>r=o,o=>s(o),()=>n(r))})}}return e.create=t=>new e(t),e})();function mE(e){var t;return null!==(t=e??Jr.Promise)&&void 0!==t?t:Promise}const TV=wd(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let _e=(()=>{class e extends Qe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(i){const n=new gE(this,this);return n.operator=i,n}_throwIfClosed(){if(this.closed)throw new TV}next(i){_h(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(i)}})}error(i){_h(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=i;const{observers:n}=this;for(;n.length;)n.shift().error(i)}})}complete(){_h(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:i}=this;for(;i.length;)i.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var i;return(null===(i=this.observers)||void 0===i?void 0:i.length)>0}_trySubscribe(i){return this._throwIfClosed(),super._trySubscribe(i)}_subscribe(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)}_innerSubscribe(i){const{hasError:n,isStopped:s,observers:r}=this;return n||s?cE:(this.currentObservers=null,r.push(i),new Vt(()=>{this.currentObservers=null,Ca(r,i)}))}_checkFinalizedStatuses(i){const{hasError:n,thrownError:s,isStopped:r}=this;n?i.error(s):r&&i.complete()}asObservable(){const i=new Qe;return i.source=this,i}}return e.create=(t,i)=>new gE(t,i),e})();class gE extends _e{constructor(t,i){super(),this.destination=t,this.source=i}next(t){var i,n;null===(n=null===(i=this.destination)||void 0===i?void 0:i.next)||void 0===n||n.call(i,t)}error(t){var i,n;null===(n=null===(i=this.destination)||void 0===i?void 0:i.error)||void 0===n||n.call(i,t)}complete(){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===i||i.call(t)}_subscribe(t){var i,n;return null!==(n=null===(i=this.source)||void 0===i?void 0:i.subscribe(t))&&void 0!==n?n:cE}}function vE(e){return Re(e?.lift)}function xt(e){return t=>{if(vE(t))return t.lift(function(i){try{return e(i,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function mt(e,t,i,n,s){return new AV(e,t,i,n,s)}class AV extends jg{constructor(t,i,n,s,r,o){super(t),this.onFinalize=r,this.shouldUnsubscribe=o,this._next=i?function(a){try{i(a)}catch(l){t.error(l)}}:super._next,this._error=s?function(a){try{s(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:i}=this;super.unsubscribe(),!i&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function ge(e,t){return xt((i,n)=>{let s=0;i.subscribe(mt(n,r=>{n.next(e.call(t,r,s++))}))})}function vr(e){return this instanceof vr?(this.v=e,this):new vr(e)}function yE(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Xg(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(r){i[r]=e[r]&&function(o){return new Promise(function(a,l){!function s(r,o,a,l){Promise.resolve(l).then(function(d){r({value:d,done:a})},o)}(a,l,(o=e[r](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Jg=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function _E(e){return Re(e?.then)}function SE(e){return Re(e[Kg])}function EE(e){return Symbol.asyncIterator&&Re(e?.[Symbol.asyncIterator])}function DE(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const xE=function ZV(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function RE(e){return Re(e?.[xE])}function TE(e){return function wE(e,t,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,n=i.apply(e,t||[]),r=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(p){n[p]&&(s[p]=function(m){return new Promise(function(v,C){r.push([p,m,v,C])>1||a(p,m)})})}function a(p,m){try{!function l(p){p.value instanceof vr?Promise.resolve(p.value.v).then(d,c):u(r[0][2],p)}(n[p](m))}catch(v){u(r[0][3],v)}}function d(p){a("next",p)}function c(p){a("throw",p)}function u(p,m){p(m),r.shift(),r.length&&a(r[0][0],r[0][1])}}(this,arguments,function*(){const i=e.getReader();try{for(;;){const{value:n,done:s}=yield vr(i.read());if(s)return yield vr(void 0);yield yield vr(n)}}finally{i.releaseLock()}})}function AE(e){return Re(e?.getReader)}function wi(e){if(e instanceof Qe)return e;if(null!=e){if(SE(e))return function XV(e){return new Qe(t=>{const i=e[Kg]();if(Re(i.subscribe))return i.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Jg(e))return function JV(e){return new Qe(t=>{for(let i=0;i<e.length&&!t.closed;i++)t.next(e[i]);t.complete()})}(e);if(_E(e))return function eG(e){return new Qe(t=>{e.then(i=>{t.closed||(t.next(i),t.complete())},i=>t.error(i)).then(null,pE)})}(e);if(EE(e))return ME(e);if(RE(e))return function tG(e){return new Qe(t=>{for(const i of e)if(t.next(i),t.closed)return;t.complete()})}(e);if(AE(e))return function iG(e){return ME(TE(e))}(e)}throw DE(e)}function ME(e){return new Qe(t=>{(function nG(e,t){var i,n,s,r;return function CE(e,t,i,n){return new(i||(i=Promise))(function(r,o){function a(c){try{d(n.next(c))}catch(u){o(u)}}function l(c){try{d(n.throw(c))}catch(u){o(u)}}function d(c){c.done?r(c.value):function s(r){return r instanceof i?r:new i(function(o){o(r)})}(c.value).then(a,l)}d((n=n.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(i=yE(e);!(n=yield i.next()).done;)if(t.next(n.value),t.closed)return}catch(o){s={error:o}}finally{try{n&&!n.done&&(r=i.return)&&(yield r.call(i))}finally{if(s)throw s.error}}t.complete()})})(e,t).catch(i=>t.error(i))})}function Vs(e,t,i,n=0,s=!1){const r=t.schedule(function(){i(),s?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(r),!s)return r}function qt(e,t,i=1/0){return Re(t)?qt((n,s)=>ge((r,o)=>t(n,r,s,o))(wi(e(n,s))),i):("number"==typeof t&&(i=t),xt((n,s)=>function sG(e,t,i,n,s,r,o,a){const l=[];let d=0,c=0,u=!1;const p=()=>{u&&!l.length&&!d&&t.complete()},m=C=>d<n?v(C):l.push(C),v=C=>{r&&t.next(C),d++;let b=!1;wi(i(C,c++)).subscribe(mt(t,y=>{s?.(y),r?m(y):t.next(y)},()=>{b=!0},void 0,()=>{if(b)try{for(d--;l.length&&d<n;){const y=l.shift();o?Vs(t,o,()=>v(y)):v(y)}p()}catch(y){t.error(y)}}))};return e.subscribe(mt(t,m,()=>{u=!0,p()})),()=>{a?.()}}(n,s,e,i)))}function ba(e=1/0){return qt(gr,e)}const Gn=new Qe(e=>e.complete());function IE(e){return e&&Re(e.schedule)}function ev(e){return e[e.length-1]}function FE(e){return Re(ev(e))?e.pop():void 0}function _d(e){return IE(ev(e))?e.pop():void 0}function OE(e,t=0){return xt((i,n)=>{i.subscribe(mt(n,s=>Vs(n,e,()=>n.next(s),t),()=>Vs(n,e,()=>n.complete(),t),s=>Vs(n,e,()=>n.error(s),t)))})}function PE(e,t=0){return xt((i,n)=>{n.add(e.schedule(()=>i.subscribe(n),t))})}function LE(e,t){if(!e)throw new Error("Iterable cannot be null");return new Qe(i=>{Vs(i,t,()=>{const n=e[Symbol.asyncIterator]();Vs(i,t,()=>{n.next().then(s=>{s.done?i.complete():i.next(s.value)})},0,!0)})})}function Kt(e,t){return t?function hG(e,t){if(null!=e){if(SE(e))return function aG(e,t){return wi(e).pipe(PE(t),OE(t))}(e,t);if(Jg(e))return function dG(e,t){return new Qe(i=>{let n=0;return t.schedule(function(){n===e.length?i.complete():(i.next(e[n++]),i.closed||this.schedule())})})}(e,t);if(_E(e))return function lG(e,t){return wi(e).pipe(PE(t),OE(t))}(e,t);if(EE(e))return LE(e,t);if(RE(e))return function cG(e,t){return new Qe(i=>{let n;return Vs(i,t,()=>{n=e[xE](),Vs(i,t,()=>{let s,r;try{({value:s,done:r}=n.next())}catch(o){return void i.error(o)}r?i.complete():i.next(s)},0,!0)}),()=>Re(n?.return)&&n.return()})}(e,t);if(AE(e))return function uG(e,t){return LE(TE(e),t)}(e,t)}throw DE(e)}(e,t):wi(e)}function Eh(...e){const t=_d(e),i=function oG(e,t){return"number"==typeof ev(e)?e.pop():t}(e,1/0),n=e;return n.length?1===n.length?wi(n[0]):ba(i)(Kt(n,t)):Gn}class Xi extends _e{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const i=super._subscribe(t);return!i.closed&&t.next(this._value),i}getValue(){const{hasError:t,thrownError:i,_value:n}=this;if(t)throw i;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}}function Q(...e){return Kt(e,_d(e))}function Dh(e={}){const{connector:t=(()=>new _e),resetOnError:i=!0,resetOnComplete:n=!0,resetOnRefCountZero:s=!0}=e;return r=>{let o,a,l,d=0,c=!1,u=!1;const p=()=>{a?.unsubscribe(),a=void 0},m=()=>{p(),o=l=void 0,c=u=!1},v=()=>{const C=o;m(),C?.unsubscribe()};return xt((C,b)=>{d++,!u&&!c&&p();const y=l=l??t();b.add(()=>{d--,0===d&&!u&&!c&&(a=tv(v,s))}),y.subscribe(b),!o&&d>0&&(o=new yd({next:w=>y.next(w),error:w=>{u=!0,p(),a=tv(m,i,w),y.error(w)},complete:()=>{c=!0,p(),a=tv(m,n),y.complete()}}),wi(C).subscribe(o))})(r)}}function tv(e,t,...i){if(!0===t)return void e();if(!1===t)return;const n=new yd({next:()=>{n.unsubscribe(),e()}});return wi(t(...i)).subscribe(n)}function ls(e,t){return xt((i,n)=>{let s=null,r=0,o=!1;const a=()=>o&&!s&&n.complete();i.subscribe(mt(n,l=>{s?.unsubscribe();let d=0;const c=r++;wi(e(l,c)).subscribe(s=mt(n,u=>n.next(t?t(l,u,c,d++):u),()=>{s=null,a()}))},()=>{o=!0,a()}))})}function iv(e,t=gr){return e=e??pG,xt((i,n)=>{let s,r=!0;i.subscribe(mt(n,o=>{const a=t(o);(r||!e(s,a))&&(r=!1,s=a,n.next(o))}))})}function pG(e,t){return e===t}function je(e){for(let t in e)if(e[t]===je)return t;throw Error("Could not find renamed property on target object.")}function xh(e,t){for(const i in t)t.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=t[i])}function Gt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Gt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const i=t.indexOf("\n");return-1===i?t:t.substring(0,i)}function nv(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const fG=je({__forward_ref__:je});function $e(e){return e.__forward_ref__=$e,e.toString=function(){return Gt(this())},e}function oe(e){return sv(e)?e():e}function sv(e){return"function"==typeof e&&e.hasOwnProperty(fG)&&e.__forward_ref__===$e}function rv(e){return e&&!!e.\u0275providers}const NE="https://g.co/ng/security#xss";class x extends Error{constructor(t,i){super(function Rh(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,i)),this.code=t}}function ae(e){return"string"==typeof e?e:null==e?"":String(e)}function ov(e,t){throw new x(-201,!1)}function Cn(e,t){null==e&&function se(e,t,i,n){throw new Error(`ASSERTION ERROR: ${e}`+(null==n?"":` [Expected=> ${i} ${n} ${t} <=Actual]`))}(t,e,null,"!=")}function H(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function qe(e){return{providers:e.providers||[],imports:e.imports||[]}}function Th(e){return kE(e,Mh)||kE(e,VE)}function kE(e,t){return e.hasOwnProperty(t)?e[t]:null}function Ah(e){return e&&(e.hasOwnProperty(av)||e.hasOwnProperty(_G))?e[av]:null}const Mh=je({\u0275prov:je}),av=je({\u0275inj:je}),VE=je({ngInjectableDef:je}),_G=je({ngInjectorDef:je});var Se=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Se||{});let lv;function GE(){return lv}function ki(e){const t=lv;return lv=e,t}function HE(e,t,i){const n=Th(e);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:i&Se.Optional?null:void 0!==t?t:void ov(Gt(e))}const tt=globalThis;class O{constructor(t,i){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=H({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Sd={},pv="__NG_DI_FLAG__",Ih="ngTempTokenPath",DG=/\n/gm,UE="__source";let wa;function Cr(e){const t=wa;return wa=e,t}function TG(e,t=Se.Default){if(void 0===wa)throw new x(-203,!1);return null===wa?HE(e,void 0,t):wa.get(e,t&Se.Optional?null:void 0,t)}function P(e,t=Se.Default){return(GE()||TG)(oe(e),t)}function G(e,t=Se.Default){return P(e,Fh(t))}function Fh(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function fv(e){const t=[];for(let i=0;i<e.length;i++){const n=oe(e[i]);if(Array.isArray(n)){if(0===n.length)throw new x(900,!1);let s,r=Se.Default;for(let o=0;o<n.length;o++){const a=n[o],l=AG(a);"number"==typeof l?-1===l?s=a.token:r|=l:s=a}t.push(P(s,r))}else t.push(P(n))}return t}function Ed(e,t){return e[pv]=t,e.prototype[pv]=t,e}function AG(e){return e[pv]}function Gs(e){return{toString:e}.toString()}var Oh=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Oh||{}),bn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(bn||{});const ds={},Ne=[],Ph=je({\u0275cmp:je}),mv=je({\u0275dir:je}),gv=je({\u0275pipe:je}),WE=je({\u0275mod:je}),Hs=je({\u0275fac:je}),Dd=je({__NG_ELEMENT_ID__:je}),jE=je({__NG_ENV_ID__:je});function $E(e,t,i){let n=e.length;for(;;){const s=e.indexOf(t,i);if(-1===s)return s;if(0===s||e.charCodeAt(s-1)<=32){const r=t.length;if(s+r===n||e.charCodeAt(s+r)<=32)return s}i=s+1}}function vv(e,t,i){let n=0;for(;n<i.length;){const s=i[n];if("number"==typeof s){if(0!==s)break;n++;const r=i[n++],o=i[n++],a=i[n++];e.setAttribute(t,o,a,r)}else{const r=s,o=i[++n];KE(r)?e.setProperty(t,r,o):e.setAttribute(t,r,o),n++}}return n}function qE(e){return 3===e||4===e||6===e}function KE(e){return 64===e.charCodeAt(0)}function xd(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let i=-1;for(let n=0;n<t.length;n++){const s=t[n];"number"==typeof s?i=s:0===i||YE(e,i,s,null,-1===i||2===i?t[++n]:null)}}return e}function YE(e,t,i,n,s){let r=0,o=e.length;if(-1===t)o=-1;else for(;r<e.length;){const a=e[r++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=r-1;break}}}for(;r<e.length;){const a=e[r];if("number"==typeof a)break;if(a===i){if(null===n)return void(null!==s&&(e[r+1]=s));if(n===e[r+1])return void(e[r+2]=s)}r++,null!==n&&r++,null!==s&&r++}-1!==o&&(e.splice(o,0,t),r=o+1),e.splice(r++,0,i),null!==n&&e.splice(r++,0,n),null!==s&&e.splice(r++,0,s)}const QE="ng-template";function FG(e,t,i){let n=0,s=!0;for(;n<e.length;){let r=e[n++];if("string"==typeof r&&s){const o=e[n++];if(i&&"class"===r&&-1!==$E(o.toLowerCase(),t,0))return!0}else{if(1===r){for(;n<e.length&&"string"==typeof(r=e[n++]);)if(r.toLowerCase()===t)return!0;return!1}"number"==typeof r&&(s=!1)}}return!1}function ZE(e){return 4===e.type&&e.value!==QE}function OG(e,t,i){return t===(4!==e.type||i?e.value:QE)}function PG(e,t,i){let n=4;const s=e.attrs||[],r=function kG(e){for(let t=0;t<e.length;t++)if(qE(e[t]))return t;return e.length}(s);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&n){if(n=2|1&n,""!==l&&!OG(e,l,i)||""===l&&1===t.length){if(Hn(n))return!1;o=!0}}else{const d=8&n?l:t[++a];if(8&n&&null!==e.attrs){if(!FG(e.attrs,d,i)){if(Hn(n))return!1;o=!0}continue}const u=LG(8&n?"class":l,s,ZE(e),i);if(-1===u){if(Hn(n))return!1;o=!0;continue}if(""!==d){let p;p=u>r?"":s[u+1].toLowerCase();const m=8&n?p:null;if(m&&-1!==$E(m,d,0)||2&n&&d!==p){if(Hn(n))return!1;o=!0}}}}else{if(!o&&!Hn(n)&&!Hn(l))return!1;if(o&&Hn(l))continue;o=!1,n=l|1&n}}return Hn(n)||o}function Hn(e){return 0==(1&e)}function LG(e,t,i,n){if(null===t)return-1;let s=0;if(n||!i){let r=!1;for(;s<t.length;){const o=t[s];if(o===e)return s;if(3===o||6===o)r=!0;else{if(1===o||2===o){let a=t[++s];for(;"string"==typeof a;)a=t[++s];continue}if(4===o)break;if(0===o){s+=4;continue}}s+=r?1:2}return-1}return function VG(e,t){let i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){const n=e[i];if("number"==typeof n)return-1;if(n===t)return i;i++}return-1}(t,e)}function XE(e,t,i=!1){for(let n=0;n<t.length;n++)if(PG(e,t[n],i))return!0;return!1}function GG(e,t){e:for(let i=0;i<t.length;i++){const n=t[i];if(e.length===n.length){for(let s=0;s<e.length;s++)if(e[s]!==n[s])continue e;return!0}}return!1}function JE(e,t){return e?":not("+t.trim()+")":t}function HG(e){let t=e[0],i=1,n=2,s="",r=!1;for(;i<e.length;){let o=e[i];if("string"==typeof o)if(2&n){const a=e[++i];s+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&n?s+="."+o:4&n&&(s+=" "+o);else""!==s&&!Hn(o)&&(t+=JE(r,s),s=""),n=o,r=r||!Hn(n);i++}return""!==s&&(t+=JE(r,s)),t}function gt(e){return Gs(()=>{const t=tD(e),i={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Oh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||bn.Emulated,styles:e.styles||Ne,_:null,schemas:e.schemas||null,tView:null,id:""};iD(i);const n=e.dependencies;return i.directiveDefs=Lh(n,!1),i.pipeDefs=Lh(n,!0),i.id=function KG(e){let t=0;const i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const s of i)t=Math.imul(31,t)+s.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(i),i})}function WG(e){return Me(e)||ii(e)}function jG(e){return null!==e}function Ze(e){return Gs(()=>({type:e.type,bootstrap:e.bootstrap||Ne,declarations:e.declarations||Ne,imports:e.imports||Ne,exports:e.exports||Ne,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function eD(e,t){if(null==e)return ds;const i={};for(const n in e)if(e.hasOwnProperty(n)){let s=e[n],r=s;Array.isArray(s)&&(r=s[1],s=s[0]),i[s]=n,t&&(t[s]=r)}return i}function U(e){return Gs(()=>{const t=tD(e);return iD(t),t})}function Vi(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Me(e){return e[Ph]||null}function ii(e){return e[mv]||null}function yi(e){return e[gv]||null}function en(e,t){const i=e[WE]||null;if(!i&&!0===t)throw new Error(`Type ${Gt(e)} does not have '\u0275mod' property.`);return i}function tD(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||ds,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Ne,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:eD(e.inputs,t),outputs:eD(e.outputs)}}function iD(e){e.features?.forEach(t=>t(e))}function Lh(e,t){if(!e)return null;const i=t?yi:WG;return()=>("function"==typeof e?e():e).map(n=>i(n)).filter(jG)}const yt=0,B=1,pe=2,ut=3,Bn=4,Rd=5,di=6,_a=7,Rt=8,br=9,Sa=10,le=11,Td=12,nD=13,Ea=14,Tt=15,Ad=16,Da=17,cs=18,Md=19,sD=20,wr=21,Bs=22,Id=23,Fd=24,Ee=25,Cv=1,rD=2,us=7,xa=9,ni=11;function Gi(e){return Array.isArray(e)&&"object"==typeof e[Cv]}function _i(e){return Array.isArray(e)&&!0===e[Cv]}function bv(e){return 0!=(4&e.flags)}function io(e){return e.componentOffset>-1}function kh(e){return 1==(1&e.flags)}function Un(e){return!!e.template}function wv(e){return 0!=(512&e[pe])}function no(e,t){return e.hasOwnProperty(Hs)?e[Hs]:null}let si=null,Vh=!1;function wn(e){const t=si;return si=e,t}const lD={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function cD(e){if(!Pd(e)||e.dirty){if(!e.producerMustRecompute(e)&&!pD(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function hD(e){e.dirty=!0,function uD(e){if(void 0===e.liveConsumerNode)return;const t=Vh;Vh=!0;try{for(const i of e.liveConsumerNode)i.dirty||hD(i)}finally{Vh=t}}(e),e.consumerMarkedDirty?.(e)}function _v(e){return e&&(e.nextProducerIndex=0),wn(e)}function Sv(e,t){if(wn(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Pd(e))for(let i=e.nextProducerIndex;i<e.producerNode.length;i++)Gh(e.producerNode[i],e.producerIndexOfThis[i]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function pD(e){Ra(e);for(let t=0;t<e.producerNode.length;t++){const i=e.producerNode[t],n=e.producerLastReadVersion[t];if(n!==i.version||(cD(i),n!==i.version))return!0}return!1}function fD(e){if(Ra(e),Pd(e))for(let t=0;t<e.producerNode.length;t++)Gh(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Gh(e,t){if(function gD(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Ra(e),1===e.liveConsumerNode.length)for(let n=0;n<e.producerNode.length;n++)Gh(e.producerNode[n],e.producerIndexOfThis[n]);const i=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[i],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[i],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const n=e.liveConsumerIndexOfThis[t],s=e.liveConsumerNode[t];Ra(s),s.producerIndexOfThis[n]=t}}function Pd(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Ra(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let vD=null;function wD(e){const t=wn(null);try{return e()}finally{wn(t)}}const yD=()=>{},aH=(()=>({...lD,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:yD}))();class lH{constructor(t,i,n){this.previousValue=t,this.currentValue=i,this.firstChange=n}isFirstChange(){return this.firstChange}}function Si(){return _D}function _D(e){return e.type.prototype.ngOnChanges&&(e.setInput=cH),dH}function dH(){const e=ED(this),t=e?.current;if(t){const i=e.previous;if(i===ds)e.previous=t;else for(let n in t)i[n]=t[n];e.current=null,this.ngOnChanges(t)}}function cH(e,t,i,n){const s=this.declaredInputs[i],r=ED(e)||function uH(e,t){return e[SD]=t}(e,{previous:ds,current:null}),o=r.current||(r.current={}),a=r.previous,l=a[s];o[s]=new lH(l&&l.currentValue,t,a===ds),e[n]=t}Si.ngInherit=!0;const SD="__ngSimpleChanges__";function ED(e){return e[SD]||null}const hs=function(e,t,i){};function it(e){for(;Array.isArray(e);)e=e[yt];return e}function Hh(e,t){return it(t[e])}function Hi(e,t){return it(t[e.index])}function RD(e,t){return e.data[t]}function Ta(e,t){return e[t]}function tn(e,t){const i=t[e];return Gi(i)?i:i[yt]}function _r(e,t){return null==t?null:e[t]}function TD(e){e[Da]=0}function vH(e){1024&e[pe]||(e[pe]|=1024,MD(e,1))}function AD(e){1024&e[pe]&&(e[pe]&=-1025,MD(e,-1))}function MD(e,t){let i=e[ut];if(null===i)return;i[Rd]+=t;let n=i;for(i=i[ut];null!==i&&(1===t&&1===n[Rd]||-1===t&&0===n[Rd]);)i[Rd]+=t,n=i,i=i[ut]}function ID(e,t){if(256==(256&e[pe]))throw new x(911,!1);null===e[wr]&&(e[wr]=[]),e[wr].push(t)}const re={lFrame:BD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function OD(){return re.bindingsEnabled}function Aa(){return null!==re.skipHydrationRootTNode}function F(){return re.lFrame.lView}function Ie(){return re.lFrame.tView}function Ma(e){return re.lFrame.contextLView=e,e[Rt]}function Ia(e){return re.lFrame.contextLView=null,e}function ri(){let e=PD();for(;null!==e&&64===e.type;)e=e.parent;return e}function PD(){return re.lFrame.currentTNode}function ps(e,t){const i=re.lFrame;i.currentTNode=e,i.isParent=t}function Tv(){return re.lFrame.isParent}function Av(){re.lFrame.isParent=!1}function Ei(){const e=re.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Fa(){return re.lFrame.bindingIndex++}function zs(e){const t=re.lFrame,i=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,i}function AH(e,t){const i=re.lFrame;i.bindingIndex=i.bindingRootIndex=e,Mv(t)}function Mv(e){re.lFrame.currentDirectiveIndex=e}function Iv(e){const t=re.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function VD(){return re.lFrame.currentQueryIndex}function Fv(e){re.lFrame.currentQueryIndex=e}function IH(e){const t=e[B];return 2===t.type?t.declTNode:1===t.type?e[di]:null}function GD(e,t,i){if(i&Se.SkipSelf){let s=t,r=e;for(;!(s=s.parent,null!==s||i&Se.Host||(s=IH(r),null===s||(r=r[Ea],10&s.type))););if(null===s)return!1;t=s,e=r}const n=re.lFrame=HD();return n.currentTNode=t,n.lView=e,!0}function Ov(e){const t=HD(),i=e[B];re.lFrame=t,t.currentTNode=i.firstChild,t.lView=e,t.tView=i,t.contextLView=e,t.bindingIndex=i.bindingStartIndex,t.inI18n=!1}function HD(){const e=re.lFrame,t=null===e?null:e.child;return null===t?BD(e):t}function BD(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function UD(){const e=re.lFrame;return re.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const zD=UD;function Pv(){const e=UD();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Di(){return re.lFrame.selectedIndex}function so(e){re.lFrame.selectedIndex=e}function vt(){const e=re.lFrame;return RD(e.tView,e.selectedIndex)}let qD=!0;function Bh(){return qD}function Sr(e){qD=e}function Uh(e,t){for(let i=t.directiveStart,n=t.directiveEnd;i<n;i++){const r=e.data[i].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:c}=r;o&&(e.contentHooks??=[]).push(-i,o),a&&((e.contentHooks??=[]).push(i,a),(e.contentCheckHooks??=[]).push(i,a)),l&&(e.viewHooks??=[]).push(-i,l),d&&((e.viewHooks??=[]).push(i,d),(e.viewCheckHooks??=[]).push(i,d)),null!=c&&(e.destroyHooks??=[]).push(i,c)}}function zh(e,t,i){KD(e,t,3,i)}function Wh(e,t,i,n){(3&e[pe])===i&&KD(e,t,i,n)}function Lv(e,t){let i=e[pe];(3&i)===t&&(i&=8191,i+=1,e[pe]=i)}function KD(e,t,i,n){const r=n??-1,o=t.length-1;let a=0;for(let l=void 0!==n?65535&e[Da]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=n&&a>=n)break}else t[l]<0&&(e[Da]+=65536),(a<r||-1==r)&&(kH(e,i,t,l),e[Da]=(4294901760&e[Da])+l+2),l++}function YD(e,t){hs(4,e,t);const i=wn(null);try{t.call(e)}finally{wn(i),hs(5,e,t)}}function kH(e,t,i,n){const s=i[n]<0,r=i[n+1],a=e[s?-i[n]:i[n]];s?e[pe]>>13<e[Da]>>16&&(3&e[pe])===t&&(e[pe]+=8192,YD(a,r)):YD(a,r)}const Oa=-1;class Nd{constructor(t,i,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=n}}function kv(e){return e!==Oa}function kd(e){return 32767&e}function Vd(e,t){let i=function BH(e){return e>>16}(e),n=t;for(;i>0;)n=n[Ea],i--;return n}let Vv=!0;function jh(e){const t=Vv;return Vv=e,t}const QD=255,ZD=5;let UH=0;const fs={};function $h(e,t){const i=XD(e,t);if(-1!==i)return i;const n=t[B];n.firstCreatePass&&(e.injectorIndex=t.length,Gv(n.data,e),Gv(t,null),Gv(n.blueprint,null));const s=qh(e,t),r=e.injectorIndex;if(kv(s)){const o=kd(s),a=Vd(s,t),l=a[B].data;for(let d=0;d<8;d++)t[r+d]=a[o+d]|l[o+d]}return t[r+8]=s,r}function Gv(e,t){e.push(0,0,0,0,0,0,0,0,t)}function XD(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function qh(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let i=0,n=null,s=t;for(;null!==s;){if(n=rx(s),null===n)return Oa;if(i++,s=s[Ea],-1!==n.injectorIndex)return n.injectorIndex|i<<16}return Oa}function Hv(e,t,i){!function zH(e,t,i){let n;"string"==typeof i?n=i.charCodeAt(0)||0:i.hasOwnProperty(Dd)&&(n=i[Dd]),null==n&&(n=i[Dd]=UH++);const s=n&QD;t.data[e+(s>>ZD)]|=1<<s}(e,t,i)}function JD(e,t,i){if(i&Se.Optional||void 0!==e)return e;ov()}function ex(e,t,i,n){if(i&Se.Optional&&void 0===n&&(n=null),!(i&(Se.Self|Se.Host))){const s=e[br],r=ki(void 0);try{return s?s.get(t,n,i&Se.Optional):HE(t,n,i&Se.Optional)}finally{ki(r)}}return JD(n,0,i)}function tx(e,t,i,n=Se.Default,s){if(null!==e){if(2048&t[pe]&&!(n&Se.Self)){const o=function YH(e,t,i,n,s){let r=e,o=t;for(;null!==r&&null!==o&&2048&o[pe]&&!(512&o[pe]);){const a=ix(r,o,i,n|Se.Self,fs);if(a!==fs)return a;let l=r.parent;if(!l){const d=o[sD];if(d){const c=d.get(i,fs,n);if(c!==fs)return c}l=rx(o),o=o[Ea]}r=l}return s}(e,t,i,n,fs);if(o!==fs)return o}const r=ix(e,t,i,n,fs);if(r!==fs)return r}return ex(t,i,n,s)}function ix(e,t,i,n,s){const r=function $H(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Dd)?e[Dd]:void 0;return"number"==typeof t?t>=0?t&QD:KH:t}(i);if("function"==typeof r){if(!GD(t,e,n))return n&Se.Host?JD(s,0,n):ex(t,i,n,s);try{let o;if(o=r(n),null!=o||n&Se.Optional)return o;ov()}finally{zD()}}else if("number"==typeof r){let o=null,a=XD(e,t),l=Oa,d=n&Se.Host?t[Tt][di]:null;for((-1===a||n&Se.SkipSelf)&&(l=-1===a?qh(e,t):t[a+8],l!==Oa&&sx(n,!1)?(o=t[B],a=kd(l),t=Vd(l,t)):a=-1);-1!==a;){const c=t[B];if(nx(r,a,c.data)){const u=jH(a,t,i,o,n,d);if(u!==fs)return u}l=t[a+8],l!==Oa&&sx(n,t[B].data[a+8]===d)&&nx(r,a,t)?(o=c,a=kd(l),t=Vd(l,t)):a=-1}}return s}function jH(e,t,i,n,s,r){const o=t[B],a=o.data[e+8],c=Kh(a,o,i,null==n?io(a)&&Vv:n!=o&&0!=(3&a.type),s&Se.Host&&r===a);return null!==c?ro(t,o,c,a):fs}function Kh(e,t,i,n,s){const r=e.providerIndexes,o=t.data,a=1048575&r,l=e.directiveStart,c=r>>20,p=s?a+c:e.directiveEnd;for(let m=n?a:a+c;m<p;m++){const v=o[m];if(m<l&&i===v||m>=l&&v.type===i)return m}if(s){const m=o[l];if(m&&Un(m)&&m.type===i)return l}return null}function ro(e,t,i,n){let s=e[i];const r=t.data;if(function VH(e){return e instanceof Nd}(s)){const o=s;o.resolving&&function mG(e,t){const i=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new x(-200,`Circular dependency in DI detected for ${e}${i}`)}(function Ue(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ae(e)}(r[i]));const a=jh(o.canSeeViewProviders);o.resolving=!0;const d=o.injectImpl?ki(o.injectImpl):null;GD(e,n,Se.Default);try{s=e[i]=o.factory(void 0,r,e,n),t.firstCreatePass&&i>=n.directiveStart&&function NH(e,t,i){const{ngOnChanges:n,ngOnInit:s,ngDoCheck:r}=t.type.prototype;if(n){const o=_D(t);(i.preOrderHooks??=[]).push(e,o),(i.preOrderCheckHooks??=[]).push(e,o)}s&&(i.preOrderHooks??=[]).push(0-e,s),r&&((i.preOrderHooks??=[]).push(e,r),(i.preOrderCheckHooks??=[]).push(e,r))}(i,r[i],t)}finally{null!==d&&ki(d),jh(a),o.resolving=!1,zD()}}return s}function nx(e,t,i){return!!(i[t+(e>>ZD)]&1<<e)}function sx(e,t){return!(e&Se.Self||e&Se.Host&&t)}class xi{constructor(t,i){this._tNode=t,this._lView=i}get(t,i,n){return tx(this._tNode,this._lView,t,Fh(n),i)}}function KH(){return new xi(ri(),F())}function Ct(e){return Gs(()=>{const t=e.prototype.constructor,i=t[Hs]||Bv(t),n=Object.prototype;let s=Object.getPrototypeOf(e.prototype).constructor;for(;s&&s!==n;){const r=s[Hs]||Bv(s);if(r&&r!==i)return r;s=Object.getPrototypeOf(s)}return r=>new r})}function Bv(e){return sv(e)?()=>{const t=Bv(oe(e));return t&&t()}:no(e)}function rx(e){const t=e[B],i=t.type;return 2===i?t.declTNode:1===i?e[di]:null}function Hd(e){return function WH(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const i=e.attrs;if(i){const n=i.length;let s=0;for(;s<n;){const r=i[s];if(qE(r))break;if(0===r)s+=2;else if("number"==typeof r)for(s++;s<n&&"string"==typeof i[s];)s++;else{if(r===t)return i[s+1];s+=2}}}return null}(ri(),e)}const La="__parameters__";function ka(e,t,i){return Gs(()=>{const n=function Uv(e){return function(...i){if(e){const n=e(...i);for(const s in n)this[s]=n[s]}}}(t);function s(...r){if(this instanceof s)return n.apply(this,r),this;const o=new s(...r);return a.annotation=o,a;function a(l,d,c){const u=l.hasOwnProperty(La)?l[La]:Object.defineProperty(l,La,{value:[]})[La];for(;u.length<=c;)u.push(null);return(u[c]=u[c]||[]).push(o),l}}return i&&(s.prototype=Object.create(i.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}function Ga(e,t){e.forEach(i=>Array.isArray(i)?Ga(i,t):t(i))}function ax(e,t,i){t>=e.length?e.push(i):e.splice(t,0,i)}function Yh(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Ud(e,t){const i=[];for(let n=0;n<e;n++)i.push(t);return i}function nn(e,t,i){let n=Ha(e,t);return n>=0?e[1|n]=i:(n=~n,function iB(e,t,i,n){let s=e.length;if(s==t)e.push(i,n);else if(1===s)e.push(n,e[0]),e[0]=i;else{for(s--,e.push(e[s-1],e[s]);s>t;)e[s]=e[s-2],s--;e[t]=i,e[t+1]=n}}(e,n,t,i)),n}function zv(e,t){const i=Ha(e,t);if(i>=0)return e[1|i]}function Ha(e,t){return function lx(e,t,i){let n=0,s=e.length>>i;for(;s!==n;){const r=n+(s-n>>1),o=e[r<<i];if(t===o)return r<<i;o>t?s=r:n=r+1}return~(s<<i)}(e,t,1)}const oo=Ed(ka("Optional"),8),zd=Ed(ka("SkipSelf"),4);function tp(e){return 128==(128&e.flags)}var Er=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Er||{});const Kv=new Map;let xB=0;const Qv="__ngContext__";function ci(e,t){Gi(t)?(e[Qv]=t[Md],function TB(e){Kv.set(e[Md],e)}(t)):e[Qv]=t}let Zv;function Xv(e,t){return Zv(e,t)}function $d(e){const t=e[ut];return _i(t)?t[ut]:t}function Tx(e){return Mx(e[Td])}function Ax(e){return Mx(e[Bn])}function Mx(e){for(;null!==e&&!_i(e);)e=e[Bn];return e}function za(e,t,i,n,s){if(null!=n){let r,o=!1;_i(n)?r=n:Gi(n)&&(o=!0,n=n[yt]);const a=it(n);0===e&&null!==i?null==s?Px(t,i,a):ao(t,i,a,s||null,!0):1===e&&null!==i?ao(t,i,a,s||null,!0):2===e?function lp(e,t,i){const n=op(e,t);n&&function qB(e,t,i,n){e.removeChild(t,i,n)}(e,n,t,i)}(t,a,o):3===e&&t.destroyNode(a),null!=r&&function QB(e,t,i,n,s){const r=i[us];r!==it(i)&&za(t,e,n,r,s);for(let a=ni;a<i.length;a++){const l=i[a];Kd(l[B],l,e,t,n,r)}}(t,e,r,i,s)}}function sp(e,t,i){return e.createElement(t,i)}function Fx(e,t){const i=e[xa],n=i.indexOf(t);AD(t),i.splice(n,1)}function rp(e,t){if(e.length<=ni)return;const i=ni+t,n=e[i];if(n){const s=n[Ad];null!==s&&s!==e&&Fx(s,n),t>0&&(e[i-1][Bn]=n[Bn]);const r=Yh(e,ni+t);!function GB(e,t){Kd(e,t,t[le],2,null,null),t[yt]=null,t[di]=null}(n[B],n);const o=r[cs];null!==o&&o.detachView(r[B]),n[ut]=null,n[Bn]=null,n[pe]&=-129}return n}function eC(e,t){if(!(256&t[pe])){const i=t[le];t[Id]&&fD(t[Id]),t[Fd]&&fD(t[Fd]),i.destroyNode&&Kd(e,t,i,3,null,null),function UB(e){let t=e[Td];if(!t)return tC(e[B],e);for(;t;){let i=null;if(Gi(t))i=t[Td];else{const n=t[ni];n&&(i=n)}if(!i){for(;t&&!t[Bn]&&t!==e;)Gi(t)&&tC(t[B],t),t=t[ut];null===t&&(t=e),Gi(t)&&tC(t[B],t),i=t&&t[Bn]}t=i}}(t)}}function tC(e,t){if(!(256&t[pe])){t[pe]&=-129,t[pe]|=256,function $B(e,t){let i;if(null!=e&&null!=(i=e.destroyHooks))for(let n=0;n<i.length;n+=2){const s=t[i[n]];if(!(s instanceof Nd)){const r=i[n+1];if(Array.isArray(r))for(let o=0;o<r.length;o+=2){const a=s[r[o]],l=r[o+1];hs(4,a,l);try{l.call(a)}finally{hs(5,a,l)}}else{hs(4,s,r);try{r.call(s)}finally{hs(5,s,r)}}}}}(e,t),function jB(e,t){const i=e.cleanup,n=t[_a];if(null!==i)for(let r=0;r<i.length-1;r+=2)if("string"==typeof i[r]){const o=i[r+3];o>=0?n[o]():n[-o].unsubscribe(),r+=2}else i[r].call(n[i[r+1]]);null!==n&&(t[_a]=null);const s=t[wr];if(null!==s){t[wr]=null;for(let r=0;r<s.length;r++)(0,s[r])()}}(e,t),1===t[B].type&&t[le].destroy();const i=t[Ad];if(null!==i&&_i(t[ut])){i!==t[ut]&&Fx(i,t);const n=t[cs];null!==n&&n.detachView(e)}!function AB(e){Kv.delete(e[Md])}(t)}}function iC(e,t,i){return function Ox(e,t,i){let n=t;for(;null!==n&&40&n.type;)n=(t=n).parent;if(null===n)return i[yt];{const{componentOffset:s}=n;if(s>-1){const{encapsulation:r}=e.data[n.directiveStart+s];if(r===bn.None||r===bn.Emulated)return null}return Hi(n,i)}}(e,t.parent,i)}function ao(e,t,i,n,s){e.insertBefore(t,i,n,s)}function Px(e,t,i){e.appendChild(t,i)}function Lx(e,t,i,n,s){null!==n?ao(e,t,i,n,s):Px(e,t,i)}function op(e,t){return e.parentNode(t)}function Nx(e,t,i){return Vx(e,t,i)}let nC,dp,aC,cp,Vx=function kx(e,t,i){return 40&e.type?Hi(e,i):null};function ap(e,t,i,n){const s=iC(e,n,t),r=t[le],a=Nx(n.parent||t[di],n,t);if(null!=s)if(Array.isArray(i))for(let l=0;l<i.length;l++)Lx(r,s,i[l],a,!1);else Lx(r,s,i,a,!1);void 0!==nC&&nC(r,n,t,i,s)}function qd(e,t){if(null!==t){const i=t.type;if(3&i)return Hi(t,e);if(4&i)return sC(-1,e[t.index]);if(8&i){const n=t.child;if(null!==n)return qd(e,n);{const s=e[t.index];return _i(s)?sC(-1,s):it(s)}}if(32&i)return Xv(t,e)()||it(e[t.index]);{const n=Hx(e,t);return null!==n?Array.isArray(n)?n[0]:qd($d(e[Tt]),n):qd(e,t.next)}}return null}function Hx(e,t){return null!==t?e[Tt][di].projection[t.projection]:null}function sC(e,t){const i=ni+e+1;if(i<t.length){const n=t[i],s=n[B].firstChild;if(null!==s)return qd(n,s)}return t[us]}function rC(e,t,i,n,s,r,o){for(;null!=i;){const a=n[i.index],l=i.type;if(o&&0===t&&(a&&ci(it(a),n),i.flags|=2),32!=(32&i.flags))if(8&l)rC(e,t,i.child,n,s,r,!1),za(t,e,s,a,r);else if(32&l){const d=Xv(i,n);let c;for(;c=d();)za(t,e,s,c,r);za(t,e,s,a,r)}else 16&l?Ux(e,t,n,i,s,r):za(t,e,s,a,r);i=o?i.projectionNext:i.next}}function Kd(e,t,i,n,s,r){rC(i,n,e.firstChild,t,s,r,!1)}function Ux(e,t,i,n,s,r){const o=i[Tt],l=o[di].projection[n.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++)za(t,e,s,l[d],r);else{let d=l;const c=o[ut];tp(n)&&(d.flags|=128),rC(e,t,d,c,s,r,!0)}}function zx(e,t,i){""===i?e.removeAttribute(t,"class"):e.setAttribute(t,"class",i)}function Wx(e,t,i){const{mergedAttrs:n,classes:s,styles:r}=i;null!==n&&vv(e,t,n),null!==s&&zx(e,t,s),null!==r&&function XB(e,t,i){e.setAttribute(t,"style",i)}(e,t,r)}function Wa(e){return function oC(){if(void 0===dp&&(dp=null,tt.trustedTypes))try{dp=tt.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return dp}()?.createHTML(e)||e}function qx(e){return function lC(){if(void 0===cp&&(cp=null,tt.trustedTypes))try{cp=tt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return cp}()?.createScriptURL(e)||e}class lo{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${NE})`}}class s2 extends lo{getTypeName(){return"HTML"}}class r2 extends lo{getTypeName(){return"Style"}}class o2 extends lo{getTypeName(){return"Script"}}class a2 extends lo{getTypeName(){return"URL"}}class l2 extends lo{getTypeName(){return"ResourceURL"}}function sn(e){return e instanceof lo?e.changingThisBreaksApplicationSecurity:e}function ms(e,t){const i=function d2(e){return e instanceof lo&&e.getTypeName()||null}(e);if(null!=i&&i!==t){if("ResourceURL"===i&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${i} (see ${NE})`)}return i===t}class m2{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const i=(new window.DOMParser).parseFromString(Wa(t),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(t):(i.removeChild(i.firstChild),i)}catch{return null}}}class g2{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const i=this.inertDocument.createElement("template");return i.innerHTML=Wa(t),i}}const C2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function up(e){return(e=String(e)).match(C2)?e:"unsafe:"+e}function Ws(e){const t={};for(const i of e.split(","))t[i]=!0;return t}function Yd(...e){const t={};for(const i of e)for(const n in i)i.hasOwnProperty(n)&&(t[n]=!0);return t}const Yx=Ws("area,br,col,hr,img,wbr"),Qx=Ws("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Zx=Ws("rp,rt"),dC=Yd(Yx,Yd(Qx,Ws("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Yd(Zx,Ws("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yd(Zx,Qx)),cC=Ws("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Xx=Yd(cC,Ws("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ws("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),b2=Ws("script,style,template");class w2{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let i=t.firstChild,n=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?n=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,n&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let s=this.checkClobberedElement(i,i.nextSibling);if(s){i=s;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(t){const i=t.nodeName.toLowerCase();if(!dC.hasOwnProperty(i))return this.sanitizedSomething=!0,!b2.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const n=t.attributes;for(let s=0;s<n.length;s++){const r=n.item(s),o=r.name,a=o.toLowerCase();if(!Xx.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=r.value;cC[a]&&(l=up(l)),this.buf.push(" ",o,'="',Jx(l),'"')}return this.buf.push(">"),!0}endElement(t){const i=t.nodeName.toLowerCase();dC.hasOwnProperty(i)&&!Yx.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(t){this.buf.push(Jx(t))}checkClobberedElement(t,i){if(i&&(t.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return i}}const y2=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_2=/([^\#-~ |!])/g;function Jx(e){return e.replace(/&/g,"&amp;").replace(y2,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(_2,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let hp;function e0(e,t){let i=null;try{hp=hp||function Kx(e){const t=new g2(e);return function v2(){try{return!!(new window.DOMParser).parseFromString(Wa(""),"text/html")}catch{return!1}}()?new m2(t):t}(e);let n=t?String(t):"";i=hp.getInertBodyElement(n);let s=5,r=n;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,n=r,r=i.innerHTML,i=hp.getInertBodyElement(n)}while(n!==r);return Wa((new w2).sanitizeChildren(uC(i)||i))}finally{if(i){const n=uC(i)||i;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function uC(e){return"content"in e&&function S2(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var oi=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(oi||{});function t0(e){const t=Qd();return t?t.sanitize(oi.URL,e)||"":ms(e,"URL")?sn(e):up(ae(e))}function n0(e){const t=Qd();if(t)return qx(t.sanitize(oi.RESOURCE_URL,e)||"");if(ms(e,"ResourceURL"))return qx(sn(e));throw new x(904,!1)}function Qd(){const e=F();return e&&e[Sa].sanitizer}const Zd=new O("ENVIRONMENT_INITIALIZER"),r0=new O("INJECTOR",-1),o0=new O("INJECTOR_DEF_TYPES");class hC{get(t,i=Sd){if(i===Sd){const n=new Error(`NullInjectorError: No provider for ${Gt(t)}!`);throw n.name="NullInjectorError",n}return i}}function M2(...e){return{\u0275providers:l0(0,e),\u0275fromNgModule:!0}}function l0(e,...t){const i=[],n=new Set;let s;const r=o=>{i.push(o)};return Ga(t,o=>{const a=o;pp(a,r,[],n)&&(s||=[],s.push(a))}),void 0!==s&&d0(s,r),i}function d0(e,t){for(let i=0;i<e.length;i++){const{ngModule:n,providers:s}=e[i];pC(s,r=>{t(r,n)})}}function pp(e,t,i,n){if(!(e=oe(e)))return!1;let s=null,r=Ah(e);const o=!r&&Me(e);if(r||o){if(o&&!o.standalone)return!1;s=e}else{const l=e.ngModule;if(r=Ah(l),!r)return!1;s=l}const a=n.has(s);if(o){if(a)return!1;if(n.add(s),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const d of l)pp(d,t,i,n)}}else{if(!r)return!1;{if(null!=r.imports&&!a){let d;n.add(s);try{Ga(r.imports,c=>{pp(c,t,i,n)&&(d||=[],d.push(c))})}finally{}void 0!==d&&d0(d,t)}if(!a){const d=no(s)||(()=>new s);t({provide:s,useFactory:d,deps:Ne},s),t({provide:o0,useValue:s,multi:!0},s),t({provide:Zd,useValue:()=>P(s),multi:!0},s)}const l=r.providers;if(null!=l&&!a){const d=e;pC(l,c=>{t(c,d)})}}}return s!==e&&void 0!==e.providers}function pC(e,t){for(let i of e)rv(i)&&(i=i.\u0275providers),Array.isArray(i)?pC(i,t):t(i)}const I2=je({provide:String,useValue:je});function fC(e){return null!==e&&"object"==typeof e&&I2 in e}function co(e){return"function"==typeof e}const mC=new O("Set Injector scope."),fp={},O2={};let gC;function mp(){return void 0===gC&&(gC=new hC),gC}class _n{}class $a extends _n{get destroyed(){return this._destroyed}constructor(t,i,n,s){super(),this.parent=i,this.source=n,this.scopes=s,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,CC(t,o=>this.processProvider(o)),this.records.set(r0,qa(void 0,this)),s.has("environment")&&this.records.set(_n,qa(void 0,this));const r=this.records.get(mC);null!=r&&"string"==typeof r.value&&this.scopes.add(r.value),this.injectorDefTypes=new Set(this.get(o0.multi,Ne,Se.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const i=Cr(this),n=ki(void 0);try{return t()}finally{Cr(i),ki(n)}}get(t,i=Sd,n=Se.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(jE))return t[jE](this);n=Fh(n);const r=Cr(this),o=ki(void 0);try{if(!(n&Se.SkipSelf)){let l=this.records.get(t);if(void 0===l){const d=function V2(e){return"function"==typeof e||"object"==typeof e&&e instanceof O}(t)&&Th(t);l=d&&this.injectableDefInScope(d)?qa(vC(t),fp):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(n&Se.Self?mp():this.parent).get(t,i=n&Se.Optional&&i===Sd?null:i)}catch(a){if("NullInjectorError"===a.name){if((a[Ih]=a[Ih]||[]).unshift(Gt(t)),r)throw a;return function MG(e,t,i,n){const s=e[Ih];throw t[UE]&&s.unshift(t[UE]),e.message=function IG(e,t,i,n=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let s=Gt(t);if(Array.isArray(t))s=t.map(Gt).join(" -> ");else if("object"==typeof t){let r=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];r.push(o+":"+("string"==typeof a?JSON.stringify(a):Gt(a)))}s=`{${r.join(", ")}}`}return`${i}${n?"("+n+")":""}[${s}]: ${e.replace(DG,"\n  ")}`}("\n"+e.message,s,i,n),e.ngTokenPath=s,e[Ih]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{ki(o),Cr(r)}}resolveInjectorInitializers(){const t=Cr(this),i=ki(void 0);try{const s=this.get(Zd.multi,Ne,Se.Self);for(const r of s)r()}finally{Cr(t),ki(i)}}toString(){const t=[],i=this.records;for(const n of i.keys())t.push(Gt(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new x(205,!1)}processProvider(t){let i=co(t=oe(t))?t:oe(t&&t.provide);const n=function L2(e){return fC(e)?qa(void 0,e.useValue):qa(h0(e),fp)}(t);if(co(t)||!0!==t.multi)this.records.get(i);else{let s=this.records.get(i);s||(s=qa(void 0,fp,!0),s.factory=()=>fv(s.multi),this.records.set(i,s)),i=t,s.multi.push(t)}this.records.set(i,n)}hydrate(t,i){return i.value===fp&&(i.value=O2,i.value=i.factory()),"object"==typeof i.value&&i.value&&function k2(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(t){if(!t.providedIn)return!1;const i=oe(t.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(t){const i=this._onDestroyHooks.indexOf(t);-1!==i&&this._onDestroyHooks.splice(i,1)}}function vC(e){const t=Th(e),i=null!==t?t.factory:no(e);if(null!==i)return i;if(e instanceof O)throw new x(204,!1);if(e instanceof Function)return function P2(e){const t=e.length;if(t>0)throw Ud(t,"?"),new x(204,!1);const i=function yG(e){return e&&(e[Mh]||e[VE])||null}(e);return null!==i?()=>i.factory(e):()=>new e}(e);throw new x(204,!1)}function h0(e,t,i){let n;if(co(e)){const s=oe(e);return no(s)||vC(s)}if(fC(e))n=()=>oe(e.useValue);else if(function u0(e){return!(!e||!e.useFactory)}(e))n=()=>e.useFactory(...fv(e.deps||[]));else if(function c0(e){return!(!e||!e.useExisting)}(e))n=()=>P(oe(e.useExisting));else{const s=oe(e&&(e.useClass||e.provide));if(!function N2(e){return!!e.deps}(e))return no(s)||vC(s);n=()=>new s(...fv(e.deps))}return n}function qa(e,t,i=!1){return{factory:e,value:t,multi:i?[]:void 0}}function CC(e,t){for(const i of e)Array.isArray(i)?CC(i,t):i&&rv(i)?CC(i.\u0275providers,t):t(i)}const gp=new O("AppId",{providedIn:"root",factory:()=>G2}),G2="ng",p0=new O("Platform Initializer"),uo=new O("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),zn=new O("AnimationModuleType"),bC=new O("CSP nonce",{providedIn:"root",factory:()=>function ja(){if(void 0!==aC)return aC;if(typeof document<"u")return document;throw new x(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let f0=(e,t,i)=>null;function RC(e,t,i=!1){return f0(e,t,i)}class Y2{}class v0{}class Z2{resolveComponentFactory(t){throw function Q2(e){const t=Error(`No component factory found for ${Gt(e)}.`);return t.ngComponent=e,t}(t)}}let _p=(()=>{class e{static#e=this.NULL=new Z2}return e})();function X2(){return Qa(ri(),F())}function Qa(e,t){return new ye(Hi(e,t))}let ye=(()=>{class e{constructor(i){this.nativeElement=i}static#e=this.__NG_ELEMENT_ID__=X2}return e})();function J2(e){return e instanceof ye?e.nativeElement:e}class ec{}let js=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function eU(){const e=F(),i=tn(ri().index,e);return(Gi(i)?i:e)[le]}()}return e})(),tU=(()=>{class e{static#e=this.\u0275prov=H({token:e,providedIn:"root",factory:()=>null})}return e})();class ho{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const iU=new ho("16.2.12"),MC={};function _0(e,t=null,i=null,n){const s=S0(e,t,i,n);return s.resolveInjectorInitializers(),s}function S0(e,t=null,i=null,n,s=new Set){const r=[i||Ne,M2(e)];return n=n||("object"==typeof e?void 0:Gt(e)),new $a(r,t||mp(),n||null,s)}let Ui=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=Sd;static#t=this.NULL=new hC;static create(i,n){if(Array.isArray(i))return _0({name:""},n,i,"");{const s=i.name??"";return _0({name:s},i.parent,i.providers,s)}}static#i=this.\u0275prov=H({token:e,providedIn:"any",factory:()=>P(r0)});static#n=this.__NG_ELEMENT_ID__=-1}return e})();function IC(e){return e.ngOriginalError}class Sn{constructor(){this._console=console}handleError(t){const i=this._findOriginalError(t);this._console.error("ERROR",t),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(t){let i=t&&IC(t);for(;i&&IC(i);)i=IC(i);return i||null}}let Za=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=dU;static#t=this.__NG_ENV_ID__=i=>i}return e})();class lU extends Za{constructor(t){super(),this._lView=t}onDestroy(t){return ID(this._lView,t),()=>function CH(e,t){if(null===e[wr])return;const i=e[wr].indexOf(t);-1!==i&&e[wr].splice(i,1)}(this._lView,t)}}function dU(){return new lU(F())}function FC(e){return t=>{setTimeout(e,void 0,t)}}const T=class cU extends _e{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,i,n){let s=t,r=i||(()=>null),o=n;if(t&&"object"==typeof t){const l=t;s=l.next?.bind(l),r=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(r=FC(r),s&&(s=FC(s)),o&&(o=FC(o)));const a=super.subscribe({next:s,error:r,complete:o});return t instanceof Vt&&t.add(a),a}};function D0(...e){}class q{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new T(!1),this.onMicrotaskEmpty=new T(!1),this.onStable=new T(!1),this.onError=new T(!1),typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!n&&i,s.shouldCoalesceRunChangeDetection=n,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function uU(){const e="function"==typeof tt.requestAnimationFrame;let t=tt[e?"requestAnimationFrame":"setTimeout"],i=tt[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&i){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const s=i[Zone.__symbol__("OriginalDelegate")];s&&(i=s)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function fU(e){const t=()=>{!function pU(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(tt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,PC(e),e.isCheckStableRunning=!0,OC(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),PC(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,n,s,r,o,a)=>{if(function gU(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return i.invokeTask(s,r,o,a);try{return x0(e),i.invokeTask(s,r,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||e.shouldCoalesceRunChangeDetection)&&t(),R0(e)}},onInvoke:(i,n,s,r,o,a,l)=>{try{return x0(e),i.invoke(s,r,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),R0(e)}},onHasTask:(i,n,s,r)=>{i.hasTask(s,r),n===s&&("microTask"==r.change?(e._hasPendingMicrotasks=r.microTask,PC(e),OC(e)):"macroTask"==r.change&&(e.hasPendingMacrotasks=r.macroTask))},onHandleError:(i,n,s,r)=>(i.handleError(s,r),e.runOutsideAngular(()=>e.onError.emit(r)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!q.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(q.isInAngularZone())throw new x(909,!1)}run(t,i,n){return this._inner.run(t,i,n)}runTask(t,i,n,s){const r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+s,t,hU,D0,D0);try{return r.runTask(o,i,n)}finally{r.cancelTask(o)}}runGuarded(t,i,n){return this._inner.runGuarded(t,i,n)}runOutsideAngular(t){return this._outer.run(t)}}const hU={};function OC(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function PC(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function x0(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function R0(e){e._nesting--,OC(e)}class mU{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new T,this.onMicrotaskEmpty=new T,this.onStable=new T,this.onError=new T}run(t,i,n){return t.apply(i,n)}runGuarded(t,i,n){return t.apply(i,n)}runOutsideAngular(t){return t()}runTask(t,i,n,s){return t.apply(i,n)}}const T0=new O("",{providedIn:"root",factory:A0});function A0(){const e=G(q);let t=!0;return Eh(new Qe(s=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{s.next(t),s.complete()})}),new Qe(s=>{let r;e.runOutsideAngular(()=>{r=e.onStable.subscribe(()=>{q.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,s.next(!0))})})});const o=e.onUnstable.subscribe(()=>{q.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{s.next(!1)}))});return()=>{r.unsubscribe(),o.unsubscribe()}}).pipe(Dh()))}function $s(e){return e instanceof Function?e():e}let LC=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=H({token:e,providedIn:"root",factory:()=>new e})}return e})();function tc(e){for(;e;){e[pe]|=64;const t=$d(e);if(wv(e)&&!t)return e;e=t}return null}const P0=new O("",{providedIn:"root",factory:()=>!1});let Dp=null;function V0(e,t){return e[t]??B0()}function G0(e,t){const i=B0();i.producerNode?.length&&(e[t]=Dp,i.lView=e,Dp=H0())}const xU={...lD,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{tc(e.lView)},lView:null};function H0(){return Object.create(xU)}function B0(){return Dp??=H0(),Dp}const ce={};function ue(e){U0(Ie(),F(),Di()+e,!1)}function U0(e,t,i,n){if(!n)if(3==(3&t[pe])){const r=e.preOrderCheckHooks;null!==r&&zh(t,r,i)}else{const r=e.preOrderHooks;null!==r&&Wh(t,r,0,i)}so(i)}function _(e,t=Se.Default){const i=F();return null===i?P(e,t):tx(ri(),i,oe(e),t)}function NC(){throw new Error("invalid")}function xp(e,t,i,n,s,r,o,a,l,d,c){const u=t.blueprint.slice();return u[yt]=s,u[pe]=140|n,(null!==d||e&&2048&e[pe])&&(u[pe]|=2048),TD(u),u[ut]=u[Ea]=e,u[Rt]=i,u[Sa]=o||e&&e[Sa],u[le]=a||e&&e[le],u[br]=l||e&&e[br]||null,u[di]=r,u[Md]=function RB(){return xB++}(),u[Bs]=c,u[sD]=d,u[Tt]=2==t.type?e[Tt]:u,u}function el(e,t,i,n,s){let r=e.data[t];if(null===r)r=function kC(e,t,i,n,s){const r=PD(),o=Tv(),l=e.data[t]=function PU(e,t,i,n,s,r){let o=t?t.injectorIndex:-1,a=0;return Aa()&&(a|=128),{type:i,index:n,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:s,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?r:r&&r.parent,i,t,n,s);return null===e.firstChild&&(e.firstChild=l),null!==r&&(o?null==r.child&&null!==l.parent&&(r.child=l):null===r.next&&(r.next=l,l.prev=r)),l}(e,t,i,n,s),function TH(){return re.lFrame.inI18n}()&&(r.flags|=32);else if(64&r.type){r.type=i,r.value=n,r.attrs=s;const o=function Ld(){const e=re.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();r.injectorIndex=null===o?-1:o.injectorIndex}return ps(r,!0),r}function ic(e,t,i,n){if(0===i)return-1;const s=t.length;for(let r=0;r<i;r++)t.push(n),e.blueprint.push(n),e.data.push(null);return s}function z0(e,t,i,n,s){const r=V0(t,Id),o=Di(),a=2&n;try{so(-1),a&&t.length>Ee&&U0(e,t,Ee,!1),hs(a?2:0,s);const d=a?r:null,c=_v(d);try{null!==d&&(d.dirty=!1),i(n,s)}finally{Sv(d,c)}}finally{a&&null===t[Id]&&G0(t,Id),so(o),hs(a?3:1,s)}}function VC(e,t,i){if(bv(t)){const n=wn(null);try{const r=t.directiveEnd;for(let o=t.directiveStart;o<r;o++){const a=e.data[o];a.contentQueries&&a.contentQueries(1,i[o],o)}}finally{wn(n)}}}function GC(e,t,i){OD()&&(function BU(e,t,i,n){const s=i.directiveStart,r=i.directiveEnd;io(i)&&function KU(e,t,i){const n=Hi(t,e),s=W0(i);let o=16;i.signals?o=4096:i.onPush&&(o=64);const a=Rp(e,xp(e,s,null,o,n,t,null,e[Sa].rendererFactory.createRenderer(n,i),null,null,null));e[t.index]=a}(t,i,e.data[s+i.componentOffset]),e.firstCreatePass||$h(i,t),ci(n,t);const o=i.initialInputs;for(let a=s;a<r;a++){const l=e.data[a],d=ro(t,e,a,i);ci(d,t),null!==o&&YU(0,a-s,d,l,0,o),Un(l)&&(tn(i.index,t)[Rt]=ro(t,e,a,i))}}(e,t,i,Hi(i,t)),64==(64&i.flags)&&Y0(e,t,i))}function HC(e,t,i=Hi){const n=t.localNames;if(null!==n){let s=t.index+1;for(let r=0;r<n.length;r+=2){const o=n[r+1],a=-1===o?i(t,e):e[o];e[s++]=a}}}function W0(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=BC(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function BC(e,t,i,n,s,r,o,a,l,d,c){const u=Ee+n,p=u+s,m=function TU(e,t){const i=[];for(let n=0;n<t;n++)i.push(n<e?null:ce);return i}(u,p),v="function"==typeof d?d():d;return m[B]={type:e,blueprint:m,template:i,queries:null,viewQuery:a,declTNode:t,data:m.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:v,incompleteFirstPass:!1,ssrId:c}}let j0=e=>null;function $0(e,t,i,n){for(let s in e)if(e.hasOwnProperty(s)){i=null===i?{}:i;const r=e[s];null===n?q0(i,t,s,r):n.hasOwnProperty(s)&&q0(i,t,n[s],r)}return i}function q0(e,t,i,n){e.hasOwnProperty(i)?e[i].push(t,n):e[i]=[t,n]}function rn(e,t,i,n,s,r,o,a){const l=Hi(t,i);let c,d=t.inputs;!a&&null!=d&&(c=d[n])?($C(e,i,c,n,s),io(t)&&function kU(e,t){const i=tn(t,e);16&i[pe]||(i[pe]|=64)}(i,t.index)):3&t.type&&(n=function NU(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n),s=null!=o?o(s,t.value||"",n):s,r.setProperty(l,n,s))}function UC(e,t,i,n){if(OD()){const s=null===n?null:{"":-1},r=function zU(e,t){const i=e.directiveRegistry;let n=null,s=null;if(i)for(let r=0;r<i.length;r++){const o=i[r];if(XE(t,o.selectors,!1))if(n||(n=[]),Un(o))if(null!==o.findHostDirectiveDefs){const a=[];s=s||new Map,o.findHostDirectiveDefs(o,a,s),n.unshift(...a,o),zC(e,t,a.length)}else n.unshift(o),zC(e,t,0);else s=s||new Map,o.findHostDirectiveDefs?.(o,n,s),n.push(o)}return null===n?null:[n,s]}(e,i);let o,a;null===r?o=a=null:[o,a]=r,null!==o&&K0(e,t,i,o,s,a),s&&function WU(e,t,i){if(t){const n=e.localNames=[];for(let s=0;s<t.length;s+=2){const r=i[t[s+1]];if(null==r)throw new x(-301,!1);n.push(t[s],r)}}}(i,n,s)}i.mergedAttrs=xd(i.mergedAttrs,i.attrs)}function K0(e,t,i,n,s,r){for(let d=0;d<n.length;d++)Hv($h(i,t),e,n[d].type);!function $U(e,t,i){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+i,e.providerIndexes=t}(i,e.data.length,n.length);for(let d=0;d<n.length;d++){const c=n[d];c.providersResolver&&c.providersResolver(c)}let o=!1,a=!1,l=ic(e,t,n.length,null);for(let d=0;d<n.length;d++){const c=n[d];i.mergedAttrs=xd(i.mergedAttrs,c.hostAttrs),qU(e,i,t,l,c),jU(l,c,s),null!==c.contentQueries&&(i.flags|=4),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(i.flags|=64);const u=c.type.prototype;!o&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((e.preOrderHooks??=[]).push(i.index),o=!0),!a&&(u.ngOnChanges||u.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(i.index),a=!0),l++}!function LU(e,t,i){const s=t.directiveEnd,r=e.data,o=t.attrs,a=[];let l=null,d=null;for(let c=t.directiveStart;c<s;c++){const u=r[c],p=i?i.get(u):null,v=p?p.outputs:null;l=$0(u.inputs,c,l,p?p.inputs:null),d=$0(u.outputs,c,d,v);const C=null===l||null===o||ZE(t)?null:QU(l,c,o);a.push(C)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=d}(e,i,r)}function Y0(e,t,i){const n=i.directiveStart,s=i.directiveEnd,r=i.index,o=function MH(){return re.lFrame.currentDirectiveIndex}();try{so(r);for(let a=n;a<s;a++){const l=e.data[a],d=t[a];Mv(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&UU(l,d)}}finally{so(-1),Mv(o)}}function UU(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function zC(e,t,i){t.componentOffset=i,(e.components??=[]).push(t.index)}function jU(e,t,i){if(i){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)i[t.exportAs[n]]=e;Un(t)&&(i[""]=e)}}function qU(e,t,i,n,s){e.data[n]=s;const r=s.factory||(s.factory=no(s.type)),o=new Nd(r,Un(s),_);e.blueprint[n]=o,i[n]=o,function GU(e,t,i,n,s){const r=s.hostBindings;if(r){let o=e.hostBindingOpCodes;null===o&&(o=e.hostBindingOpCodes=[]);const a=~t.index;(function HU(e){let t=e.length;for(;t>0;){const i=e[--t];if("number"==typeof i&&i<0)return i}return 0})(o)!=a&&o.push(a),o.push(i,n,r)}}(e,t,n,ic(e,i,s.hostVars,ce),s)}function gs(e,t,i,n,s,r){const o=Hi(e,t);!function WC(e,t,i,n,s,r,o){if(null==r)e.removeAttribute(t,s,i);else{const a=null==o?ae(r):o(r,n||"",s);e.setAttribute(t,s,a,i)}}(t[le],o,r,e.value,i,n,s)}function YU(e,t,i,n,s,r){const o=r[t];if(null!==o)for(let a=0;a<o.length;)Q0(n,i,o[a++],o[a++],o[a++])}function Q0(e,t,i,n,s){const r=wn(null);try{const o=e.inputTransforms;null!==o&&o.hasOwnProperty(n)&&(s=o[n].call(t,s)),null!==e.setInput?e.setInput(t,s,i,n):t[n]=s}finally{wn(r)}}function QU(e,t,i){let n=null,s=0;for(;s<i.length;){const r=i[s];if(0!==r)if(5!==r){if("number"==typeof r)break;if(e.hasOwnProperty(r)){null===n&&(n=[]);const o=e[r];for(let a=0;a<o.length;a+=2)if(o[a]===t){n.push(r,o[a+1],i[s+1]);break}}s+=2}else s+=2;else s+=4}return n}function Z0(e,t,i,n){return[e,!0,!1,t,null,0,n,i,null,null,null]}function X0(e,t){const i=e.contentQueries;if(null!==i)for(let n=0;n<i.length;n+=2){const r=i[n+1];if(-1!==r){const o=e.data[r];Fv(i[n]),o.contentQueries(2,t[r],r)}}}function Rp(e,t){return e[Td]?e[nD][Bn]=t:e[Td]=t,e[nD]=t,t}function jC(e,t,i){Fv(0);const n=wn(null);try{t(e,i)}finally{wn(n)}}function J0(e){return e[_a]||(e[_a]=[])}function eR(e){return e.cleanup||(e.cleanup=[])}function tR(e,t,i){return(null===e||Un(e))&&(i=function Rv(e){for(;Array.isArray(e);){if("object"==typeof e[Cv])return e;e=e[yt]}return null}(i[t.index])),i[le]}function iR(e,t){const i=e[br],n=i?i.get(Sn,null):null;n&&n.handleError(t)}function $C(e,t,i,n,s){for(let r=0;r<i.length;){const o=i[r++],a=i[r++];Q0(e.data[o],t[o],n,a,s)}}function ZU(e,t){const i=tn(t,e),n=i[B];!function XU(e,t){for(let i=t.length;i<e.blueprint.length;i++)t.push(e.blueprint[i])}(n,i);const s=i[yt];null!==s&&null===i[Bs]&&(i[Bs]=RC(s,i[br])),qC(n,i,i[Rt])}function qC(e,t,i){Ov(t);try{const n=e.viewQuery;null!==n&&jC(1,n,i);const s=e.template;null!==s&&z0(e,t,s,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&X0(e,t),e.staticViewQueries&&jC(2,e.viewQuery,i);const r=e.components;null!==r&&function JU(e,t){for(let i=0;i<t.length;i++)ZU(e,t[i])}(t,r)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{t[pe]&=-5,Pv()}}let nR=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(i,n,s){const r=typeof Zone>"u"?null:Zone.current,o=function oH(e,t,i){const n=Object.create(aH);i&&(n.consumerAllowSignalWrites=!0),n.fn=e,n.schedule=t;const s=o=>{n.cleanupFn=o};return n.ref={notify:()=>hD(n),run:()=>{if(n.dirty=!1,n.hasRun&&!pD(n))return;n.hasRun=!0;const o=_v(n);try{n.cleanupFn(),n.cleanupFn=yD,n.fn(s)}finally{Sv(n,o)}},cleanup:()=>n.cleanupFn()},n.ref}(i,d=>{this.all.has(d)&&this.queue.set(d,r)},s);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=n?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[i,n]of this.queue)this.queue.delete(i),n?n.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=H({token:e,providedIn:"root",factory:()=>new e})}return e})();function Tp(e,t,i){let n=i?e.styles:null,s=i?e.classes:null,r=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?r=a:1==r?s=nv(s,a):2==r&&(n=nv(n,a+": "+t[++o]+";"))}i?e.styles=n:e.stylesWithoutHost=n,i?e.classes=s:e.classesWithoutHost=s}function nc(e,t,i,n,s=!1){for(;null!==i;){const r=t[i.index];null!==r&&n.push(it(r)),_i(r)&&sR(r,n);const o=i.type;if(8&o)nc(e,t,i.child,n);else if(32&o){const a=Xv(i,t);let l;for(;l=a();)n.push(l)}else if(16&o){const a=Hx(t,i);if(Array.isArray(a))n.push(...a);else{const l=$d(t[Tt]);nc(l[B],l,a,n,!0)}}i=s?i.projectionNext:i.next}return n}function sR(e,t){for(let i=ni;i<e.length;i++){const n=e[i],s=n[B].firstChild;null!==s&&nc(n[B],n,s,t)}e[us]!==e[yt]&&t.push(e[us])}function Ap(e,t,i,n=!0){const s=t[Sa],r=s.rendererFactory,o=s.afterRenderEventManager;r.begin?.(),o?.begin();try{rR(e,t,e.template,i)}catch(l){throw n&&iR(t,l),l}finally{r.end?.(),s.effectManager?.flush(),o?.end()}}function rR(e,t,i,n){const s=t[pe];if(256!=(256&s)){t[Sa].effectManager?.flush(),Ov(t);try{TD(t),function ND(e){return re.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==i&&z0(e,t,i,2,n);const o=3==(3&s);if(o){const d=e.preOrderCheckHooks;null!==d&&zh(t,d,null)}else{const d=e.preOrderHooks;null!==d&&Wh(t,d,0,null),Lv(t,0)}if(function iz(e){for(let t=Tx(e);null!==t;t=Ax(t)){if(!t[rD])continue;const i=t[xa];for(let n=0;n<i.length;n++){vH(i[n])}}}(t),oR(t,2),null!==e.contentQueries&&X0(e,t),o){const d=e.contentCheckHooks;null!==d&&zh(t,d)}else{const d=e.contentHooks;null!==d&&Wh(t,d,1),Lv(t,1)}!function RU(e,t){const i=e.hostBindingOpCodes;if(null===i)return;const n=V0(t,Fd);try{for(let s=0;s<i.length;s++){const r=i[s];if(r<0)so(~r);else{const o=r,a=i[++s],l=i[++s];AH(a,o),n.dirty=!1;const d=_v(n);try{l(2,t[o])}finally{Sv(n,d)}}}}finally{null===t[Fd]&&G0(t,Fd),so(-1)}}(e,t);const a=e.components;null!==a&&lR(t,a,0);const l=e.viewQuery;if(null!==l&&jC(2,l,n),o){const d=e.viewCheckHooks;null!==d&&zh(t,d)}else{const d=e.viewHooks;null!==d&&Wh(t,d,2),Lv(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[pe]&=-73,AD(t)}finally{Pv()}}}function oR(e,t){for(let i=Tx(e);null!==i;i=Ax(i))for(let n=ni;n<i.length;n++)aR(i[n],t)}function nz(e,t,i){aR(tn(t,e),i)}function aR(e,t){if(!function mH(e){return 128==(128&e[pe])}(e))return;const i=e[B],n=e[pe];if(80&n&&0===t||1024&n||2===t)rR(i,e,i.template,e[Rt]);else if(e[Rd]>0){oR(e,1);const s=i.components;null!==s&&lR(e,s,1)}}function lR(e,t,i){for(let n=0;n<t.length;n++)nz(e,t[n],i)}class sc{get rootNodes(){const t=this._lView,i=t[B];return nc(i,t,i.firstChild,[])}constructor(t,i){this._lView=t,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Rt]}set context(t){this._lView[Rt]=t}get destroyed(){return 256==(256&this._lView[pe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[ut];if(_i(t)){const i=t[8],n=i?i.indexOf(this):-1;n>-1&&(rp(t,n),Yh(i,n))}this._attachedToViewContainer=!1}eC(this._lView[B],this._lView)}onDestroy(t){ID(this._lView,t)}markForCheck(){tc(this._cdRefInjectingView||this._lView)}detach(){this._lView[pe]&=-129}reattach(){this._lView[pe]|=128}detectChanges(){Ap(this._lView[B],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function BB(e,t){Kd(e,t,t[le],2,null,null)}(this._lView[B],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=t}}class sz extends sc{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Ap(t[B],t,t[Rt],!1)}checkNoChanges(){}get context(){return null}}class dR extends _p{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const i=Me(t);return new rc(i,this.ngModule)}}function cR(e){const t=[];for(let i in e)e.hasOwnProperty(i)&&t.push({propName:e[i],templateName:i});return t}class oz{constructor(t,i){this.injector=t,this.parentInjector=i}get(t,i,n){n=Fh(n);const s=this.injector.get(t,MC,n);return s!==MC||i===MC?s:this.parentInjector.get(t,i,n)}}class rc extends v0{get inputs(){const t=this.componentDef,i=t.inputTransforms,n=cR(t.inputs);if(null!==i)for(const s of n)i.hasOwnProperty(s.propName)&&(s.transform=i[s.propName]);return n}get outputs(){return cR(this.componentDef.outputs)}constructor(t,i){super(),this.componentDef=t,this.ngModule=i,this.componentType=t.type,this.selector=function BG(e){return e.map(HG).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!i}create(t,i,n,s){let r=(s=s||this.ngModule)instanceof _n?s:s?.injector;r&&null!==this.componentDef.getStandaloneInjector&&(r=this.componentDef.getStandaloneInjector(r)||r);const o=r?new oz(t,r):t,a=o.get(ec,null);if(null===a)throw new x(407,!1);const u={rendererFactory:a,sanitizer:o.get(tU,null),effectManager:o.get(nR,null),afterRenderEventManager:o.get(LC,null)},p=a.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",v=n?function AU(e,t,i,n){const r=n.get(P0,!1)||i===bn.ShadowDom,o=e.selectRootElement(t,r);return function MU(e){j0(e)}(o),o}(p,n,this.componentDef.encapsulation,o):sp(p,m,function rz(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(m)),y=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let w=null;null!==v&&(w=RC(v,o,!0));const E=BC(0,null,null,1,0,null,null,null,null,null,null),D=xp(null,E,null,y,null,null,u,p,o,null,w);let M,L;Ov(D);try{const k=this.componentDef;let te,xe=null;k.findHostDirectiveDefs?(te=[],xe=new Map,k.findHostDirectiveDefs(k,te,xe),te.push(k)):te=[k];const ft=function lz(e,t){const i=e[B],n=Ee;return e[n]=t,el(i,n,2,"#host",null)}(D,v),jt=function dz(e,t,i,n,s,r,o){const a=s[B];!function cz(e,t,i,n){for(const s of e)t.mergedAttrs=xd(t.mergedAttrs,s.hostAttrs);null!==t.mergedAttrs&&(Tp(t,t.mergedAttrs,!0),null!==i&&Wx(n,i,t))}(n,e,t,o);let l=null;null!==t&&(l=RC(t,s[br]));const d=r.rendererFactory.createRenderer(t,i);let c=16;i.signals?c=4096:i.onPush&&(c=64);const u=xp(s,W0(i),null,c,s[e.index],e,r,d,null,null,l);return a.firstCreatePass&&zC(a,e,n.length-1),Rp(s,u),s[e.index]=u}(ft,v,k,te,D,u,p);L=RD(E,Ee),v&&function hz(e,t,i,n){if(n)vv(e,i,["ng-version",iU.full]);else{const{attrs:s,classes:r}=function UG(e){const t=[],i=[];let n=1,s=2;for(;n<e.length;){let r=e[n];if("string"==typeof r)2===s?""!==r&&t.push(r,e[++n]):8===s&&i.push(r);else{if(!Hn(s))break;s=r}n++}return{attrs:t,classes:i}}(t.selectors[0]);s&&vv(e,i,s),r&&r.length>0&&zx(e,i,r.join(" "))}}(p,k,v,n),void 0!==i&&function pz(e,t,i){const n=e.projection=[];for(let s=0;s<t.length;s++){const r=i[s];n.push(null!=r?Array.from(r):null)}}(L,this.ngContentSelectors,i),M=function uz(e,t,i,n,s,r){const o=ri(),a=s[B],l=Hi(o,s);K0(a,s,o,i,null,n);for(let c=0;c<i.length;c++)ci(ro(s,a,o.directiveStart+c,o),s);Y0(a,s,o),l&&ci(l,s);const d=ro(s,a,o.directiveStart+o.componentOffset,o);if(e[Rt]=s[Rt]=d,null!==r)for(const c of r)c(d,t);return VC(a,o,e),d}(jt,k,te,xe,D,[fz]),qC(E,D,null)}finally{Pv()}return new az(this.componentType,M,Qa(L,D),D,L)}}class az extends Y2{constructor(t,i,n,s,r){super(),this.location=n,this._rootLView=s,this._tNode=r,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new sz(s),this.componentType=t}setInput(t,i){const n=this._tNode.inputs;let s;if(null!==n&&(s=n[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),i))return;const r=this._rootLView;$C(r[B],r,s,t,i),this.previousInputValues.set(t,i),tc(tn(this._tNode.index,r))}}get injector(){return new xi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function fz(){const e=ri();Uh(F()[B],e)}function de(e){let t=function uR(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),i=!0;const n=[e];for(;t;){let s;if(Un(e))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new x(903,!1);s=t.\u0275dir}if(s){if(i){n.push(s);const o=e;o.inputs=Mp(e.inputs),o.inputTransforms=Mp(e.inputTransforms),o.declaredInputs=Mp(e.declaredInputs),o.outputs=Mp(e.outputs);const a=s.hostBindings;a&&Cz(e,a);const l=s.viewQuery,d=s.contentQueries;if(l&&gz(e,l),d&&vz(e,d),xh(e.inputs,s.inputs),xh(e.declaredInputs,s.declaredInputs),xh(e.outputs,s.outputs),null!==s.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),xh(o.inputTransforms,s.inputTransforms)),Un(s)&&s.data.animation){const c=e.data;c.animation=(c.animation||[]).concat(s.data.animation)}}const r=s.features;if(r)for(let o=0;o<r.length;o++){const a=r[o];a&&a.ngInherit&&a(e),a===de&&(i=!1)}}t=Object.getPrototypeOf(t)}!function mz(e){let t=0,i=null;for(let n=e.length-1;n>=0;n--){const s=e[n];s.hostVars=t+=s.hostVars,s.hostAttrs=xd(s.hostAttrs,i=xd(i,s.hostAttrs))}}(n)}function Mp(e){return e===ds?{}:e===Ne?[]:e}function gz(e,t){const i=e.viewQuery;e.viewQuery=i?(n,s)=>{t(n,s),i(n,s)}:t}function vz(e,t){const i=e.contentQueries;e.contentQueries=i?(n,s,r)=>{t(n,s,r),i(n,s,r)}:t}function Cz(e,t){const i=e.hostBindings;e.hostBindings=i?(n,s)=>{t(n,s),i(n,s)}:t}function mR(e){const t=e.inputConfig,i={};for(const n in t)if(t.hasOwnProperty(n)){const s=t[n];Array.isArray(s)&&s[2]&&(i[n]=s[2])}e.inputTransforms=i}function Ip(e){return!!KC(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function KC(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ui(e,t,i){return!Object.is(e[t],i)&&(e[t]=i,!0)}function lt(e,t,i,n){const s=F();return ui(s,Fa(),t)&&(Ie(),gs(vt(),s,e,t,i,n)),lt}function he(e,t,i,n,s,r,o,a){const l=F(),d=Ie(),c=e+Ee,u=d.firstCreatePass?function zz(e,t,i,n,s,r,o,a,l){const d=t.consts,c=el(t,e,4,o||null,_r(d,a));UC(t,i,c,_r(d,l)),Uh(t,c);const u=c.tView=BC(2,c,n,s,r,t.directiveRegistry,t.pipeRegistry,null,t.schemas,d,null);return null!==t.queries&&(t.queries.template(t,c),u.queries=t.queries.embeddedTView(c)),c}(c,d,l,t,i,n,s,r,o):d.data[c];ps(u,!1);const p=TR(d,l,u,e);Bh()&&ap(d,l,p,u),ci(p,l),Rp(l,l[c]=Z0(p,l,p,u)),kh(u)&&GC(d,l,u),null!=o&&HC(l,u,a)}let TR=function AR(e,t,i,n){return Sr(!0),t[le].createComment("")};function Cs(e){return Ta(function RH(){return re.lFrame.contextLView}(),Ee+e)}function K(e,t,i){const n=F();return ui(n,Fa(),t)&&rn(Ie(),vt(),n,e,t,n[le],i,!1),K}function eb(e,t,i,n,s){const o=s?"class":"style";$C(e,i,t.inputs[o],o,n)}function j(e,t,i,n){const s=F(),r=Ie(),o=Ee+e,a=s[le],l=r.firstCreatePass?function qz(e,t,i,n,s,r){const o=t.consts,l=el(t,e,2,n,_r(o,s));return UC(t,i,l,_r(o,r)),null!==l.attrs&&Tp(l,l.attrs,!1),null!==l.mergedAttrs&&Tp(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,r,s,t,i,n):r.data[o],d=MR(r,s,l,a,t,e);s[o]=d;const c=kh(l);return ps(l,!0),Wx(a,d,l),32!=(32&l.flags)&&Bh()&&ap(r,s,d,l),0===function bH(){return re.lFrame.elementDepthCount}()&&ci(d,s),function wH(){re.lFrame.elementDepthCount++}(),c&&(GC(r,s,l),VC(r,l,s)),null!==n&&HC(s,l),j}function X(){let e=ri();Tv()?Av():(e=e.parent,ps(e,!1));const t=e;(function _H(e){return re.skipHydrationRootTNode===e})(t)&&function xH(){re.skipHydrationRootTNode=null}(),function yH(){re.lFrame.elementDepthCount--}();const i=Ie();return i.firstCreatePass&&(Uh(i,e),bv(e)&&i.queries.elementEnd(e)),null!=t.classesWithoutHost&&function GH(e){return 0!=(8&e.flags)}(t)&&eb(i,t,F(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function HH(e){return 0!=(16&e.flags)}(t)&&eb(i,t,F(),t.stylesWithoutHost,!1),X}function Je(e,t,i,n){return j(e,t,i,n),X(),Je}let MR=(e,t,i,n,s,r)=>(Sr(!0),sp(n,s,function $D(){return re.lFrame.currentNamespace}()));function cc(){return F()}function uc(e){return!!e&&"function"==typeof e.then}function OR(e){return!!e&&"function"==typeof e.subscribe}function bt(e,t,i,n){const s=F(),r=Ie(),o=ri();return PR(r,s,s[le],o,e,t,n),bt}function nb(e,t){const i=ri(),n=F(),s=Ie();return PR(s,n,tR(Iv(s.data),i,n),i,e,t),nb}function PR(e,t,i,n,s,r,o){const a=kh(n),d=e.firstCreatePass&&eR(e),c=t[Rt],u=J0(t);let p=!0;if(3&n.type||o){const C=Hi(n,t),b=o?o(C):C,y=u.length,w=o?D=>o(it(D[n.index])):n.index;let E=null;if(!o&&a&&(E=function Jz(e,t,i,n){const s=e.cleanup;if(null!=s)for(let r=0;r<s.length-1;r+=2){const o=s[r];if(o===i&&s[r+1]===n){const a=t[_a],l=s[r+2];return a.length>l?a[l]:null}"string"==typeof o&&(r+=2)}return null}(e,t,s,n.index)),null!==E)(E.__ngLastListenerFn__||E).__ngNextListenerFn__=r,E.__ngLastListenerFn__=r,p=!1;else{r=NR(n,t,c,r,!1);const D=i.listen(b,s,r);u.push(r,D),d&&d.push(s,w,y,y+1)}}else r=NR(n,t,c,r,!1);const m=n.outputs;let v;if(p&&null!==m&&(v=m[s])){const C=v.length;if(C)for(let b=0;b<C;b+=2){const M=t[v[b]][v[b+1]].subscribe(r),L=u.length;u.push(r,M),d&&d.push(s,n.index,L,-(L+1))}}}function LR(e,t,i,n){try{return hs(6,t,i),!1!==i(n)}catch(s){return iR(e,s),!1}finally{hs(7,t,i)}}function NR(e,t,i,n,s){return function r(o){if(o===Function)return n;tc(e.componentOffset>-1?tn(e.index,t):t);let l=LR(t,i,n,o),d=r.__ngNextListenerFn__;for(;d;)l=LR(t,i,d,o)&&l,d=d.__ngNextListenerFn__;return s&&!1===l&&o.preventDefault(),l}}function nt(e=1){return function FH(e){return(re.lFrame.contextLView=function OH(e,t){for(;e>0;)t=t[Ea],e--;return t}(e,re.lFrame.contextLView))[Rt]}(e)}function eW(e,t){let i=null;const n=function NG(e){const t=e.attrs;if(null!=t){const i=t.indexOf(5);if(!(1&i))return t[i+1]}return null}(e);for(let s=0;s<t.length;s++){const r=t[s];if("*"!==r){if(null===n?XE(e,r,!0):GG(n,r))return s}else i=s}return i}function ai(e){const t=F()[Tt][di];if(!t.projection){const n=t.projection=Ud(e?e.length:1,null),s=n.slice();let r=t.child;for(;null!==r;){const o=e?eW(r,e):0;null!==o&&(s[o]?s[o].projectionNext=r:n[o]=r,s[o]=r),r=r.next}}}function Ce(e,t=0,i){const n=F(),s=Ie(),r=el(s,Ee+e,16,null,i||null);null===r.projection&&(r.projection=t),Av(),(!n[Bs]||Aa())&&32!=(32&r.flags)&&function YB(e,t,i){Ux(t[le],0,t,i,iC(e,i,t),Nx(i.parent||t[di],i,t))}(s,n,r)}function Np(e,t){return e<<17|t<<2}function Dr(e){return e>>17&32767}function rb(e){return 2|e}function fo(e){return(131068&e)>>2}function ob(e,t){return-131069&e|t<<2}function ab(e){return 1|e}function $R(e,t,i,n,s){const r=e[i+1],o=null===t;let a=n?Dr(r):fo(r),l=!1;for(;0!==a&&(!1===l||o);){const c=e[a+1];oW(e[a],t)&&(l=!0,e[a+1]=n?ab(c):rb(c)),a=n?Dr(c):fo(c)}l&&(e[i+1]=n?rb(r):ab(r))}function oW(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Ha(e,t)>=0}const Bt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qR(e){return e.substring(Bt.key,Bt.keyEnd)}function KR(e,t){const i=Bt.textEnd;return i===t?-1:(t=Bt.keyEnd=function cW(e,t,i){for(;t<i&&e.charCodeAt(t)>32;)t++;return t}(e,Bt.key=t,i),cl(e,t,i))}function cl(e,t,i){for(;t<i&&e.charCodeAt(t)<=32;)t++;return t}function hc(e,t,i){return Wn(e,t,i,!1),hc}function Ke(e,t){return Wn(e,t,null,!0),Ke}function JR(e){!function jn(e,t,i,n){const s=Ie(),r=zs(2);s.firstUpdatePass&&tT(s,null,r,n);const o=F();if(i!==ce&&ui(o,r,i)){const a=s.data[Di()];if(rT(a,n)&&!eT(s,r)){let l=n?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(i=nv(l,i||"")),eb(s,a,o,i,n)}else!function wW(e,t,i,n,s,r,o,a){s===ce&&(s=Ne);let l=0,d=0,c=0<s.length?s[0]:null,u=0<r.length?r[0]:null;for(;null!==c||null!==u;){const p=l<s.length?s[l+1]:void 0,m=d<r.length?r[d+1]:void 0;let C,v=null;c===u?(l+=2,d+=2,p!==m&&(v=u,C=m)):null===u||null!==c&&c<u?(l+=2,v=c):(d+=2,v=u,C=m),null!==v&&nT(e,t,i,n,v,C,o,a),c=l<s.length?s[l]:null,u=d<r.length?r[d]:null}}(s,a,o,o[le],o[r+1],o[r+1]=function CW(e,t,i){if(null==i||""===i)return Ne;const n=[],s=sn(i);if(Array.isArray(s))for(let r=0;r<s.length;r++)e(n,s[r],!0);else if("object"==typeof s)for(const r in s)s.hasOwnProperty(r)&&e(n,r,s[r]);else"string"==typeof s&&t(n,s);return n}(e,t,i),n,r)}}(bW,ws,e,!0)}function ws(e,t){for(let i=function lW(e){return function QR(e){Bt.key=0,Bt.keyEnd=0,Bt.value=0,Bt.valueEnd=0,Bt.textEnd=e.length}(e),KR(e,cl(e,0,Bt.textEnd))}(t);i>=0;i=KR(t,i))nn(e,qR(t),!0)}function Wn(e,t,i,n){const s=F(),r=Ie(),o=zs(2);r.firstUpdatePass&&tT(r,e,o,n),t!==ce&&ui(s,o,t)&&nT(r,r.data[Di()],s,s[le],e,s[o+1]=function yW(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Gt(sn(e)))),e}(t,i),n,o)}function eT(e,t){return t>=e.expandoStartIndex}function tT(e,t,i,n){const s=e.data;if(null===s[i+1]){const r=s[Di()],o=eT(e,i);rT(r,n)&&null===t&&!o&&(t=!1),t=function fW(e,t,i,n){const s=Iv(e);let r=n?t.residualClasses:t.residualStyles;if(null===s)0===(n?t.classBindings:t.styleBindings)&&(i=pc(i=lb(null,e,t,i,n),t.attrs,n),r=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==s)if(i=lb(s,e,t,i,n),null===r){let l=function mW(e,t,i){const n=i?t.classBindings:t.styleBindings;if(0!==fo(n))return e[Dr(n)]}(e,t,n);void 0!==l&&Array.isArray(l)&&(l=lb(null,e,t,l[1],n),l=pc(l,t.attrs,n),function gW(e,t,i,n){e[Dr(i?t.classBindings:t.styleBindings)]=n}(e,t,n,l))}else r=function vW(e,t,i){let n;const s=t.directiveEnd;for(let r=1+t.directiveStylingLast;r<s;r++)n=pc(n,e[r].hostAttrs,i);return pc(n,t.attrs,i)}(e,t,n)}return void 0!==r&&(n?t.residualClasses=r:t.residualStyles=r),i}(s,r,t,n),function sW(e,t,i,n,s,r){let o=r?t.classBindings:t.styleBindings,a=Dr(o),l=fo(o);e[n]=i;let c,d=!1;if(Array.isArray(i)?(c=i[1],(null===c||Ha(i,c)>0)&&(d=!0)):c=i,s)if(0!==l){const p=Dr(e[a+1]);e[n+1]=Np(p,a),0!==p&&(e[p+1]=ob(e[p+1],n)),e[a+1]=function iW(e,t){return 131071&e|t<<17}(e[a+1],n)}else e[n+1]=Np(a,0),0!==a&&(e[a+1]=ob(e[a+1],n)),a=n;else e[n+1]=Np(l,0),0===a?a=n:e[l+1]=ob(e[l+1],n),l=n;d&&(e[n+1]=rb(e[n+1])),$R(e,c,n,!0),$R(e,c,n,!1),function rW(e,t,i,n,s){const r=s?e.residualClasses:e.residualStyles;null!=r&&"string"==typeof t&&Ha(r,t)>=0&&(i[n+1]=ab(i[n+1]))}(t,c,e,n,r),o=Np(a,l),r?t.classBindings=o:t.styleBindings=o}(s,r,t,i,o,n)}}function lb(e,t,i,n,s){let r=null;const o=i.directiveEnd;let a=i.directiveStylingLast;for(-1===a?a=i.directiveStart:a++;a<o&&(r=t[a],n=pc(n,r.hostAttrs,s),r!==e);)a++;return null!==e&&(i.directiveStylingLast=a),n}function pc(e,t,i){const n=i?1:2;let s=-1;if(null!==t)for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?s=o:s===n&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),nn(e,o,!!i||t[++r]))}return void 0===e?null:e}function bW(e,t,i){const n=String(t);""!==n&&!n.includes(" ")&&nn(e,n,i)}function nT(e,t,i,n,s,r,o,a){if(!(3&t.type))return;const l=e.data,d=l[a+1],c=function nW(e){return 1==(1&e)}(d)?sT(l,t,i,s,fo(d),o):void 0;kp(c)||(kp(r)||function tW(e){return 2==(2&e)}(d)&&(r=sT(l,null,i,s,a,o)),function ZB(e,t,i,n,s){if(t)s?e.addClass(i,n):e.removeClass(i,n);else{let r=-1===n.indexOf("-")?void 0:Er.DashCase;null==s?e.removeStyle(i,n,r):("string"==typeof s&&s.endsWith("!important")&&(s=s.slice(0,-10),r|=Er.Important),e.setStyle(i,n,s,r))}}(n,o,Hh(Di(),i),s,r))}function sT(e,t,i,n,s,r){const o=null===t;let a;for(;s>0;){const l=e[s],d=Array.isArray(l),c=d?l[1]:l,u=null===c;let p=i[s+1];p===ce&&(p=u?Ne:void 0);let m=u?zv(p,n):c===n?p:void 0;if(d&&!kp(m)&&(m=zv(l,n)),kp(m)&&(a=m,o))return a;const v=e[s+1];s=o?Dr(v):fo(v)}if(null!==t){let l=r?t.residualClasses:t.residualStyles;null!=l&&(a=zv(l,n))}return a}function kp(e){return void 0!==e}function rT(e,t){return 0!=(e.flags&(t?8:16))}function Yt(e,t=""){const i=F(),n=Ie(),s=e+Ee,r=n.firstCreatePass?el(n,s,1,t,null):n.data[s],o=oT(n,i,r,t,e);i[s]=o,Bh()&&ap(n,i,o,r),ps(r,!1)}let oT=(e,t,i,n,s)=>(Sr(!0),function np(e,t){return e.createText(t)}(t[le],n));function Vp(e){return Gp("",e,""),Vp}function Gp(e,t,i){const n=F(),s=function il(e,t,i,n){return ui(e,Fa(),i)?t+ae(i)+n:ce}(n,e,t,i);return s!==ce&&function qs(e,t,i){const n=Hh(t,e);!function Ix(e,t,i){e.setValue(t,i)}(e[le],n,i)}(n,Di(),s),Gp}function Hp(e,t,i){const n=F();return ui(n,Fa(),t)&&rn(Ie(),vt(),n,e,t,n[le],i,!0),Hp}function db(e,t,i){const n=F();if(ui(n,Fa(),t)){const r=Ie(),o=vt();rn(r,o,n,e,t,tR(Iv(r.data),o,n),i,!0)}return db}const hl="en-US";let xT=hl;function hb(e,t,i,n,s){if(e=oe(e),Array.isArray(e))for(let r=0;r<e.length;r++)hb(e[r],t,i,n,s);else{const r=Ie(),o=F(),a=ri();let l=co(e)?e:oe(e.provide);const d=h0(e),c=1048575&a.providerIndexes,u=a.directiveStart,p=a.providerIndexes>>20;if(co(e)||!e.multi){const m=new Nd(d,s,_),v=fb(l,t,s?c:c+p,u);-1===v?(Hv($h(a,o),r,l),pb(r,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,s&&(a.providerIndexes+=1048576),i.push(m),o.push(m)):(i[v]=m,o[v]=m)}else{const m=fb(l,t,c+p,u),v=fb(l,t,c,c+p),b=v>=0&&i[v];if(s&&!b||!s&&!(m>=0&&i[m])){Hv($h(a,o),r,l);const y=function Uj(e,t,i,n,s){const r=new Nd(e,i,_);return r.multi=[],r.index=t,r.componentProviders=0,ZT(r,s,n&&!i),r}(s?Bj:Hj,i.length,s,n,d);!s&&b&&(i[v].providerFactory=y),pb(r,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,s&&(a.providerIndexes+=1048576),i.push(y),o.push(y)}else pb(r,e,m>-1?m:v,ZT(i[s?v:m],d,!s&&n));!s&&n&&b&&i[v].componentProviders++}}}function pb(e,t,i,n){const s=co(t),r=function F2(e){return!!e.useClass}(t);if(s||r){const l=(r?oe(t.useClass):t).prototype.ngOnDestroy;if(l){const d=e.destroyHooks||(e.destroyHooks=[]);if(!s&&t.multi){const c=d.indexOf(i);-1===c?d.push(i,[n,l]):d[c+1].push(n,l)}else d.push(i,l)}}}function ZT(e,t,i){return i&&e.componentProviders++,e.multi.push(t)-1}function fb(e,t,i,n){for(let s=i;s<n;s++)if(t[s]===e)return s;return-1}function Hj(e,t,i,n){return mb(this.multi,[])}function Bj(e,t,i,n){const s=this.multi;let r;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=ro(i,i[B],this.providerFactory.index,n);r=a.slice(0,o),mb(s,r);for(let l=o;l<a.length;l++)r.push(a[l])}else r=[],mb(s,r);return r}function mb(e,t){for(let i=0;i<e.length;i++)t.push((0,e[i])());return t}function Te(e,t=[]){return i=>{i.providersResolver=(n,s)=>function Gj(e,t,i){const n=Ie();if(n.firstCreatePass){const s=Un(e);hb(i,n.data,n.blueprint,s,!0),hb(t,n.data,n.blueprint,s,!1)}}(n,s?s(e):e,t)}}class go{}class XT{}class gb extends go{constructor(t,i,n){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new dR(this);const s=en(t);this._bootstrapComponents=$s(s.bootstrap),this._r3Injector=S0(t,i,[{provide:go,useValue:this},{provide:_p,useValue:this.componentFactoryResolver},...n],Gt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class vb extends XT{constructor(t){super(),this.moduleType=t}create(t){return new gb(this.moduleType,t,[])}}class JT extends go{constructor(t){super(),this.componentFactoryResolver=new dR(this),this.instance=null;const i=new $a([...t.providers,{provide:go,useValue:this},{provide:_p,useValue:this.componentFactoryResolver}],t.parent||mp(),t.debugName,new Set(["environment"]));this.injector=i,t.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Cb(e,t,i=null){return new JT({providers:e,parent:t,debugName:i,runEnvironmentInitializers:!0}).injector}let jj=(()=>{class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const n=l0(0,i.type),s=n.length>0?Cb([n],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,s)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=H({token:e,providedIn:"environment",factory:()=>new e(P(_n))})}return e})();function bb(e){e.getStandaloneInjector=t=>t.get(jj).getOrCreateStandaloneInjector(e)}function yb(e,t,i,n){return oA(F(),Ei(),e,t,i,n)}function oA(e,t,i,n,s,r){const o=t+i;return ui(e,o,s)?function vs(e,t,i){return e[t]=i}(e,o+1,r?n.call(r,s):n(s)):function bc(e,t){const i=e[t];return i===ce?void 0:i}(e,o+1)}function wc(e,t){const i=Ie();let n;const s=e+Ee;i.firstCreatePass?(n=function c3(e,t){if(t)for(let i=t.length-1;i>=0;i--){const n=t[i];if(e===n.name)return n}}(t,i.pipeRegistry),i.data[s]=n,n.onDestroy&&(i.destroyHooks??=[]).push(s,n.onDestroy)):n=i.data[s];const r=n.factory||(n.factory=no(n.type)),a=ki(_);try{const l=jh(!1),d=r();return jh(l),function $z(e,t,i,n){i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),t[i]=n}(i,F(),s,d),d}finally{ki(a)}}function yc(e,t,i){const n=e+Ee,s=F(),r=Ta(s,n);return function _c(e,t){return e[B].data[t].pure}(s,n)?oA(s,Ei(),t,r.transform,i,r):r.transform(i)}function m3(){return this._results[Symbol.iterator]()}class pl{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new T)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=pl.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=m3)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,i){return this._results.reduce(t,i)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,i){const n=this;n.dirty=!1;const s=function yn(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function eB(e,t,i){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){let s=e[n],r=t[n];if(i&&(s=i(s),r=i(r)),r!==s)return!1}return!0}(n._results,s,i))&&(n._results=s,n.length=s.length,n.last=s[this.length-1],n.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function v3(e,t,i,n=!0){const s=t[B];if(function zB(e,t,i,n){const s=ni+n,r=i.length;n>0&&(i[s-1][Bn]=t),n<r-ni?(t[Bn]=i[s],ax(i,ni+n,t)):(i.push(t),t[Bn]=null),t[ut]=i;const o=t[Ad];null!==o&&i!==o&&function WB(e,t){const i=e[xa];t[Tt]!==t[ut][ut][Tt]&&(e[rD]=!0),null===i?e[xa]=[t]:i.push(t)}(o,t);const a=t[cs];null!==a&&a.insertView(e),t[pe]|=128}(s,t,e,i),n){const r=sC(i,e),o=t[le],a=op(o,e[us]);null!==a&&function HB(e,t,i,n,s,r){n[yt]=s,n[di]=t,Kd(e,n,i,1,s,r)}(s,e[di],o,t,a,r)}}let Ks=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=w3}return e})();const C3=Ks,b3=class extends C3{constructor(t,i,n){super(),this._declarationLView=t,this._declarationTContainer=i,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,i){return this.createEmbeddedViewImpl(t,i)}createEmbeddedViewImpl(t,i,n){const s=function g3(e,t,i,n){const s=t.tView,a=xp(e,s,i,4096&e[pe]?4096:16,null,t,null,null,null,n?.injector??null,n?.hydrationInfo??null);a[Ad]=e[t.index];const d=e[cs];return null!==d&&(a[cs]=d.createEmbeddedView(s)),qC(s,a,i),a}(this._declarationLView,this._declarationTContainer,t,{injector:i,hydrationInfo:n});return new sc(s)}};function w3(){return jp(ri(),F())}function jp(e,t){return 4&e.type?new b3(t,e,Qa(e,t)):null}let Dn=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=x3}return e})();function x3(){return vA(ri(),F())}const R3=Dn,mA=class extends R3{constructor(t,i,n){super(),this._lContainer=t,this._hostTNode=i,this._hostLView=n}get element(){return Qa(this._hostTNode,this._hostLView)}get injector(){return new xi(this._hostTNode,this._hostLView)}get parentInjector(){const t=qh(this._hostTNode,this._hostLView);if(kv(t)){const i=Vd(t,this._hostLView),n=kd(t);return new xi(i[B].data[n+8],i)}return new xi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const i=gA(this._lContainer);return null!==i&&i[t]||null}get length(){return this._lContainer.length-ni}createEmbeddedView(t,i,n){let s,r;"number"==typeof n?s=n:null!=n&&(s=n.index,r=n.injector);const a=t.createEmbeddedViewImpl(i||{},r,null);return this.insertImpl(a,s,false),a}createComponent(t,i,n,s,r){const o=t&&!function Bd(e){return"function"==typeof e}(t);let a;if(o)a=i;else{const C=i||{};a=C.index,n=C.injector,s=C.projectableNodes,r=C.environmentInjector||C.ngModuleRef}const l=o?t:new rc(Me(t)),d=n||this.parentInjector;if(!r&&null==l.ngModule){const b=(o?d:this.parentInjector).get(_n,null);b&&(r=b)}Me(l.componentType??{});const m=l.create(d,s,null,r);return this.insertImpl(m.hostView,a,false),m}insert(t,i){return this.insertImpl(t,i,!1)}insertImpl(t,i,n){const s=t._lView;if(function gH(e){return _i(e[ut])}(s)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const d=s[ut],c=new mA(d,d[di],d[ut]);c.detach(c.indexOf(t))}}const o=this._adjustIndex(i),a=this._lContainer;return v3(a,s,o,!n),t.attachToViewContainerRef(),ax(_b(a),o,t),t}move(t,i){return this.insert(t,i)}indexOf(t){const i=gA(this._lContainer);return null!==i?i.indexOf(t):-1}remove(t){const i=this._adjustIndex(t,-1),n=rp(this._lContainer,i);n&&(Yh(_b(this._lContainer),i),eC(n[B],n))}detach(t){const i=this._adjustIndex(t,-1),n=rp(this._lContainer,i);return n&&null!=Yh(_b(this._lContainer),i)?new sc(n):null}_adjustIndex(t,i=0){return t??this.length+i}};function gA(e){return e[8]}function _b(e){return e[8]||(e[8]=[])}function vA(e,t){let i;const n=t[e.index];return _i(n)?i=n:(i=Z0(n,t,null,e),t[e.index]=i,Rp(t,i)),CA(i,t,e,n),new mA(i,e,t)}let CA=function bA(e,t,i,n){if(e[us])return;let s;s=8&i.type?it(n):function T3(e,t){const i=e[le],n=i.createComment(""),s=Hi(t,e);return ao(i,op(i,s),n,function KB(e,t){return e.nextSibling(t)}(i,s),!1),n}(t,i),e[us]=s};class Sb{constructor(t){this.queryList=t,this.matches=null}clone(){return new Sb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Eb{constructor(t=[]){this.queries=t}createEmbeddedView(t){const i=t.queries;if(null!==i){const n=null!==t.contentQueries?t.contentQueries[0]:i.length,s=[];for(let r=0;r<n;r++){const o=i.getByIndex(r);s.push(this.queries[o.indexInDeclarationView].clone())}return new Eb(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let i=0;i<this.queries.length;i++)null!==EA(t,i).matches&&this.queries[i].setDirty()}}class wA{constructor(t,i,n=null){this.predicate=t,this.flags=i,this.read=n}}class Db{constructor(t=[]){this.queries=t}elementStart(t,i){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,i)}elementEnd(t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(t)}embeddedTView(t){let i=null;for(let n=0;n<this.length;n++){const s=null!==i?i.length:0,r=this.getByIndex(n).embeddedTView(t,s);r&&(r.indexInDeclarationView=n,null!==i?i.push(r):i=[r])}return null!==i?new Db(i):null}template(t,i){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,i)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class xb{constructor(t,i=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(t,i){this.isApplyingToNode(i)&&this.matchTNode(t,i)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,i){this.elementStart(t,i)}embeddedTView(t,i){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,i),new xb(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==i;)n=n.parent;return i===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,i){const n=this.metadata.predicate;if(Array.isArray(n))for(let s=0;s<n.length;s++){const r=n[s];this.matchTNodeWithReadOption(t,i,I3(i,r)),this.matchTNodeWithReadOption(t,i,Kh(i,t,r,!1,!1))}else n===Ks?4&i.type&&this.matchTNodeWithReadOption(t,i,-1):this.matchTNodeWithReadOption(t,i,Kh(i,t,n,!1,!1))}matchTNodeWithReadOption(t,i,n){if(null!==n){const s=this.metadata.read;if(null!==s)if(s===ye||s===Dn||s===Ks&&4&i.type)this.addMatch(i.index,-2);else{const r=Kh(i,t,s,!1,!1);null!==r&&this.addMatch(i.index,r)}else this.addMatch(i.index,n)}}addMatch(t,i){null===this.matches?this.matches=[t,i]:this.matches.push(t,i)}}function I3(e,t){const i=e.localNames;if(null!==i)for(let n=0;n<i.length;n+=2)if(i[n]===t)return i[n+1];return null}function O3(e,t,i,n){return-1===i?function F3(e,t){return 11&e.type?Qa(e,t):4&e.type?jp(e,t):null}(t,e):-2===i?function P3(e,t,i){return i===ye?Qa(t,e):i===Ks?jp(t,e):i===Dn?vA(t,e):void 0}(e,t,n):ro(e,e[B],i,t)}function yA(e,t,i,n){const s=t[cs].queries[n];if(null===s.matches){const r=e.data,o=i.matches,a=[];for(let l=0;l<o.length;l+=2){const d=o[l];a.push(d<0?null:O3(t,r[d],o[l+1],i.metadata.read))}s.matches=a}return s.matches}function Rb(e,t,i,n){const s=e.queries.getByIndex(i),r=s.matches;if(null!==r){const o=yA(e,t,s,i);for(let a=0;a<r.length;a+=2){const l=r[a];if(l>0)n.push(o[a/2]);else{const d=r[a+1],c=t[-l];for(let u=ni;u<c.length;u++){const p=c[u];p[Ad]===p[ut]&&Rb(p[B],p,d,n)}if(null!==c[xa]){const u=c[xa];for(let p=0;p<u.length;p++){const m=u[p];Rb(m[B],m,d,n)}}}}}return n}function Fe(e){const t=F(),i=Ie(),n=VD();Fv(n+1);const s=EA(i,n);if(e.dirty&&function fH(e){return 4==(4&e[pe])}(t)===(2==(2&s.metadata.flags))){if(null===s.matches)e.reset([]);else{const r=s.crossesNgTemplate?Rb(i,t,n,[]):yA(i,t,s,n);e.reset(r,J2),e.notifyOnChanges()}return!0}return!1}function on(e,t,i){const n=Ie();n.firstCreatePass&&(SA(n,new wA(e,t,i),-1),2==(2&t)&&(n.staticViewQueries=!0)),_A(n,F(),t)}function _t(e,t,i,n){const s=Ie();if(s.firstCreatePass){const r=ri();SA(s,new wA(t,i,n),r.index),function N3(e,t){const i=e.contentQueries||(e.contentQueries=[]);t!==(i.length?i[i.length-1]:-1)&&i.push(e.queries.length-1,t)}(s,e),2==(2&i)&&(s.staticContentQueries=!0)}_A(s,F(),i)}function Oe(){return function L3(e,t){return e[cs].queries[t].queryList}(F(),VD())}function _A(e,t,i){const n=new pl(4==(4&i));(function OU(e,t,i,n){const s=J0(t);s.push(i),e.firstCreatePass&&eR(e).push(n,s.length-1)})(e,t,n,n.destroy),null===t[cs]&&(t[cs]=new Eb),t[cs].queries.push(new Sb(n))}function SA(e,t,i){null===e.queries&&(e.queries=new Db),e.queries.track(new xb(t,i))}function EA(e,t){return e.queries.getByIndex(t)}function Sc(e,t){return jp(e,t)}const Ob=new O("Application Initializer");let Pb=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,n)=>{this.resolve=i,this.reject=n}),this.appInits=G(Ob,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const s of this.appInits){const r=s();if(uc(r))i.push(r);else if(OR(r)){const o=new Promise((a,l)=>{r.subscribe({complete:a,error:l})});i.push(o)}}const n=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{n()}).catch(s=>{this.reject(s)}),0===i.length&&n(),this.initialized=!0}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),BA=(()=>{class e{log(i){console.log(i)}warn(i){console.warn(i)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const ys=new O("LocaleId",{providedIn:"root",factory:()=>G(ys,Se.Optional|Se.SkipSelf)||function n4(){return typeof $localize<"u"&&$localize.locale||hl}()});let UA=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Xi(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class o4{constructor(t,i){this.ngModuleFactory=t,this.componentFactories=i}}let zA=(()=>{class e{compileModuleSync(i){return new vb(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const n=this.compileModuleSync(i),r=$s(en(i).declarations).reduce((o,a)=>{const l=Me(a);return l&&o.push(new rc(l)),o},[]);return new o4(n,r)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const qA=new O(""),Yp=new O("");let Gb,kb=(()=>{class e{constructor(i,n,s){this._ngZone=i,this.registry=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Gb||(function T4(e){Gb=e}(s),s.addToWindow(n)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{q.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(n=>!n.updateCb||!n.updateCb(i)||(clearTimeout(n.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,n,s){let r=-1;n&&n>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==r),i(this._didWork,this.getPendingTasks())},n)),this._callbacks.push({doneCb:i,timeoutId:r,updateCb:s})}whenStable(i,n,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,n,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,n,s){return[]}static#e=this.\u0275fac=function(n){return new(n||e)(P(q),P(Vb),P(Yp))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac})}return e})(),Vb=(()=>{class e{constructor(){this._applications=new Map}registerApplication(i,n){this._applications.set(i,n)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,n=!0){return Gb?.findTestabilityInTree(this,i,n)??null}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),xr=null;const KA=new O("AllowMultipleToken"),Hb=new O("PlatformDestroyListeners"),Bb=new O("appBootstrapListener");class QA{constructor(t,i){this.name=t,this.token=i}}function XA(e,t,i=[]){const n=`Platform: ${t}`,s=new O(n);return(r=[])=>{let o=Ub();if(!o||o.injector.get(KA,!1)){const a=[...i,...r,{provide:s,useValue:!0}];e?e(a):function I4(e){if(xr&&!xr.get(KA,!1))throw new x(400,!1);(function YA(){!function tH(e){vD=e}(()=>{throw new x(600,!1)})})(),xr=e;const t=e.get(eM);(function ZA(e){e.get(p0,null)?.forEach(i=>i())})(e)}(function JA(e=[],t){return Ui.create({name:t,providers:[{provide:mC,useValue:"platform"},{provide:Hb,useValue:new Set([()=>xr=null])},...e]})}(a,n))}return function O4(e){const t=Ub();if(!t)throw new x(401,!1);return t}()}}function Ub(){return xr?.get(eM)??null}let eM=(()=>{class e{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,n){const s=function P4(e="zone.js",t){return"noop"===e?new mU:"zone.js"===e?new q(t):e}(n?.ngZone,function tM(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:n?.ngZoneEventCoalescing,runCoalescing:n?.ngZoneRunCoalescing}));return s.run(()=>{const r=function Wj(e,t,i){return new gb(e,t,i)}(i.moduleType,this.injector,function oM(e){return[{provide:q,useFactory:e},{provide:Zd,multi:!0,useFactory:()=>{const t=G(N4,{optional:!0});return()=>t.initialize()}},{provide:rM,useFactory:L4},{provide:T0,useFactory:A0}]}(()=>s)),o=r.injector.get(Sn,null);return s.runOutsideAngular(()=>{const a=s.onError.subscribe({next:l=>{o.handleError(l)}});r.onDestroy(()=>{Qp(this._modules,r),a.unsubscribe()})}),function iM(e,t,i){try{const n=i();return uc(n)?n.catch(s=>{throw t.runOutsideAngular(()=>e.handleError(s)),s}):n}catch(n){throw t.runOutsideAngular(()=>e.handleError(n)),n}}(o,s,()=>{const a=r.injector.get(Pb);return a.runInitializers(),a.donePromise.then(()=>(function RT(e){Cn(e,"Expected localeId to be defined"),"string"==typeof e&&(xT=e.toLowerCase().replace(/_/g,"-"))}(r.injector.get(ys,hl)||hl),this._moduleDoBootstrap(r),r))})})}bootstrapModule(i,n=[]){const s=nM({},n);return function A4(e,t,i){const n=new vb(i);return Promise.resolve(n)}(0,0,i).then(r=>this.bootstrapModuleFactory(r,s))}_moduleDoBootstrap(i){const n=i.injector.get(vo);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(s=>n.bootstrap(s));else{if(!i.instance.ngDoBootstrap)throw new x(-403,!1);i.instance.ngDoBootstrap(n)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new x(404,!1);this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n());const i=this._injector.get(Hb,null);i&&(i.forEach(n=>n()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(n){return new(n||e)(P(Ui))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function nM(e,t){return Array.isArray(t)?t.reduce(nM,e):{...e,...t}}let vo=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=G(rM),this.zoneIsStable=G(T0),this.componentTypes=[],this.components=[],this.isStable=G(UA).hasPendingTasks.pipe(ls(i=>i?Q(!1):this.zoneIsStable),iv(),Dh()),this._injector=G(_n)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,n){const s=i instanceof v0;if(!this._injector.get(Pb).done)throw!s&&function ya(e){const t=Me(e)||ii(e)||yi(e);return null!==t&&t.standalone}(i),new x(405,!1);let o;o=s?i:this._injector.get(_p).resolveComponentFactory(i),this.componentTypes.push(o.componentType);const a=function M4(e){return e.isBoundToModule}(o)?void 0:this._injector.get(go),d=o.create(Ui.NULL,[],n||o.selector,a),c=d.location.nativeElement,u=d.injector.get(qA,null);return u?.registerApplication(c),d.onDestroy(()=>{this.detachView(d.hostView),Qp(this.components,d),u?.unregisterApplication(c)}),this._loadComponent(d),d}tick(){if(this._runningTick)throw new x(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const n=i;this._views.push(n),n.attachToAppRef(this)}detachView(i){const n=i;Qp(this._views,n),n.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const n=this._injector.get(Bb,[]);n.push(...this._bootstrapListeners),n.forEach(s=>s(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>Qp(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new x(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Qp(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}const rM=new O("",{providedIn:"root",factory:()=>G(Sn).handleError.bind(void 0)});function L4(){const e=G(q),t=G(Sn);return i=>e.runOutsideAngular(()=>t.handleError(i))}let N4=(()=>{class e{constructor(){this.zone=G(q),this.applicationRef=G(vo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let Ys=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=V4}return e})();function V4(e){return function G4(e,t,i){if(io(e)&&!i){const n=tn(e.index,t);return new sc(n,n)}return 47&e.type?new sc(t[Tt],t):null}(ri(),F(),16==(16&e))}class cM{constructor(){}supports(t){return Ip(t)}create(t){return new j4(t)}}const W4=(e,t)=>t;class j4{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||W4}forEachItem(t){let i;for(i=this._itHead;null!==i;i=i._next)t(i)}forEachOperation(t){let i=this._itHead,n=this._removalsHead,s=0,r=null;for(;i||n;){const o=!n||i&&i.currentIndex<hM(n,s,r)?i:n,a=hM(o,s,r),l=o.currentIndex;if(o===n)s--,n=n._nextRemoved;else if(i=i._next,null==o.previousIndex)s++;else{r||(r=[]);const d=a-s,c=l-s;if(d!=c){for(let p=0;p<d;p++){const m=p<r.length?r[p]:r[p]=0,v=m+p;c<=v&&v<d&&(r[p]=m+1)}r[o.previousIndex]=c-d}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)t(i)}forEachAddedItem(t){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)t(i)}forEachMovedItem(t){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)t(i)}forEachRemovedItem(t){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)t(i)}forEachIdentityChange(t){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)t(i)}diff(t){if(null==t&&(t=[]),!Ip(t))throw new x(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s,r,o,i=this._itHead,n=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)r=t[a],o=this._trackByFn(a,r),null!==i&&Object.is(i.trackById,o)?(n&&(i=this._verifyReinsertion(i,r,o,a)),Object.is(i.item,r)||this._addIdentityChange(i,r)):(i=this._mismatch(i,r,o,a),n=!0),i=i._next}else s=0,function Dz(e,t){if(Array.isArray(e))for(let i=0;i<e.length;i++)t(e[i]);else{const i=e[Symbol.iterator]();let n;for(;!(n=i.next()).done;)t(n.value)}}(t,a=>{o=this._trackByFn(s,a),null!==i&&Object.is(i.trackById,o)?(n&&(i=this._verifyReinsertion(i,a,o,s)),Object.is(i.item,a)||this._addIdentityChange(i,a)):(i=this._mismatch(i,a,o,s),n=!0),i=i._next,s++}),this.length=s;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,i,n,s){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,i)||this._addIdentityChange(t,i),this._reinsertAfter(t,r,s)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,s))?(Object.is(t.item,i)||this._addIdentityChange(t,i),this._moveAfter(t,r,s)):t=this._addAfter(new $4(i,n),r,s),t}_verifyReinsertion(t,i,n,s){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const i=t._next;this._addToRemovals(this._unlink(t)),t=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,i,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,r=t._nextRemoved;return null===s?this._removalsHead=r:s._nextRemoved=r,null===r?this._removalsTail=s:r._prevRemoved=s,this._insertAfter(t,i,n),this._addToMoves(t,n),t}_moveAfter(t,i,n){return this._unlink(t),this._insertAfter(t,i,n),this._addToMoves(t,n),t}_addAfter(t,i,n){return this._insertAfter(t,i,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,i,n){const s=null===i?this._itHead:i._next;return t._next=s,t._prev=i,null===s?this._itTail=t:s._prev=t,null===i?this._itHead=t:i._next=t,null===this._linkedRecords&&(this._linkedRecords=new uM),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const i=t._prev,n=t._next;return null===i?this._itHead=n:i._next=n,null===n?this._itTail=i:n._prev=i,t}_addToMoves(t,i){return t.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uM),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,i){return t.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class $4{constructor(t,i){this.item=t,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class q4{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,i){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===i||i<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const i=t._prevDup,n=t._nextDup;return null===i?this._head=n:i._nextDup=n,null===n?this._tail=i:n._prevDup=i,null===this._head}}class uM{constructor(){this.map=new Map}put(t){const i=t.trackById;let n=this.map.get(i);n||(n=new q4,this.map.set(i,n)),n.add(t)}get(t,i){const s=this.map.get(t);return s?s.get(t,i):null}remove(t){const i=t.trackById;return this.map.get(i).remove(t)&&this.map.delete(i),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function hM(e,t,i){const n=e.previousIndex;if(null===n)return n;let s=0;return i&&n<i.length&&(s=i[n]),n+t+s}class pM{constructor(){}supports(t){return t instanceof Map||KC(t)}create(){return new K4}}class K4{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let i;for(i=this._mapHead;null!==i;i=i._next)t(i)}forEachPreviousItem(t){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)t(i)}forEachChangedItem(t){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)t(i)}forEachAddedItem(t){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)t(i)}forEachRemovedItem(t){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)t(i)}diff(t){if(t){if(!(t instanceof Map||KC(t)))throw new x(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(t,(n,s)=>{if(i&&i.key===s)this._maybeAddToChanges(i,n),this._appendAfter=i,i=i._next;else{const r=this._getOrCreateRecordForKey(s,n);i=this._insertBeforeOrAppend(i,r)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let n=i;null!==n;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,i){if(t){const n=t._prev;return i._next=t,i._prev=n,t._prev=i,n&&(n._next=i),t===this._mapHead&&(this._mapHead=i),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(t,i){if(this._records.has(t)){const s=this._records.get(t);this._maybeAddToChanges(s,i);const r=s._prev,o=s._next;return r&&(r._next=o),o&&(o._prev=r),s._next=null,s._prev=null,s}const n=new Y4(t);return this._records.set(t,n),n.currentValue=i,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,i){Object.is(i,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=i,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,i){t instanceof Map?t.forEach(i):Object.keys(t).forEach(n=>i(t[n],n))}}class Y4{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fM(){return new Jp([new cM])}let Jp=(()=>{class e{static#e=this.\u0275prov=H({token:e,providedIn:"root",factory:fM});constructor(i){this.factories=i}static create(i,n){if(null!=n){const s=n.factories.slice();i=i.concat(s)}return new e(i)}static extend(i){return{provide:e,useFactory:n=>e.create(i,n||fM()),deps:[[e,new zd,new oo]]}}find(i){const n=this.factories.find(s=>s.supports(i));if(null!=n)return n;throw new x(901,!1)}}return e})();function mM(){return new xc([new pM])}let xc=(()=>{class e{static#e=this.\u0275prov=H({token:e,providedIn:"root",factory:mM});constructor(i){this.factories=i}static create(i,n){if(n){const s=n.factories.slice();i=i.concat(s)}return new e(i)}static extend(i){return{provide:e,useFactory:n=>e.create(i,n||mM()),deps:[[e,new zd,new oo]]}}find(i){const n=this.factories.find(s=>s.supports(i));if(n)return n;throw new x(901,!1)}}return e})();const X4=XA(null,"core",[]);let J4=(()=>{class e{constructor(i){}static#e=this.\u0275fac=function(n){return new(n||e)(P(vo))};static#t=this.\u0275mod=Ze({type:e});static#i=this.\u0275inj=qe({})}return e})();function gl(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let Kb=null;function Rr(){return Kb}class p${}const Ve=new O("DocumentToken");let Yb=(()=>{class e{historyGo(i){throw new Error("Not implemented")}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=H({token:e,factory:function(){return G(m$)},providedIn:"platform"})}return e})();const f$=new O("Location Initialized");let m$=(()=>{class e extends Yb{constructor(){super(),this._doc=G(Ve),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Rr().getBaseHref(this._doc)}onPopState(i){const n=Rr().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",i,!1),()=>n.removeEventListener("popstate",i)}onHashChange(i){const n=Rr().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",i,!1),()=>n.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,n,s){this._history.pushState(i,n,s)}replaceState(i,n,s){this._history.replaceState(i,n,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=H({token:e,factory:function(){return new e},providedIn:"platform"})}return e})();function Qb(e,t){if(0==e.length)return t;if(0==t.length)return e;let i=0;return e.endsWith("/")&&i++,t.startsWith("/")&&i++,2==i?e+t.substring(1):1==i?e+t:e+"/"+t}function EM(e){const t=e.match(/#|\?|$/),i=t&&t.index||e.length;return e.slice(0,i-("/"===e[i-1]?1:0))+e.slice(i)}function Qs(e){return e&&"?"!==e[0]?"?"+e:e}let bo=(()=>{class e{historyGo(i){throw new Error("Not implemented")}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=H({token:e,factory:function(){return G(xM)},providedIn:"root"})}return e})();const DM=new O("appBaseHref");let xM=(()=>{class e extends bo{constructor(i,n){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??G(Ve).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return Qb(this._baseHref,i)}path(i=!1){const n=this._platformLocation.pathname+Qs(this._platformLocation.search),s=this._platformLocation.hash;return s&&i?`${n}${s}`:n}pushState(i,n,s,r){const o=this.prepareExternalUrl(s+Qs(r));this._platformLocation.pushState(i,n,o)}replaceState(i,n,s,r){const o=this.prepareExternalUrl(s+Qs(r));this._platformLocation.replaceState(i,n,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}static#e=this.\u0275fac=function(n){return new(n||e)(P(Yb),P(DM,8))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),g$=(()=>{class e extends bo{constructor(i,n){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=n&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let n=this._platformLocation.hash;return null==n&&(n="#"),n.length>0?n.substring(1):n}prepareExternalUrl(i){const n=Qb(this._baseHref,i);return n.length>0?"#"+n:n}pushState(i,n,s,r){let o=this.prepareExternalUrl(s+Qs(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(i,n,o)}replaceState(i,n,s,r){let o=this.prepareExternalUrl(s+Qs(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(i,n,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}static#e=this.\u0275fac=function(n){return new(n||e)(P(Yb),P(DM,8))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac})}return e})(),Zb=(()=>{class e{constructor(i){this._subject=new T,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;const n=this._locationStrategy.getBaseHref();this._basePath=function b$(e){if(new RegExp("^(https?:)?//").test(e)){const[,i]=e.split(/\/\/[^\/]+/);return i}return e}(EM(RM(n))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,n=""){return this.path()==this.normalize(i+Qs(n))}normalize(i){return e.stripTrailingSlash(function C$(e,t){if(!e||!t.startsWith(e))return t;const i=t.substring(e.length);return""===i||["/",";","?","#"].includes(i[0])?i:t}(this._basePath,RM(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,n="",s=null){this._locationStrategy.pushState(s,"",i,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Qs(n)),s)}replaceState(i,n="",s=null){this._locationStrategy.replaceState(s,"",i,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Qs(n)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)})),()=>{const n=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(n,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",n){this._urlChangeListeners.forEach(s=>s(i,n))}subscribe(i,n,s){return this._subject.subscribe({next:i,error:n,complete:s})}static#e=this.normalizeQueryParams=Qs;static#t=this.joinWithSlash=Qb;static#i=this.stripTrailingSlash=EM;static#n=this.\u0275fac=function(n){return new(n||e)(P(bo))};static#s=this.\u0275prov=H({token:e,factory:function(){return function v$(){return new Zb(P(bo))}()},providedIn:"root"})}return e})();function RM(e){return e.replace(/\/index.html$/,"")}const aw=/\s+/,NM=[];let kM=(()=>{class e{constructor(i,n,s,r){this._iterableDiffers=i,this._keyValueDiffers=n,this._ngEl=s,this._renderer=r,this.initialClasses=NM,this.stateMap=new Map}set klass(i){this.initialClasses=null!=i?i.trim().split(aw):NM}set ngClass(i){this.rawClass="string"==typeof i?i.trim().split(aw):i}ngDoCheck(){for(const n of this.initialClasses)this._updateState(n,!0);const i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(const n of i)this._updateState(n,!0);else if(null!=i)for(const n of Object.keys(i))this._updateState(n,!!i[n]);this._applyStateDiff()}_updateState(i,n){const s=this.stateMap.get(i);void 0!==s?(s.enabled!==n&&(s.changed=!0,s.enabled=n),s.touched=!0):this.stateMap.set(i,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(const i of this.stateMap){const n=i[0],s=i[1];s.changed?(this._toggleClass(n,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),s.touched=!1}}_toggleClass(i,n){(i=i.trim()).length>0&&i.split(aw).forEach(s=>{n?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}static#e=this.\u0275fac=function(n){return new(n||e)(_(Jp),_(xc),_(ye),_(js))};static#t=this.\u0275dir=U({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return e})(),wo=(()=>{class e{constructor(i,n){this._viewContainer=i,this._context=new a5,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){HM("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){HM("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,n){return!0}static#e=this.\u0275fac=function(n){return new(n||e)(_(Dn),_(Ks))};static#t=this.\u0275dir=U({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class a5{constructor(){this.$implicit=null,this.ngIf=null}}function HM(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Gt(t)}'.`)}class lw{constructor(t,i){this._viewContainerRef=t,this._templateRef=i,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let pf=(()=>{class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(i){this._ngSwitch=i,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(i){this._defaultViews.push(i)}_matchCase(i){const n=i==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||n,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),n}_updateDefaultCases(i){if(this._defaultViews.length>0&&i!==this._defaultUsed){this._defaultUsed=i;for(const n of this._defaultViews)n.enforceState(i)}}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=U({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return e})(),BM=(()=>{class e{constructor(i,n,s){this.ngSwitch=s,s._addCase(),this._view=new lw(i,n)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(n){return new(n||e)(_(Dn),_(Ks),_(pf,9))};static#t=this.\u0275dir=U({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return e})(),dw=(()=>{class e{constructor(i){this._viewContainerRef=i,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(i){if(i.ngTemplateOutlet||i.ngTemplateOutletInjector){const n=this._viewContainerRef;if(this._viewRef&&n.remove(n.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:s,ngTemplateOutletContext:r,ngTemplateOutletInjector:o}=this;this._viewRef=n.createEmbeddedView(s,r,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&i.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(n){return new(n||e)(_(Dn))};static#t=this.\u0275dir=U({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Si]})}return e})();class u5{createSubscription(t,i){return wD(()=>t.subscribe({next:i,error:n=>{throw n}}))}dispose(t){wD(()=>t.unsubscribe())}}class h5{createSubscription(t,i){return t.then(i,n=>{throw n})}dispose(t){}}const p5=new h5,f5=new u5;let zM=(()=>{class e{constructor(i){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=i}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(i){return this._obj?i!==this._obj?(this._dispose(),this.transform(i)):this._latestValue:(i&&this._subscribe(i),this._latestValue)}_subscribe(i){this._obj=i,this._strategy=this._selectStrategy(i),this._subscription=this._strategy.createSubscription(i,n=>this._updateLatestValue(i,n))}_selectStrategy(i){if(uc(i))return p5;if(OR(i))return f5;throw function qn(e,t){return new x(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(i,n){i===this._obj&&(this._latestValue=n,this._ref.markForCheck())}static#e=this.\u0275fac=function(n){return new(n||e)(_(Ys,16))};static#t=this.\u0275pipe=Vi({name:"async",type:e,pure:!1,standalone:!0})}return e})(),Ac=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=Ze({type:e});static#i=this.\u0275inj=qe({})}return e})();const jM="browser";function $M(e){return"server"===e}let N5=(()=>{class e{static#e=this.\u0275prov=H({token:e,providedIn:"root",factory:()=>new k5(P(Ve),window)})}return e})();class k5{constructor(t,i){this.document=t,this.window=i,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const i=function V5(e,t){const i=e.getElementById(t)||e.getElementsByName(t)[0];if(i)return i;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let s=n.currentNode;for(;s;){const r=s.shadowRoot;if(r){const o=r.getElementById(t)||r.querySelector(`[name="${t}"]`);if(o)return o}s=n.nextNode()}}return null}(this.document,t);i&&(this.scrollToElement(i),i.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const i=t.getBoundingClientRect(),n=i.left+this.window.pageXOffset,s=i.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],s-r[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class l8 extends p${constructor(){super(...arguments),this.supportsDOMEvents=!0}}class fw extends l8{static makeCurrent(){!function h$(e){Kb||(Kb=e)}(new fw)}onAndCancel(t,i,n){return t.addEventListener(i,n),()=>{t.removeEventListener(i,n)}}dispatchEvent(t,i){t.dispatchEvent(i)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,i){return(i=i||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,i){return"window"===i?window:"document"===i?t:"body"===i?t.body:null}getBaseHref(t){const i=function d8(){return Ic=Ic||document.querySelector("base"),Ic?Ic.getAttribute("href"):null}();return null==i?null:function c8(e){gf=gf||document.createElement("a"),gf.setAttribute("href",e);const t=gf.pathname;return"/"===t.charAt(0)?t:`/${t}`}(i)}resetBaseElement(){Ic=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function n5(e,t){t=encodeURIComponent(t);for(const i of e.split(";")){const n=i.indexOf("="),[s,r]=-1==n?[i,""]:[i.slice(0,n),i.slice(n+1)];if(s.trim()===t)return decodeURIComponent(r)}return null}(document.cookie,t)}}let gf,Ic=null,h8=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac})}return e})();const mw=new O("EventManagerPlugins");let ZM=(()=>{class e{constructor(i,n){this._zone=n,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,n,s){return this._findPluginFor(n).addEventListener(i,n,s)}getZone(){return this._zone}_findPluginFor(i){let n=this._eventNameToPlugin.get(i);if(n)return n;if(n=this._plugins.find(r=>r.supports(i)),!n)throw new x(5101,!1);return this._eventNameToPlugin.set(i,n),n}static#e=this.\u0275fac=function(n){return new(n||e)(P(mw),P(q))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac})}return e})();class XM{constructor(t){this._doc=t}}const gw="ng-app-id";let JM=(()=>{class e{constructor(i,n,s,r={}){this.doc=i,this.appId=n,this.nonce=s,this.platformId=r,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=$M(r),this.resetHostNodes()}addStyles(i){for(const n of i)1===this.changeUsageCount(n,1)&&this.onStyleAdded(n)}removeStyles(i){for(const n of i)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){const i=this.styleNodesInDOM;i&&(i.forEach(n=>n.remove()),i.clear());for(const n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(const n of this.getAllStyles())this.addStyleToHost(i,n)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(const n of this.hostNodes)this.addStyleToHost(n,i)}onStyleRemoved(i){const n=this.styleRef;n.get(i)?.elements?.forEach(s=>s.remove()),n.delete(i)}collectServerRenderedStyles(){const i=this.doc.head?.querySelectorAll(`style[${gw}="${this.appId}"]`);if(i?.length){const n=new Map;return i.forEach(s=>{null!=s.textContent&&n.set(s.textContent,s)}),n}return null}changeUsageCount(i,n){const s=this.styleRef;if(s.has(i)){const r=s.get(i);return r.usage+=n,r.usage}return s.set(i,{usage:n,elements:[]}),n}getStyleElement(i,n){const s=this.styleNodesInDOM,r=s?.get(n);if(r?.parentNode===i)return s.delete(n),r.removeAttribute(gw),r;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=n,this.platformIsServer&&o.setAttribute(gw,this.appId),o}}addStyleToHost(i,n){const s=this.getStyleElement(i,n);i.appendChild(s);const r=this.styleRef,o=r.get(n)?.elements;o?o.push(s):r.set(n,{elements:[s],usage:1})}resetHostNodes(){const i=this.hostNodes;i.clear(),i.add(this.doc.head)}static#e=this.\u0275fac=function(n){return new(n||e)(P(Ve),P(gp),P(bC,8),P(uo))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac})}return e})();const vw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Cw=/%COMP%/g,g8=new O("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function tI(e,t){return t.map(i=>i.replace(Cw,e))}let bw=(()=>{class e{constructor(i,n,s,r,o,a,l,d=null){this.eventManager=i,this.sharedStylesHost=n,this.appId=s,this.removeStylesOnCompDestroy=r,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=$M(a),this.defaultRenderer=new ww(i,o,l,this.platformIsServer)}createRenderer(i,n){if(!i||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===bn.ShadowDom&&(n={...n,encapsulation:bn.Emulated});const s=this.getOrCreateRenderer(i,n);return s instanceof nI?s.applyToHost(i):s instanceof yw&&s.applyStyles(),s}getOrCreateRenderer(i,n){const s=this.rendererByCompId;let r=s.get(n.id);if(!r){const o=this.doc,a=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,u=this.platformIsServer;switch(n.encapsulation){case bn.Emulated:r=new nI(l,d,n,this.appId,c,o,a,u);break;case bn.ShadowDom:return new w8(l,d,i,n,o,a,this.nonce,u);default:r=new yw(l,d,n,c,o,a,u)}s.set(n.id,r)}return r}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(n){return new(n||e)(P(ZM),P(JM),P(gp),P(g8),P(Ve),P(uo),P(q),P(bC))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac})}return e})();class ww{constructor(t,i,n,s){this.eventManager=t,this.doc=i,this.ngZone=n,this.platformIsServer=s,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,i){return i?this.doc.createElementNS(vw[i]||i,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,i){(iI(t)?t.content:t).appendChild(i)}insertBefore(t,i,n){t&&(iI(t)?t.content:t).insertBefore(i,n)}removeChild(t,i){t&&t.removeChild(i)}selectRootElement(t,i){let n="string"==typeof t?this.doc.querySelector(t):t;if(!n)throw new x(-5104,!1);return i||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,i,n,s){if(s){i=s+":"+i;const r=vw[s];r?t.setAttributeNS(r,i,n):t.setAttribute(i,n)}else t.setAttribute(i,n)}removeAttribute(t,i,n){if(n){const s=vw[n];s?t.removeAttributeNS(s,i):t.removeAttribute(`${n}:${i}`)}else t.removeAttribute(i)}addClass(t,i){t.classList.add(i)}removeClass(t,i){t.classList.remove(i)}setStyle(t,i,n,s){s&(Er.DashCase|Er.Important)?t.style.setProperty(i,n,s&Er.Important?"important":""):t.style[i]=n}removeStyle(t,i,n){n&Er.DashCase?t.style.removeProperty(i):t.style[i]=""}setProperty(t,i,n){t[i]=n}setValue(t,i){t.nodeValue=i}listen(t,i,n){if("string"==typeof t&&!(t=Rr().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${i}`);return this.eventManager.addEventListener(t,i,this.decoratePreventDefault(n))}decoratePreventDefault(t){return i=>{if("__ngUnwrap__"===i)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(i)):t(i))&&i.preventDefault()}}}function iI(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class w8 extends ww{constructor(t,i,n,s,r,o,a,l){super(t,r,o,l),this.sharedStylesHost=i,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=tI(s.id,s.styles);for(const c of d){const u=document.createElement("style");a&&u.setAttribute("nonce",a),u.textContent=c,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,i){return super.appendChild(this.nodeOrShadowRoot(t),i)}insertBefore(t,i,n){return super.insertBefore(this.nodeOrShadowRoot(t),i,n)}removeChild(t,i){return super.removeChild(this.nodeOrShadowRoot(t),i)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class yw extends ww{constructor(t,i,n,s,r,o,a,l){super(t,r,o,a),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=s,this.styles=l?tI(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class nI extends yw{constructor(t,i,n,s,r,o,a,l){const d=s+"-"+n.id;super(t,i,n,r,o,a,l,d),this.contentAttr=function v8(e){return"_ngcontent-%COMP%".replace(Cw,e)}(d),this.hostAttr=function C8(e){return"_nghost-%COMP%".replace(Cw,e)}(d)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,i){const n=super.createElement(t,i);return super.setAttribute(n,this.contentAttr,""),n}}let y8=(()=>{class e extends XM{constructor(i){super(i)}supports(i){return!0}addEventListener(i,n,s){return i.addEventListener(n,s,!1),()=>this.removeEventListener(i,n,s)}removeEventListener(i,n,s){return i.removeEventListener(n,s)}static#e=this.\u0275fac=function(n){return new(n||e)(P(Ve))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac})}return e})();const sI=["alt","control","meta","shift"],_8={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},S8={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let E8=(()=>{class e extends XM{constructor(i){super(i)}supports(i){return null!=e.parseEventName(i)}addEventListener(i,n,s){const r=e.parseEventName(n),o=e.eventCallback(r.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Rr().onAndCancel(i,r.domEventName,o))}static parseEventName(i){const n=i.toLowerCase().split("."),s=n.shift();if(0===n.length||"keydown"!==s&&"keyup"!==s)return null;const r=e._normalizeKey(n.pop());let o="",a=n.indexOf("code");if(a>-1&&(n.splice(a,1),o="code."),sI.forEach(d=>{const c=n.indexOf(d);c>-1&&(n.splice(c,1),o+=d+".")}),o+=r,0!=n.length||0===r.length)return null;const l={};return l.domEventName=s,l.fullKey=o,l}static matchEventFullKeyCode(i,n){let s=_8[i.key]||i.key,r="";return n.indexOf("code.")>-1&&(s=i.code,r="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),sI.forEach(o=>{o!==s&&(0,S8[o])(i)&&(r+=o+".")}),r+=s,r===n)}static eventCallback(i,n,s){return r=>{e.matchEventFullKeyCode(r,i)&&s.runGuarded(()=>n(r))}}static _normalizeKey(i){return"esc"===i?"escape":i}static#e=this.\u0275fac=function(n){return new(n||e)(P(Ve))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac})}return e})();const oI=[{provide:uo,useValue:jM},{provide:p0,useValue:function D8(){fw.makeCurrent()},multi:!0},{provide:Ve,useFactory:function R8(){return function n2(e){aC=e}(document),document},deps:[]}],T8=XA(X4,"browser",oI),A8=new O(""),aI=[{provide:Yp,useClass:class u8{addToWindow(t){tt.getAngularTestability=(n,s=!0)=>{const r=t.findTestabilityInTree(n,s);if(null==r)throw new x(5103,!1);return r},tt.getAllAngularTestabilities=()=>t.getAllTestabilities(),tt.getAllAngularRootElements=()=>t.getAllRootElements(),tt.frameworkStabilizers||(tt.frameworkStabilizers=[]),tt.frameworkStabilizers.push(n=>{const s=tt.getAllAngularTestabilities();let r=s.length,o=!1;const a=function(l){o=o||l,r--,0==r&&n(o)};s.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,i,n){return null==i?null:t.getTestability(i)??(n?Rr().isShadowRoot(i)?this.findTestabilityInTree(t,i.host,!0):this.findTestabilityInTree(t,i.parentElement,!0):null)}},deps:[]},{provide:qA,useClass:kb,deps:[q,Vb,Yp]},{provide:kb,useClass:kb,deps:[q,Vb,Yp]}],lI=[{provide:mC,useValue:"root"},{provide:Sn,useFactory:function x8(){return new Sn},deps:[]},{provide:mw,useClass:y8,multi:!0,deps:[Ve,q,uo]},{provide:mw,useClass:E8,multi:!0,deps:[Ve]},bw,JM,ZM,{provide:ec,useExisting:bw},{provide:class G5{},useClass:h8,deps:[]},[]];let dI=(()=>{class e{constructor(i){}static withServerTransition(i){return{ngModule:e,providers:[{provide:gp,useValue:i.appId}]}}static#e=this.\u0275fac=function(n){return new(n||e)(P(A8,12))};static#t=this.\u0275mod=Ze({type:e});static#i=this.\u0275inj=qe({providers:[...lI,...aI],imports:[Ac,J4]})}return e})(),cI=(()=>{class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}static#e=this.\u0275fac=function(n){return new(n||e)(P(Ve))};static#t=this.\u0275prov=H({token:e,factory:function(n){let s=null;return s=n?new n:function I8(){return new cI(P(Ve))}(),s},providedIn:"root"})}return e})();typeof window<"u"&&window;let Sw=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=H({token:e,factory:function(n){let s=null;return s=n?new(n||e):P(pI),s},providedIn:"root"})}return e})(),pI=(()=>{class e extends Sw{constructor(i){super(),this._doc=i}sanitize(i,n){if(null==n)return null;switch(i){case oi.NONE:return n;case oi.HTML:return ms(n,"HTML")?sn(n):e0(this._doc,String(n)).toString();case oi.STYLE:return ms(n,"Style")?sn(n):n;case oi.SCRIPT:if(ms(n,"Script"))return sn(n);throw new x(5200,!1);case oi.URL:return ms(n,"URL")?sn(n):up(String(n));case oi.RESOURCE_URL:if(ms(n,"ResourceURL"))return sn(n);throw new x(5201,!1);default:throw new x(5202,!1)}}bypassSecurityTrustHtml(i){return function c2(e){return new s2(e)}(i)}bypassSecurityTrustStyle(i){return function u2(e){return new r2(e)}(i)}bypassSecurityTrustScript(i){return function h2(e){return new o2(e)}(i)}bypassSecurityTrustUrl(i){return function p2(e){return new a2(e)}(i)}bypassSecurityTrustResourceUrl(i){return function f2(e){return new l2(e)}(i)}static#e=this.\u0275fac=function(n){return new(n||e)(P(Ve))};static#t=this.\u0275prov=H({token:e,factory:function(n){let s=null;return s=n?new n:function L8(e){return new pI(e.get(Ve))}(P(Ui)),s},providedIn:"root"})}return e})();const{isArray:k8}=Array,{getPrototypeOf:V8,prototype:G8,keys:H8}=Object;function mI(e){if(1===e.length){const t=e[0];if(k8(t))return{args:t,keys:null};if(function B8(e){return e&&"object"==typeof e&&V8(e)===G8}(t)){const i=H8(t);return{args:i.map(n=>t[n]),keys:i}}}return{args:e,keys:null}}const{isArray:U8}=Array;function Ew(e){return ge(t=>function z8(e,t){return U8(t)?e(...t):e(t)}(e,t))}function gI(e,t){return e.reduce((i,n,s)=>(i[n]=t[s],i),{})}function vf(...e){const t=_d(e),i=FE(e),{args:n,keys:s}=mI(e);if(0===n.length)return Kt([],t);const r=new Qe(function W8(e,t,i=gr){return n=>{vI(t,()=>{const{length:s}=e,r=new Array(s);let o=s,a=s;for(let l=0;l<s;l++)vI(t,()=>{const d=Kt(e[l],t);let c=!1;d.subscribe(mt(n,u=>{r[l]=u,c||(c=!0,a--),a||n.next(i(r.slice()))},()=>{--o||n.complete()}))},n)},n)}}(n,t,s?o=>gI(s,o):gr));return i?r.pipe(Ew(i)):r}function vI(e,t,i){e?Vs(i,e,t):t()}const Cf=wd(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function bf(...e){return function j8(){return ba(1)}()(Kt(e,_d(e)))}function CI(e){return new Qe(t=>{wi(e()).subscribe(t)})}function Cl(e,t){const i=Re(e)?e:()=>e,n=s=>s.error(i());return new Qe(t?s=>t.schedule(n,0,s):n)}function Dw(){return xt((e,t)=>{let i=null;e._refCount++;const n=mt(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(i=null);const s=e._connection,r=i;i=null,s&&(!r||s===r)&&s.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(i=e.connect())})}class bI extends Qe{constructor(t,i){super(),this.source=t,this.subjectFactory=i,this._subject=null,this._refCount=0,this._connection=null,vE(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Vt;const i=this.getSubject();t.add(this.source.subscribe(mt(i,void 0,()=>{this._teardown(),i.complete()},n=>{this._teardown(),i.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Vt.EMPTY)}return t}refCount(){return Dw()(this)}}function Kn(e){return e<=0?()=>Gn:xt((t,i)=>{let n=0;t.subscribe(mt(i,s=>{++n<=e&&(i.next(s),e<=n&&i.complete())}))})}function wf(...e){const t=_d(e);return xt((i,n)=>{(t?bf(e,i,t):bf(e,i)).subscribe(n)})}function Ut(e,t){return xt((i,n)=>{let s=0;i.subscribe(mt(n,r=>e.call(t,r,s++)&&n.next(r)))})}function yf(e){return xt((t,i)=>{let n=!1;t.subscribe(mt(i,s=>{n=!0,i.next(s)},()=>{n||i.next(e),i.complete()}))})}function wI(e=$8){return xt((t,i)=>{let n=!1;t.subscribe(mt(i,s=>{n=!0,i.next(s)},()=>n?i.complete():i.error(e())))})}function $8(){return new Cf}function yo(e,t){const i=arguments.length>=2;return n=>n.pipe(e?Ut((s,r)=>e(s,r,n)):gr,Kn(1),i?yf(t):wI(()=>new Cf))}function bl(e,t){return Re(t)?qt(e,t,1):qt(e,1)}function Ot(e,t,i){const n=Re(e)||t||i?{next:e,error:t,complete:i}:e;return n?xt((s,r)=>{var o;null===(o=n.subscribe)||void 0===o||o.call(n);let a=!0;s.subscribe(mt(r,l=>{var d;null===(d=n.next)||void 0===d||d.call(n,l),r.next(l)},()=>{var l;a=!1,null===(l=n.complete)||void 0===l||l.call(n),r.complete()},l=>{var d;a=!1,null===(d=n.error)||void 0===d||d.call(n,l),r.error(l)},()=>{var l,d;a&&(null===(l=n.unsubscribe)||void 0===l||l.call(n)),null===(d=n.finalize)||void 0===d||d.call(n)}))}):gr}function Ar(e){return xt((t,i)=>{let r,n=null,s=!1;n=t.subscribe(mt(i,void 0,void 0,o=>{r=wi(e(o,Ar(e)(t))),n?(n.unsubscribe(),n=null,r.subscribe(i)):s=!0})),s&&(n.unsubscribe(),n=null,r.subscribe(i))})}function xw(e){return e<=0?()=>Gn:xt((t,i)=>{let n=[];t.subscribe(mt(i,s=>{n.push(s),e<n.length&&n.shift()},()=>{for(const s of n)i.next(s);i.complete()},void 0,()=>{n=null}))})}function Rw(e){return ge(()=>e)}function _f(e){return xt((t,i)=>{try{t.subscribe(i)}finally{i.add(e)}})}function Pt(e){return xt((t,i)=>{wi(e).subscribe(mt(i,()=>i.complete(),zg)),!i.closed&&t.subscribe(i)})}const ve="primary",Fc=Symbol("RouteTitle");class Q8{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const i=this.params[t];return Array.isArray(i)?i[0]:i}return null}getAll(t){if(this.has(t)){const i=this.params[t];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}}function wl(e){return new Q8(e)}function Z8(e,t,i){const n=i.path.split("/");if(n.length>e.length||"full"===i.pathMatch&&(t.hasChildren()||n.length<e.length))return null;const s={};for(let r=0;r<n.length;r++){const o=n[r],a=e[r];if(o.startsWith(":"))s[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:e.slice(0,n.length),posParams:s}}function _s(e,t){const i=e?Object.keys(e):void 0,n=t?Object.keys(t):void 0;if(!i||!n||i.length!=n.length)return!1;let s;for(let r=0;r<i.length;r++)if(s=i[r],!yI(e[s],t[s]))return!1;return!0}function yI(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const i=[...e].sort(),n=[...t].sort();return i.every((s,r)=>n[r]===s)}return e===t}function _I(e){return e.length>0?e[e.length-1]:null}function Mr(e){return function N8(e){return!!e&&(e instanceof Qe||Re(e.lift)&&Re(e.subscribe))}(e)?e:uc(e)?Kt(Promise.resolve(e)):Q(e)}const J8={exact:function DI(e,t,i){if(!_o(e.segments,t.segments)||!Sf(e.segments,t.segments,i)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children)if(!e.children[n]||!DI(e.children[n],t.children[n],i))return!1;return!0},subset:xI},SI={exact:function e6(e,t){return _s(e,t)},subset:function t6(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(i=>yI(e[i],t[i]))},ignored:()=>!0};function EI(e,t,i){return J8[i.paths](e.root,t.root,i.matrixParams)&&SI[i.queryParams](e.queryParams,t.queryParams)&&!("exact"===i.fragment&&e.fragment!==t.fragment)}function xI(e,t,i){return RI(e,t,t.segments,i)}function RI(e,t,i,n){if(e.segments.length>i.length){const s=e.segments.slice(0,i.length);return!(!_o(s,i)||t.hasChildren()||!Sf(s,i,n))}if(e.segments.length===i.length){if(!_o(e.segments,i)||!Sf(e.segments,i,n))return!1;for(const s in t.children)if(!e.children[s]||!xI(e.children[s],t.children[s],n))return!1;return!0}{const s=i.slice(0,e.segments.length),r=i.slice(e.segments.length);return!!(_o(e.segments,s)&&Sf(e.segments,s,n)&&e.children[ve])&&RI(e.children[ve],t,r,n)}}function Sf(e,t,i){return t.every((n,s)=>SI[i](e[s].parameters,n.parameters))}class yl{constructor(t=new Ye([],{}),i={},n=null){this.root=t,this.queryParams=i,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wl(this.queryParams)),this._queryParamMap}toString(){return s6.serialize(this)}}class Ye{constructor(t,i){this.segments=t,this.children=i,this.parent=null,Object.values(i).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ef(this)}}class Oc{constructor(t,i){this.path=t,this.parameters=i}get parameterMap(){return this._parameterMap||(this._parameterMap=wl(this.parameters)),this._parameterMap}toString(){return MI(this)}}function _o(e,t){return e.length===t.length&&e.every((i,n)=>i.path===t[n].path)}let Pc=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=H({token:e,factory:function(){return new Tw},providedIn:"root"})}return e})();class Tw{parse(t){const i=new m6(t);return new yl(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(t){const i=`/${Lc(t.root,!0)}`,n=function a6(e){const t=Object.keys(e).map(i=>{const n=e[i];return Array.isArray(n)?n.map(s=>`${Df(i)}=${Df(s)}`).join("&"):`${Df(i)}=${Df(n)}`}).filter(i=>!!i);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${i}${n}${"string"==typeof t.fragment?`#${function r6(e){return encodeURI(e)}(t.fragment)}`:""}`}}const s6=new Tw;function Ef(e){return e.segments.map(t=>MI(t)).join("/")}function Lc(e,t){if(!e.hasChildren())return Ef(e);if(t){const i=e.children[ve]?Lc(e.children[ve],!1):"",n=[];return Object.entries(e.children).forEach(([s,r])=>{s!==ve&&n.push(`${s}:${Lc(r,!1)}`)}),n.length>0?`${i}(${n.join("//")})`:i}{const i=function n6(e,t){let i=[];return Object.entries(e.children).forEach(([n,s])=>{n===ve&&(i=i.concat(t(s,n)))}),Object.entries(e.children).forEach(([n,s])=>{n!==ve&&(i=i.concat(t(s,n)))}),i}(e,(n,s)=>s===ve?[Lc(e.children[ve],!1)]:[`${s}:${Lc(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[ve]?`${Ef(e)}/${i[0]}`:`${Ef(e)}/(${i.join("//")})`}}function TI(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Df(e){return TI(e).replace(/%3B/gi,";")}function Aw(e){return TI(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xf(e){return decodeURIComponent(e)}function AI(e){return xf(e.replace(/\+/g,"%20"))}function MI(e){return`${Aw(e.path)}${function o6(e){return Object.keys(e).map(t=>`;${Aw(t)}=${Aw(e[t])}`).join("")}(e.parameters)}`}const l6=/^[^\/()?;#]+/;function Mw(e){const t=e.match(l6);return t?t[0]:""}const d6=/^[^\/()?;=#]+/,u6=/^[^=?&#]+/,p6=/^[^&#]+/;class m6{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ye([],{}):new Ye([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(i).length>0)&&(n[ve]=new Ye(t,i)),n}parseSegment(){const t=Mw(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new x(4009,!1);return this.capture(t),new Oc(xf(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const i=function c6(e){const t=e.match(d6);return t?t[0]:""}(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){const s=Mw(this.remaining);s&&(n=s,this.capture(n))}t[xf(i)]=xf(n)}parseQueryParam(t){const i=function h6(e){const t=e.match(u6);return t?t[0]:""}(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){const o=function f6(e){const t=e.match(p6);return t?t[0]:""}(this.remaining);o&&(n=o,this.capture(n))}const s=AI(i),r=AI(n);if(t.hasOwnProperty(s)){let o=t[s];Array.isArray(o)||(o=[o],t[s]=o),o.push(r)}else t[s]=r}parseParens(t){const i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Mw(this.remaining),s=this.remaining[n.length];if("/"!==s&&")"!==s&&";"!==s)throw new x(4010,!1);let r;n.indexOf(":")>-1?(r=n.slice(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=ve);const o=this.parseChildren();i[r]=1===Object.keys(o).length?o[ve]:new Ye([],o),this.consumeOptional("//")}return i}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new x(4011,!1)}}function II(e){return e.segments.length>0?new Ye([],{[ve]:e}):e}function FI(e){const t={};for(const n of Object.keys(e.children)){const r=FI(e.children[n]);if(n===ve&&0===r.segments.length&&r.hasChildren())for(const[o,a]of Object.entries(r.children))t[o]=a;else(r.segments.length>0||r.hasChildren())&&(t[n]=r)}return function g6(e){if(1===e.numberOfChildren&&e.children[ve]){const t=e.children[ve];return new Ye(e.segments.concat(t.segments),t.children)}return e}(new Ye(e.segments,t))}function So(e){return e instanceof yl}function OI(e){let t;const s=II(function i(r){const o={};for(const l of r.children){const d=i(l);o[l.outlet]=d}const a=new Ye(r.url,o);return r===e&&(t=a),a}(e.root));return t??s}function PI(e,t,i,n){let s=e;for(;s.parent;)s=s.parent;if(0===t.length)return Iw(s,s,s,i,n);const r=function C6(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new NI(!0,0,e);let t=0,i=!1;const n=e.reduce((s,r,o)=>{if("object"==typeof r&&null!=r){if(r.outlets){const a={};return Object.entries(r.outlets).forEach(([l,d])=>{a[l]="string"==typeof d?d.split("/"):d}),[...s,{outlets:a}]}if(r.segmentPath)return[...s,r.segmentPath]}return"string"!=typeof r?[...s,r]:0===o?(r.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?i=!0:".."===a?t++:""!=a&&s.push(a))}),s):[...s,r]},[]);return new NI(i,t,n)}(t);if(r.toRoot())return Iw(s,s,new Ye([],{}),i,n);const o=function b6(e,t,i){if(e.isAbsolute)return new Tf(t,!0,0);if(!i)return new Tf(t,!1,NaN);if(null===i.parent)return new Tf(i,!0,0);const n=Rf(e.commands[0])?0:1;return function w6(e,t,i){let n=e,s=t,r=i;for(;r>s;){if(r-=s,n=n.parent,!n)throw new x(4005,!1);s=n.segments.length}return new Tf(n,!1,s-r)}(i,i.segments.length-1+n,e.numberOfDoubleDots)}(r,s,e),a=o.processChildren?kc(o.segmentGroup,o.index,r.commands):kI(o.segmentGroup,o.index,r.commands);return Iw(s,o.segmentGroup,a,i,n)}function Rf(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Nc(e){return"object"==typeof e&&null!=e&&e.outlets}function Iw(e,t,i,n,s){let o,r={};n&&Object.entries(n).forEach(([l,d])=>{r[l]=Array.isArray(d)?d.map(c=>`${c}`):`${d}`}),o=e===t?i:LI(e,t,i);const a=II(FI(o));return new yl(a,r,s)}function LI(e,t,i){const n={};return Object.entries(e.children).forEach(([s,r])=>{n[s]=r===t?i:LI(r,t,i)}),new Ye(e.segments,n)}class NI{constructor(t,i,n){if(this.isAbsolute=t,this.numberOfDoubleDots=i,this.commands=n,t&&n.length>0&&Rf(n[0]))throw new x(4003,!1);const s=n.find(Nc);if(s&&s!==_I(n))throw new x(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Tf{constructor(t,i,n){this.segmentGroup=t,this.processChildren=i,this.index=n}}function kI(e,t,i){if(e||(e=new Ye([],{})),0===e.segments.length&&e.hasChildren())return kc(e,t,i);const n=function _6(e,t,i){let n=0,s=t;const r={match:!1,pathIndex:0,commandIndex:0};for(;s<e.segments.length;){if(n>=i.length)return r;const o=e.segments[s],a=i[n];if(Nc(a))break;const l=`${a}`,d=n<i.length-1?i[n+1]:null;if(s>0&&void 0===l)break;if(l&&d&&"object"==typeof d&&void 0===d.outlets){if(!GI(l,d,o))return r;n+=2}else{if(!GI(l,{},o))return r;n++}s++}return{match:!0,pathIndex:s,commandIndex:n}}(e,t,i),s=i.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){const r=new Ye(e.segments.slice(0,n.pathIndex),{});return r.children[ve]=new Ye(e.segments.slice(n.pathIndex),e.children),kc(r,0,s)}return n.match&&0===s.length?new Ye(e.segments,{}):n.match&&!e.hasChildren()?Fw(e,t,i):n.match?kc(e,0,s):Fw(e,t,i)}function kc(e,t,i){if(0===i.length)return new Ye(e.segments,{});{const n=function y6(e){return Nc(e[0])?e[0].outlets:{[ve]:e}}(i),s={};if(Object.keys(n).some(r=>r!==ve)&&e.children[ve]&&1===e.numberOfChildren&&0===e.children[ve].segments.length){const r=kc(e.children[ve],t,i);return new Ye(e.segments,r.children)}return Object.entries(n).forEach(([r,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(s[r]=kI(e.children[r],t,o))}),Object.entries(e.children).forEach(([r,o])=>{void 0===n[r]&&(s[r]=o)}),new Ye(e.segments,s)}}function Fw(e,t,i){const n=e.segments.slice(0,t);let s=0;for(;s<i.length;){const r=i[s];if(Nc(r)){const l=S6(r.outlets);return new Ye(n,l)}if(0===s&&Rf(i[0])){n.push(new Oc(e.segments[t].path,VI(i[0]))),s++;continue}const o=Nc(r)?r.outlets[ve]:`${r}`,a=s<i.length-1?i[s+1]:null;o&&a&&Rf(a)?(n.push(new Oc(o,VI(a))),s+=2):(n.push(new Oc(o,{})),s++)}return new Ye(n,{})}function S6(e){const t={};return Object.entries(e).forEach(([i,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(t[i]=Fw(new Ye([],{}),0,n))}),t}function VI(e){const t={};return Object.entries(e).forEach(([i,n])=>t[i]=`${n}`),t}function GI(e,t,i){return e==i.path&&_s(t,i.parameters)}const Vc="imperative";class Ss{constructor(t,i){this.id=t,this.url=i}}class Af extends Ss{constructor(t,i,n="imperative",s=null){super(t,i),this.type=0,this.navigationTrigger=n,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ir extends Ss{constructor(t,i,n){super(t,i),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gc extends Ss{constructor(t,i,n,s){super(t,i),this.reason=n,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _l extends Ss{constructor(t,i,n,s){super(t,i),this.reason=n,this.code=s,this.type=16}}class Mf extends Ss{constructor(t,i,n,s){super(t,i),this.error=n,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class HI extends Ss{constructor(t,i,n,s){super(t,i),this.urlAfterRedirects=n,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class E6 extends Ss{constructor(t,i,n,s){super(t,i),this.urlAfterRedirects=n,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class D6 extends Ss{constructor(t,i,n,s,r){super(t,i),this.urlAfterRedirects=n,this.state=s,this.shouldActivate=r,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class x6 extends Ss{constructor(t,i,n,s){super(t,i),this.urlAfterRedirects=n,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class R6 extends Ss{constructor(t,i,n,s){super(t,i),this.urlAfterRedirects=n,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class T6{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class A6{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class M6{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class I6{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class F6{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class O6{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BI{constructor(t,i,n){this.routerEvent=t,this.position=i,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ow{}class Pw{constructor(t){this.url=t}}class P6{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Hc,this.attachRef=null}}let Hc=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,n){const s=this.getOrCreateContext(i);s.outlet=n,this.contexts.set(i,s)}onChildOutletDestroyed(i){const n=this.getContext(i);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let n=this.getContext(i);return n||(n=new P6,this.contexts.set(i,n)),n}getContext(i){return this.contexts.get(i)||null}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class UI{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const i=this.pathFromRoot(t);return i.length>1?i[i.length-2]:null}children(t){const i=Lw(t,this._root);return i?i.children.map(n=>n.value):[]}firstChild(t){const i=Lw(t,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(t){const i=Nw(t,this._root);return i.length<2?[]:i[i.length-2].children.map(s=>s.value).filter(s=>s!==t)}pathFromRoot(t){return Nw(t,this._root).map(i=>i.value)}}function Lw(e,t){if(e===t.value)return t;for(const i of t.children){const n=Lw(e,i);if(n)return n}return null}function Nw(e,t){if(e===t.value)return[t];for(const i of t.children){const n=Nw(e,i);if(n.length)return n.unshift(t),n}return[]}class Js{constructor(t,i){this.value=t,this.children=i}toString(){return`TreeNode(${this.value})`}}function Sl(e){const t={};return e&&e.children.forEach(i=>t[i.value.outlet]=i),t}class zI extends UI{constructor(t,i){super(t),this.snapshot=i,kw(this,t)}toString(){return this.snapshot.toString()}}function WI(e,t){const i=function L6(e,t){const o=new If([],{},{},"",{},ve,t,null,{});return new $I("",new Js(o,[]))}(0,t),n=new Xi([new Oc("",{})]),s=new Xi({}),r=new Xi({}),o=new Xi({}),a=new Xi(""),l=new El(n,s,o,a,r,ve,t,i.root);return l.snapshot=i.root,new zI(new Js(l,[]),i)}class El{constructor(t,i,n,s,r,o,a,l){this.urlSubject=t,this.paramsSubject=i,this.queryParamsSubject=n,this.fragmentSubject=s,this.dataSubject=r,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ge(d=>d[Fc]))??Q(void 0),this.url=t,this.params=i,this.queryParams=n,this.fragment=s,this.data=r}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ge(t=>wl(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ge(t=>wl(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jI(e,t="emptyOnly"){const i=e.pathFromRoot;let n=0;if("always"!==t)for(n=i.length-1;n>=1;){const s=i[n],r=i[n-1];if(s.routeConfig&&""===s.routeConfig.path)n--;else{if(r.component)break;n--}}return function N6(e){return e.reduce((t,i)=>({params:{...t.params,...i.params},data:{...t.data,...i.data},resolve:{...i.data,...t.resolve,...i.routeConfig?.data,...i._resolvedData}}),{params:{},data:{},resolve:{}})}(i.slice(n))}class If{get title(){return this.data?.[Fc]}constructor(t,i,n,s,r,o,a,l,d){this.url=t,this.params=i,this.queryParams=n,this.fragment=s,this.data=r,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=wl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $I extends UI{constructor(t,i){super(i),this.url=t,kw(this,i)}toString(){return qI(this._root)}}function kw(e,t){t.value._routerState=e,t.children.forEach(i=>kw(e,i))}function qI(e){const t=e.children.length>0?` { ${e.children.map(qI).join(", ")} } `:"";return`${e.value}${t}`}function Vw(e){if(e.snapshot){const t=e.snapshot,i=e._futureSnapshot;e.snapshot=i,_s(t.queryParams,i.queryParams)||e.queryParamsSubject.next(i.queryParams),t.fragment!==i.fragment&&e.fragmentSubject.next(i.fragment),_s(t.params,i.params)||e.paramsSubject.next(i.params),function X8(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(!_s(e[i],t[i]))return!1;return!0}(t.url,i.url)||e.urlSubject.next(i.url),_s(t.data,i.data)||e.dataSubject.next(i.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Gw(e,t){const i=_s(e.params,t.params)&&function i6(e,t){return _o(e,t)&&e.every((i,n)=>_s(i.parameters,t[n].parameters))}(e.url,t.url);return i&&!(!e.parent!=!t.parent)&&(!e.parent||Gw(e.parent,t.parent))}let Hw=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ve,this.activateEvents=new T,this.deactivateEvents=new T,this.attachEvents=new T,this.detachEvents=new T,this.parentContexts=G(Hc),this.location=G(Dn),this.changeDetector=G(Ys),this.environmentInjector=G(_n),this.inputBinder=G(Ff,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){const{firstChange:n,previousValue:s}=i.name;if(n)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,!1);this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,n){this.activated=i,this._activatedRoute=n,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,n){if(this.isActivated)throw new x(4013,!1);this._activatedRoute=i;const s=this.location,o=i.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new k6(i,a,s.injector);this.activated=s.createComponent(o,{index:s.length,injector:l,environmentInjector:n??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=U({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Si]})}return e})();class k6{constructor(t,i,n){this.route=t,this.childContexts=i,this.parent=n}get(t,i){return t===El?this.route:t===Hc?this.childContexts:this.parent.get(t,i)}}const Ff=new O("");let KI=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){const{activatedRoute:n}=i,s=vf([n.queryParams,n.params,n.data]).pipe(ls(([r,o,a],l)=>(a={...r,...o,...a},0===l?Q(a):Promise.resolve(a)))).subscribe(r=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==n||null===n.component)return void this.unsubscribeFromRouteData(i);const o=function u$(e){const t=Me(e);if(!t)return null;const i=new rc(t);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(n.component);if(o)for(const{templateName:a}of o.inputs)i.activatedComponentRef.setInput(a,r[a]);else this.unsubscribeFromRouteData(i)});this.outletDataSubscriptions.set(i,s)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac})}return e})();function Bc(e,t,i){if(i&&e.shouldReuseRoute(t.value,i.value.snapshot)){const n=i.value;n._futureSnapshot=t.value;const s=function G6(e,t,i){return t.children.map(n=>{for(const s of i.children)if(e.shouldReuseRoute(n.value,s.value.snapshot))return Bc(e,n,s);return Bc(e,n)})}(e,t,i);return new Js(n,s)}{if(e.shouldAttach(t.value)){const r=e.retrieve(t.value);if(null!==r){const o=r.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>Bc(e,a)),o}}const n=function H6(e){return new El(new Xi(e.url),new Xi(e.params),new Xi(e.queryParams),new Xi(e.fragment),new Xi(e.data),e.outlet,e.component,e)}(t.value),s=t.children.map(r=>Bc(e,r));return new Js(n,s)}}const Bw="ngNavigationCancelingError";function YI(e,t){const{redirectTo:i,navigationBehaviorOptions:n}=So(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,s=QI(!1,0,t);return s.url=i,s.navigationBehaviorOptions=n,s}function QI(e,t,i){const n=new Error("NavigationCancelingError: "+(e||""));return n[Bw]=!0,n.cancellationCode=t,i&&(n.url=i),n}function ZI(e){return e&&e[Bw]}let XI=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=gt({type:e,selectors:[["ng-component"]],standalone:!0,features:[bb],decls:1,vars:0,template:function(n,s){1&n&&Je(0,"router-outlet")},dependencies:[Hw],encapsulation:2})}return e})();function Uw(e){const t=e.children&&e.children.map(Uw),i=t?{...e,children:t}:{...e};return!i.component&&!i.loadComponent&&(t||i.loadChildren)&&i.outlet&&i.outlet!==ve&&(i.component=XI),i}function Yn(e){return e.outlet||ve}function Uc(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const i=t.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}class K6{constructor(t,i,n,s,r){this.routeReuseStrategy=t,this.futureState=i,this.currState=n,this.forwardEvent=s,this.inputBindingEnabled=r}activate(t){const i=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,n,t),Vw(this.futureState.root),this.activateChildRoutes(i,n,t)}deactivateChildRoutes(t,i,n){const s=Sl(i);t.children.forEach(r=>{const o=r.value.outlet;this.deactivateRoutes(r,s[o],n),delete s[o]}),Object.values(s).forEach(r=>{this.deactivateRouteAndItsChildren(r,n)})}deactivateRoutes(t,i,n){const s=t.value,r=i?i.value:null;if(s===r)if(s.component){const o=n.getContext(s.outlet);o&&this.deactivateChildRoutes(t,i,o.children)}else this.deactivateChildRoutes(t,i,n);else r&&this.deactivateRouteAndItsChildren(i,n)}deactivateRouteAndItsChildren(t,i){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,i):this.deactivateRouteAndOutlet(t,i)}detachAndStoreRouteSubtree(t,i){const n=i.getContext(t.value.outlet),s=n&&t.value.component?n.children:i,r=Sl(t);for(const o of Object.keys(r))this.deactivateRouteAndItsChildren(r[o],s);if(n&&n.outlet){const o=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,i){const n=i.getContext(t.value.outlet),s=n&&t.value.component?n.children:i,r=Sl(t);for(const o of Object.keys(r))this.deactivateRouteAndItsChildren(r[o],s);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,i,n){const s=Sl(i);t.children.forEach(r=>{this.activateRoutes(r,s[r.value.outlet],n),this.forwardEvent(new O6(r.value.snapshot))}),t.children.length&&this.forwardEvent(new I6(t.value.snapshot))}activateRoutes(t,i,n){const s=t.value,r=i?i.value:null;if(Vw(s),s===r)if(s.component){const o=n.getOrCreateContext(s.outlet);this.activateChildRoutes(t,i,o.children)}else this.activateChildRoutes(t,i,n);else if(s.component){const o=n.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const a=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Vw(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=Uc(s.snapshot);o.attachRef=null,o.route=s,o.injector=a,o.outlet&&o.outlet.activateWith(s,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,n)}}class JI{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Of{constructor(t,i){this.component=t,this.route=i}}function Y6(e,t,i){const n=e._root;return zc(n,t?t._root:null,i,[n.value])}function Dl(e,t){const i=Symbol(),n=t.get(e,i);return n===i?"function"!=typeof e||function wG(e){return null!==Th(e)}(e)?t.get(e):e:n}function zc(e,t,i,n,s={canDeactivateChecks:[],canActivateChecks:[]}){const r=Sl(t);return e.children.forEach(o=>{(function Z6(e,t,i,n,s={canDeactivateChecks:[],canActivateChecks:[]}){const r=e.value,o=t?t.value:null,a=i?i.getContext(e.value.outlet):null;if(o&&r.routeConfig===o.routeConfig){const l=function X6(e,t,i){if("function"==typeof i)return i(e,t);switch(i){case"pathParamsChange":return!_o(e.url,t.url);case"pathParamsOrQueryParamsChange":return!_o(e.url,t.url)||!_s(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gw(e,t)||!_s(e.queryParams,t.queryParams);default:return!Gw(e,t)}}(o,r,r.routeConfig.runGuardsAndResolvers);l?s.canActivateChecks.push(new JI(n)):(r.data=o.data,r._resolvedData=o._resolvedData),zc(e,t,r.component?a?a.children:null:i,n,s),l&&a&&a.outlet&&a.outlet.isActivated&&s.canDeactivateChecks.push(new Of(a.outlet.component,o))}else o&&Wc(t,a,s),s.canActivateChecks.push(new JI(n)),zc(e,null,r.component?a?a.children:null:i,n,s)})(o,r[o.value.outlet],i,n.concat([o.value]),s),delete r[o.value.outlet]}),Object.entries(r).forEach(([o,a])=>Wc(a,i.getContext(o),s)),s}function Wc(e,t,i){const n=Sl(e),s=e.value;Object.entries(n).forEach(([r,o])=>{Wc(o,s.component?t?t.children.getContext(r):null:t,i)}),i.canDeactivateChecks.push(new Of(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}function jc(e){return"function"==typeof e}function eF(e){return e instanceof Cf||"EmptyError"===e?.name}const Pf=Symbol("INITIAL_VALUE");function xl(){return ls(e=>vf(e.map(t=>t.pipe(Kn(1),wf(Pf)))).pipe(ge(t=>{for(const i of t)if(!0!==i){if(i===Pf)return Pf;if(!1===i||i instanceof yl)return i}return!0}),Ut(t=>t!==Pf),Kn(1)))}function tF(e){return function DV(...e){return fE(e)}(Ot(t=>{if(So(t))throw YI(0,t)}),ge(t=>!0===t))}class Lf{constructor(t){this.segmentGroup=t||null}}class iF{constructor(t){this.urlTree=t}}function Rl(e){return Cl(new Lf(e))}function nF(e){return Cl(new iF(e))}class Cq{constructor(t,i){this.urlSerializer=t,this.urlTree=i}noMatchError(t){return new x(4002,!1)}lineralizeSegments(t,i){let n=[],s=i.root;for(;;){if(n=n.concat(s.segments),0===s.numberOfChildren)return Q(n);if(s.numberOfChildren>1||!s.children[ve])return Cl(new x(4e3,!1));s=s.children[ve]}}applyRedirectCommands(t,i,n){return this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),t,n)}applyRedirectCreateUrlTree(t,i,n,s){const r=this.createSegmentGroup(t,i.root,n,s);return new yl(r,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(t,i){const n={};return Object.entries(t).forEach(([s,r])=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);n[s]=i[a]}else n[s]=r}),n}createSegmentGroup(t,i,n,s){const r=this.createSegments(t,i.segments,n,s);let o={};return Object.entries(i.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(t,l,n,s)}),new Ye(r,o)}createSegments(t,i,n,s){return i.map(r=>r.path.startsWith(":")?this.findPosParam(t,r,s):this.findOrReturn(r,n))}findPosParam(t,i,n){const s=n[i.path.substring(1)];if(!s)throw new x(4001,!1);return s}findOrReturn(t,i){let n=0;for(const s of i){if(s.path===t.path)return i.splice(n),s;n++}return t}}const zw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bq(e,t,i,n,s){const r=Ww(e,t,i);return r.matched?(n=function U6(e,t){return e.providers&&!e._injector&&(e._injector=Cb(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,n),function mq(e,t,i,n){const s=t.canMatch;return s&&0!==s.length?Q(s.map(o=>{const a=Dl(o,e);return Mr(function sq(e){return e&&jc(e.canMatch)}(a)?a.canMatch(t,i):e.runInContext(()=>a(t,i)))})).pipe(xl(),tF()):Q(!0)}(n,t,i).pipe(ge(o=>!0===o?r:{...zw}))):Q(r)}function Ww(e,t,i){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||i.length>0)?{...zw}:{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};const s=(t.matcher||Z8)(i,e,t);if(!s)return{...zw};const r={};Object.entries(s.posParams??{}).forEach(([a,l])=>{r[a]=l.path});const o=s.consumed.length>0?{...r,...s.consumed[s.consumed.length-1].parameters}:r;return{matched:!0,consumedSegments:s.consumed,remainingSegments:i.slice(s.consumed.length),parameters:o,positionalParamSegments:s.posParams??{}}}function sF(e,t,i,n){return i.length>0&&function _q(e,t,i){return i.some(n=>Nf(e,t,n)&&Yn(n)!==ve)}(e,i,n)?{segmentGroup:new Ye(t,yq(n,new Ye(i,e.children))),slicedSegments:[]}:0===i.length&&function Sq(e,t,i){return i.some(n=>Nf(e,t,n))}(e,i,n)?{segmentGroup:new Ye(e.segments,wq(e,0,i,n,e.children)),slicedSegments:i}:{segmentGroup:new Ye(e.segments,e.children),slicedSegments:i}}function wq(e,t,i,n,s){const r={};for(const o of n)if(Nf(e,i,o)&&!s[Yn(o)]){const a=new Ye([],{});r[Yn(o)]=a}return{...s,...r}}function yq(e,t){const i={};i[ve]=t;for(const n of e)if(""===n.path&&Yn(n)!==ve){const s=new Ye([],{});i[Yn(n)]=s}return i}function Nf(e,t,i){return(!(e.hasChildren()||t.length>0)||"full"!==i.pathMatch)&&""===i.path}class Rq{constructor(t,i,n,s,r,o,a){this.injector=t,this.configLoader=i,this.rootComponentType=n,this.config=s,this.urlTree=r,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Cq(this.urlSerializer,this.urlTree)}noMatchError(t){return new x(4002,!1)}recognize(){const t=sF(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,ve).pipe(Ar(i=>{if(i instanceof iF)return this.allowRedirects=!1,this.urlTree=i.urlTree,this.match(i.urlTree);throw i instanceof Lf?this.noMatchError(i):i}),ge(i=>{const n=new If([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ve,this.rootComponentType,null,{}),s=new Js(n,i),r=new $I("",s),o=function v6(e,t,i=null,n=null){return PI(OI(e),t,i,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,r.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(r._root),{state:r,tree:o}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,ve).pipe(Ar(n=>{throw n instanceof Lf?this.noMatchError(n):n}))}inheritParamsAndData(t){const i=t.value,n=jI(i,this.paramsInheritanceStrategy);i.params=Object.freeze(n.params),i.data=Object.freeze(n.data),t.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(t,i,n,s){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,i,n):this.processSegment(t,i,n,n.segments,s,!0)}processChildren(t,i,n){const s=[];for(const r of Object.keys(n.children))"primary"===r?s.unshift(r):s.push(r);return Kt(s).pipe(bl(r=>{const o=n.children[r],a=function $6(e,t){const i=e.filter(n=>Yn(n)===t);return i.push(...e.filter(n=>Yn(n)!==t)),i}(i,r);return this.processSegmentGroup(t,a,o,r)}),function K8(e,t){return xt(function q8(e,t,i,n,s){return(r,o)=>{let a=i,l=t,d=0;r.subscribe(mt(o,c=>{const u=d++;l=a?e(l,c,u):(a=!0,c),n&&o.next(l)},s&&(()=>{a&&o.next(l),o.complete()})))}}(e,t,arguments.length>=2,!0))}((r,o)=>(r.push(...o),r)),yf(null),function Y8(e,t){const i=arguments.length>=2;return n=>n.pipe(e?Ut((s,r)=>e(s,r,n)):gr,xw(1),i?yf(t):wI(()=>new Cf))}(),qt(r=>{if(null===r)return Rl(n);const o=rF(r);return function Tq(e){e.sort((t,i)=>t.value.outlet===ve?-1:i.value.outlet===ve?1:t.value.outlet.localeCompare(i.value.outlet))}(o),Q(o)}))}processSegment(t,i,n,s,r,o){return Kt(i).pipe(bl(a=>this.processSegmentAgainstRoute(a._injector??t,i,a,n,s,r,o).pipe(Ar(l=>{if(l instanceof Lf)return Q(null);throw l}))),yo(a=>!!a),Ar(a=>{if(eF(a))return function Dq(e,t,i){return 0===t.length&&!e.children[i]}(n,s,r)?Q([]):Rl(n);throw a}))}processSegmentAgainstRoute(t,i,n,s,r,o,a){return function Eq(e,t,i,n){return!!(Yn(e)===n||n!==ve&&Nf(t,i,e))&&("**"===e.path||Ww(t,e,i).matched)}(n,s,r,o)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(t,s,n,r,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,s,i,n,r,o):Rl(s):Rl(s)}expandSegmentAgainstRouteUsingRedirect(t,i,n,s,r,o){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,s,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,i,n,s,r,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,n,s){const r=this.applyRedirects.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?nF(r):this.applyRedirects.lineralizeSegments(n,r).pipe(qt(o=>{const a=new Ye(o,{});return this.processSegment(t,i,a,o,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,i,n,s,r,o){const{matched:a,consumedSegments:l,remainingSegments:d,positionalParamSegments:c}=Ww(i,s,r);if(!a)return Rl(i);const u=this.applyRedirects.applyRedirectCommands(l,s.redirectTo,c);return s.redirectTo.startsWith("/")?nF(u):this.applyRedirects.lineralizeSegments(s,u).pipe(qt(p=>this.processSegment(t,n,i,p.concat(d),o,!1)))}matchSegmentAgainstRoute(t,i,n,s,r,o){let a;if("**"===n.path){const l=s.length>0?_I(s).parameters:{};a=Q({snapshot:new If(s,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,oF(n),Yn(n),n.component??n._loadedComponent??null,n,aF(n)),consumedSegments:[],remainingSegments:[]}),i.children={}}else a=bq(i,n,s,t).pipe(ge(({matched:l,consumedSegments:d,remainingSegments:c,parameters:u})=>l?{snapshot:new If(d,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,oF(n),Yn(n),n.component??n._loadedComponent??null,n,aF(n)),consumedSegments:d,remainingSegments:c}:null));return a.pipe(ls(l=>null===l?Rl(i):this.getChildConfig(t=n._injector??t,n,s).pipe(ls(({routes:d})=>{const c=n._loadedInjector??t,{snapshot:u,consumedSegments:p,remainingSegments:m}=l,{segmentGroup:v,slicedSegments:C}=sF(i,p,m,d);if(0===C.length&&v.hasChildren())return this.processChildren(c,d,v).pipe(ge(y=>null===y?null:[new Js(u,y)]));if(0===d.length&&0===C.length)return Q([new Js(u,[])]);const b=Yn(n)===r;return this.processSegment(c,d,v,C,b?ve:r,!0).pipe(ge(y=>[new Js(u,y)]))}))))}getChildConfig(t,i,n){return i.children?Q({routes:i.children,injector:t}):i.loadChildren?void 0!==i._loadedRoutes?Q({routes:i._loadedRoutes,injector:i._loadedInjector}):function fq(e,t,i,n){const s=t.canLoad;return void 0===s||0===s.length?Q(!0):Q(s.map(o=>{const a=Dl(o,e);return Mr(function eq(e){return e&&jc(e.canLoad)}(a)?a.canLoad(t,i):e.runInContext(()=>a(t,i)))})).pipe(xl(),tF())}(t,i,n).pipe(qt(s=>s?this.configLoader.loadChildren(t,i).pipe(Ot(r=>{i._loadedRoutes=r.routes,i._loadedInjector=r.injector})):function vq(e){return Cl(QI(!1,3))}())):Q({routes:[],injector:t})}}function Aq(e){const t=e.value.routeConfig;return t&&""===t.path}function rF(e){const t=[],i=new Set;for(const n of e){if(!Aq(n)){t.push(n);continue}const s=t.find(r=>n.value.routeConfig===r.value.routeConfig);void 0!==s?(s.children.push(...n.children),i.add(s)):t.push(n)}for(const n of i){const s=rF(n.children);t.push(new Js(n.value,s))}return t.filter(n=>!i.has(n))}function oF(e){return e.data||{}}function aF(e){return e.resolve||{}}function lF(e){return"string"==typeof e.title||null===e.title}function jw(e){return ls(t=>{const i=e(t);return i?Kt(i).pipe(ge(()=>t)):Q(t)})}const Tl=new O("ROUTES");let $w=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=G(zA)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Q(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);const n=Mr(i.loadComponent()).pipe(ge(dF),Ot(r=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=r}),_f(()=>{this.componentLoaders.delete(i)})),s=new bI(n,()=>new _e).pipe(Dw());return this.componentLoaders.set(i,s),s}loadChildren(i,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return Q({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);const r=function Nq(e,t,i,n){return Mr(e.loadChildren()).pipe(ge(dF),qt(s=>s instanceof XT||Array.isArray(s)?Q(s):Kt(t.compileModuleAsync(s))),ge(s=>{n&&n(e);let r,o,a=!1;return Array.isArray(s)?(o=s,!0):(r=s.create(i).injector,o=r.get(Tl,[],{optional:!0,self:!0}).flat()),{routes:o.map(Uw),injector:r}}))}(n,this.compiler,i,this.onLoadEndListener).pipe(_f(()=>{this.childrenLoaders.delete(n)})),o=new bI(r,()=>new _e).pipe(Dw());return this.childrenLoaders.set(n,o),o}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function dF(e){return function kq(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let kf=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new _e,this.transitionAbortSubject=new _e,this.configLoader=G($w),this.environmentInjector=G(_n),this.urlSerializer=G(Pc),this.rootContexts=G(Hc),this.inputBindingEnabled=null!==G(Ff,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Q(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new A6(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new T6(s))}complete(){this.transitions?.complete()}handleNavigationRequest(i){const n=++this.navigationId;this.transitions?.next({...this.transitions.value,...i,id:n})}setupNavigations(i,n,s){return this.transitions=new Xi({id:0,currentUrlTree:n,currentRawUrl:n,currentBrowserUrl:n,extractedUrl:i.urlHandlingStrategy.extract(n),urlAfterRedirects:i.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Vc,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ut(r=>0!==r.id),ge(r=>({...r,extractedUrl:i.urlHandlingStrategy.extract(r.rawUrl)})),ls(r=>{this.currentTransition=r;let o=!1,a=!1;return Q(r).pipe(Ot(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ls(l=>{const d=l.currentBrowserUrl.toString(),c=!i.navigated||l.extractedUrl.toString()!==d||d!==l.currentUrlTree.toString();if(!c&&"reload"!==(l.extras.onSameUrlNavigation??i.onSameUrlNavigation)){const p="";return this.events.next(new _l(l.id,this.urlSerializer.serialize(l.rawUrl),p,0)),l.resolve(null),Gn}if(i.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Q(l).pipe(ls(p=>{const m=this.transitions?.getValue();return this.events.next(new Af(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?Gn:Promise.resolve(p)}),function Mq(e,t,i,n,s,r){return qt(o=>function xq(e,t,i,n,s,r,o="emptyOnly"){return new Rq(e,t,i,n,s,o,r).recognize()}(e,t,i,n,o.extractedUrl,s,r).pipe(ge(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,i.paramsInheritanceStrategy),Ot(p=>{r.targetSnapshot=p.targetSnapshot,r.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:p.urlAfterRedirects};const m=new HI(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(c&&i.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:p,extractedUrl:m,source:v,restoredState:C,extras:b}=l,y=new Af(p,this.urlSerializer.serialize(m),v,C);this.events.next(y);const w=WI(0,this.rootComponentType).snapshot;return this.currentTransition=r={...l,targetSnapshot:w,urlAfterRedirects:m,extras:{...b,skipLocationChange:!1,replaceUrl:!1}},Q(r)}{const p="";return this.events.next(new _l(l.id,this.urlSerializer.serialize(l.extractedUrl),p,1)),l.resolve(null),Gn}}),Ot(l=>{const d=new E6(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),ge(l=>(this.currentTransition=r={...l,guards:Y6(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},r)),function oq(e,t){return qt(i=>{const{targetSnapshot:n,currentSnapshot:s,guards:{canActivateChecks:r,canDeactivateChecks:o}}=i;return 0===o.length&&0===r.length?Q({...i,guardsResult:!0}):function aq(e,t,i,n){return Kt(e).pipe(qt(s=>function pq(e,t,i,n,s){const r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return r&&0!==r.length?Q(r.map(a=>{const l=Uc(t)??s,d=Dl(a,l);return Mr(function nq(e){return e&&jc(e.canDeactivate)}(d)?d.canDeactivate(e,t,i,n):l.runInContext(()=>d(e,t,i,n))).pipe(yo())})).pipe(xl()):Q(!0)}(s.component,s.route,i,t,n)),yo(s=>!0!==s,!0))}(o,n,s,e).pipe(qt(a=>a&&function J6(e){return"boolean"==typeof e}(a)?function lq(e,t,i,n){return Kt(t).pipe(bl(s=>bf(function cq(e,t){return null!==e&&t&&t(new M6(e)),Q(!0)}(s.route.parent,n),function dq(e,t){return null!==e&&t&&t(new F6(e)),Q(!0)}(s.route,n),function hq(e,t,i){const n=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(o=>function Q6(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(o)).filter(o=>null!==o).map(o=>CI(()=>Q(o.guards.map(l=>{const d=Uc(o.node)??i,c=Dl(l,d);return Mr(function iq(e){return e&&jc(e.canActivateChild)}(c)?c.canActivateChild(n,e):d.runInContext(()=>c(n,e))).pipe(yo())})).pipe(xl())));return Q(r).pipe(xl())}(e,s.path,i),function uq(e,t,i){const n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||0===n.length)return Q(!0);const s=n.map(r=>CI(()=>{const o=Uc(t)??i,a=Dl(r,o);return Mr(function tq(e){return e&&jc(e.canActivate)}(a)?a.canActivate(t,e):o.runInContext(()=>a(t,e))).pipe(yo())}));return Q(s).pipe(xl())}(e,s.route,i))),yo(s=>!0!==s,!0))}(n,r,e,t):Q(a)),ge(a=>({...i,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Ot(l=>{if(r.guardsResult=l.guardsResult,So(l.guardsResult))throw YI(0,l.guardsResult);const d=new D6(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),Ut(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),jw(l=>{if(l.guards.canActivateChecks.length)return Q(l).pipe(Ot(d=>{const c=new x6(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(c)}),ls(d=>{let c=!1;return Q(d).pipe(function Iq(e,t){return qt(i=>{const{targetSnapshot:n,guards:{canActivateChecks:s}}=i;if(!s.length)return Q(i);let r=0;return Kt(s).pipe(bl(o=>function Fq(e,t,i,n){const s=e.routeConfig,r=e._resolve;return void 0!==s?.title&&!lF(s)&&(r[Fc]=s.title),function Oq(e,t,i,n){const s=function Pq(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===s.length)return Q({});const r={};return Kt(s).pipe(qt(o=>function Lq(e,t,i,n){const s=Uc(t)??n,r=Dl(e,s);return Mr(r.resolve?r.resolve(t,i):s.runInContext(()=>r(t,i)))}(e[o],t,i,n).pipe(yo(),Ot(a=>{r[o]=a}))),xw(1),Rw(r),Ar(o=>eF(o)?Gn:Cl(o)))}(r,e,t,n).pipe(ge(o=>(e._resolvedData=o,e.data=jI(e,i).resolve,s&&lF(s)&&(e.data[Fc]=s.title),null)))}(o.route,n,e,t)),Ot(()=>r++),xw(1),qt(o=>r===s.length?Q(i):Gn))})}(i.paramsInheritanceStrategy,this.environmentInjector),Ot({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(d,"",2)}}))}),Ot(d=>{const c=new R6(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(c)}))}),jw(l=>{const d=c=>{const u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(Ot(p=>{c.component=p}),ge(()=>{})));for(const p of c.children)u.push(...d(p));return u};return vf(d(l.targetSnapshot.root)).pipe(yf(),Kn(1))}),jw(()=>this.afterPreactivation()),ge(l=>{const d=function V6(e,t,i){const n=Bc(e,t._root,i?i._root:void 0);return new zI(n,t)}(i.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=r={...l,targetRouterState:d},r}),Ot(()=>{this.events.next(new Ow)}),((e,t,i,n)=>ge(s=>(new K6(t,s.targetRouterState,s.currentRouterState,i,n).activate(e),s)))(this.rootContexts,i.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Kn(1),Ot({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ir(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),i.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),Pt(this.transitionAbortSubject.pipe(Ot(l=>{throw l}))),_f(()=>{o||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ar(l=>{if(a=!0,ZI(l))this.events.next(new Gc(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode)),function B6(e){return ZI(e)&&So(e.url)}(l)?this.events.next(new Pw(l.url)):r.resolve(!1);else{this.events.next(new Mf(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0));try{r.resolve(i.errorHandler(l))}catch(d){r.reject(d)}}return Gn}))}))}cancelNavigationTransition(i,n,s){const r=new Gc(i.id,this.urlSerializer.serialize(i.extractedUrl),n,s);this.events.next(r),i.resolve(!1)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function cF(e){return e!==Vc}let uF=(()=>{class e{buildTitle(i){let n,s=i.root;for(;void 0!==s;)n=this.getResolvedTitleForRoute(s)??n,s=s.children.find(r=>r.outlet===ve);return n}getResolvedTitleForRoute(i){return i.data[Fc]}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=H({token:e,factory:function(){return G(Vq)},providedIn:"root"})}return e})(),Vq=(()=>{class e extends uF{constructor(i){super(),this.title=i}updateTitle(i){const n=this.buildTitle(i);void 0!==n&&this.title.setTitle(n)}static#e=this.\u0275fac=function(n){return new(n||e)(P(cI))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Gq=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=H({token:e,factory:function(){return G(Bq)},providedIn:"root"})}return e})();class Hq{shouldDetach(t){return!1}store(t,i){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,i){return t.routeConfig===i.routeConfig}}let Bq=(()=>{class e extends Hq{static#e=this.\u0275fac=function(){let i;return function(s){return(i||(i=Ct(e)))(s||e)}}();static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Vf=new O("",{providedIn:"root",factory:()=>({})});let Uq=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=H({token:e,factory:function(){return G(zq)},providedIn:"root"})}return e})(),zq=(()=>{class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,n){return i}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var $c=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}($c||{});function hF(e,t){e.events.pipe(Ut(i=>i instanceof Ir||i instanceof Gc||i instanceof Mf||i instanceof _l),ge(i=>i instanceof Ir||i instanceof _l?$c.COMPLETE:i instanceof Gc&&(0===i.code||1===i.code)?$c.REDIRECTING:$c.FAILED),Ut(i=>i!==$c.REDIRECTING),Kn(1)).subscribe(()=>{t()})}function Wq(e){throw e}function jq(e,t,i){return t.parse("/")}const $q={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qq={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ln=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=G(BA),this.isNgZoneEnabled=!1,this._events=new _e,this.options=G(Vf,{optional:!0})||{},this.pendingTasks=G(UA),this.errorHandler=this.options.errorHandler||Wq,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||jq,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=G(Uq),this.routeReuseStrategy=G(Gq),this.titleStrategy=G(uF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=G(Tl,{optional:!0})?.flat()??[],this.navigationTransitions=G(kf),this.urlSerializer=G(Pc),this.location=G(Zb),this.componentInputBindingEnabled=!!G(Ff,{optional:!0}),this.eventsSubscription=new Vt,this.isNgZoneEnabled=G(q)instanceof q&&q.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new yl,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=WI(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(i=>{this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId},i=>{this.console.warn(`Unhandled Navigation Error: ${i}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const i=this.navigationTransitions.events.subscribe(n=>{try{const{currentTransition:s}=this.navigationTransitions;if(null===s)return void(pF(n)&&this._events.next(n));if(n instanceof Af)cF(s.source)&&(this.browserUrlTree=s.extractedUrl);else if(n instanceof _l)this.rawUrlTree=s.rawUrl;else if(n instanceof HI){if("eager"===this.urlUpdateStrategy){if(!s.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl);this.setBrowserUrl(r,s)}this.browserUrlTree=s.urlAfterRedirects}}else if(n instanceof Ow)this.currentUrlTree=s.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s),this.browserUrlTree=s.urlAfterRedirects);else if(n instanceof Gc)0!==n.code&&1!==n.code&&(this.navigated=!0),(3===n.code||2===n.code)&&this.restoreHistory(s);else if(n instanceof Pw){const r=this.urlHandlingStrategy.merge(n.url,s.currentRawUrl),o={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||cF(s.source)};this.scheduleNavigation(r,Vc,null,o,{resolve:s.resolve,reject:s.reject,promise:s.promise})}n instanceof Mf&&this.restoreHistory(s,!0),n instanceof Ir&&(this.navigated=!0),pF(n)&&this._events.next(n)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const i=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Vc,i)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const n="popstate"===i.type?"popstate":"hashchange";"popstate"===n&&setTimeout(()=>{this.navigateToSyncWithBrowser(i.url,n,i.state)},0)}))}navigateToSyncWithBrowser(i,n,s){const r={replaceUrl:!0},o=s?.navigationId?s:null;if(s){const l={...s};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(r.state=l)}const a=this.parseUrl(i);this.scheduleNavigation(a,n,o,r)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(Uw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,n={}){const{relativeTo:s,queryParams:r,fragment:o,queryParamsHandling:a,preserveFragment:l}=n,d=l?this.currentUrlTree.fragment:o;let u,c=null;switch(a){case"merge":c={...this.currentUrlTree.queryParams,...r};break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}null!==c&&(c=this.removeEmptyProps(c));try{u=OI(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof i[0]||!i[0].startsWith("/"))&&(i=[]),u=this.currentUrlTree.root}return PI(u,i,c,d??null)}navigateByUrl(i,n={skipLocationChange:!1}){const s=So(i)?i:this.parseUrl(i),r=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(r,Vc,null,n)}navigate(i,n={skipLocationChange:!1}){return function Kq(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new x(4008,!1)}(i),this.navigateByUrl(this.createUrlTree(i,n),n)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let n;try{n=this.urlSerializer.parse(i)}catch(s){n=this.malformedUriErrorHandler(s,this.urlSerializer,i)}return n}isActive(i,n){let s;if(s=!0===n?{...$q}:!1===n?{...qq}:n,So(i))return EI(this.currentUrlTree,i,s);const r=this.parseUrl(i);return EI(this.currentUrlTree,r,s)}removeEmptyProps(i){return Object.keys(i).reduce((n,s)=>{const r=i[s];return null!=r&&(n[s]=r),n},{})}scheduleNavigation(i,n,s,r,o){if(this.disposed)return Promise.resolve(!1);let a,l,d;o?(a=o.resolve,l=o.reject,d=o.promise):d=new Promise((u,p)=>{a=u,l=p});const c=this.pendingTasks.add();return hF(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(c))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:i,extras:r,resolve:a,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(u=>Promise.reject(u))}setBrowserUrl(i,n){const s=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(s)||n.extras.replaceUrl){const o={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId)};this.location.replaceState(s,"",o)}else{const r={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId+1)};this.location.go(s,"",r)}}restoreHistory(i,n=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-this.browserPageId;0!==r?this.location.historyGo(r):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(n&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,n){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:n}:{navigationId:i}}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function pF(e){return!(e instanceof Ow||e instanceof Pw)}let Gf=(()=>{class e{constructor(i,n,s,r,o,a){this.router=i,this.route=n,this.tabIndexAttribute=s,this.renderer=r,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new _e,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=i.events.subscribe(d=>{d instanceof Ir&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){null!=i?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(i,n,s,r,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==i||n||s||r||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const i=null===this.href?null:function s0(e,t,i){return function A2(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?n0:t0}(t,i)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(i,n){const s=this.renderer,r=this.el.nativeElement;null!==n?s.setAttribute(r,i,n):s.removeAttribute(r,i)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(n){return new(n||e)(_(ln),_(El),Hd("tabindex"),_(js),_(ye),_(bo))};static#t=this.\u0275dir=U({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,s){1&n&&bt("click",function(o){return s.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&n&&lt("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",gl],skipLocationChange:["skipLocationChange","skipLocationChange",gl],replaceUrl:["replaceUrl","replaceUrl",gl],routerLink:"routerLink"},standalone:!0,features:[mR,Si]})}return e})();class fF{}let Zq=(()=>{class e{constructor(i,n,s,r,o){this.router=i,this.injector=s,this.preloadingStrategy=r,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ut(i=>i instanceof Ir),bl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,n){const s=[];for(const r of n){r.providers&&!r._injector&&(r._injector=Cb(r.providers,i,`Route: ${r.path}`));const o=r._injector??i,a=r._loadedInjector??o;(r.loadChildren&&!r._loadedRoutes&&void 0===r.canLoad||r.loadComponent&&!r._loadedComponent)&&s.push(this.preloadConfig(o,r)),(r.children||r._loadedRoutes)&&s.push(this.processRoutes(a,r.children??r._loadedRoutes))}return Kt(s).pipe(ba())}preloadConfig(i,n){return this.preloadingStrategy.preload(n,()=>{let s;s=n.loadChildren&&void 0===n.canLoad?this.loader.loadChildren(i,n):Q(null);const r=s.pipe(qt(o=>null===o?Q(void 0):(n._loadedRoutes=o.routes,n._loadedInjector=o.injector,this.processRoutes(o.injector??i,o.routes))));return n.loadComponent&&!n._loadedComponent?Kt([r,this.loader.loadComponent(n)]).pipe(ba()):r})}static#e=this.\u0275fac=function(n){return new(n||e)(P(ln),P(zA),P(_n),P(fF),P($w))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const qw=new O("");let mF=(()=>{class e{constructor(i,n,s,r,o={}){this.urlSerializer=i,this.transitions=n,this.viewportScroller=s,this.zone=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Af?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Ir?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof _l&&0===i.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof BI&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new BI(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(n){NC()};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac})}return e})();function er(e,t){return{\u0275kind:e,\u0275providers:t}}function vF(){const e=G(Ui);return t=>{const i=e.get(vo);if(t!==i.components[0])return;const n=e.get(ln),s=e.get(CF);1===e.get(Kw)&&n.initialNavigation(),e.get(bF,null,Se.Optional)?.setUpPreloading(),e.get(qw,null,Se.Optional)?.init(),n.resetRootComponentType(i.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const CF=new O("",{factory:()=>new _e}),Kw=new O("",{providedIn:"root",factory:()=>1}),bF=new O("");function tK(e){return er(0,[{provide:bF,useExisting:Zq},{provide:fF,useExisting:e}])}const wF=new O("ROUTER_FORROOT_GUARD"),nK=[Zb,{provide:Pc,useClass:Tw},ln,Hc,{provide:El,useFactory:function gF(e){return e.routerState.root},deps:[ln]},$w,[]];function sK(){return new QA("Router",ln)}let yF=(()=>{class e{constructor(i){}static forRoot(i,n){return{ngModule:e,providers:[nK,[],{provide:Tl,multi:!0,useValue:i},{provide:wF,useFactory:lK,deps:[[ln,new oo,new zd]]},{provide:Vf,useValue:n||{}},n?.useHash?{provide:bo,useClass:g$}:{provide:bo,useClass:xM},{provide:qw,useFactory:()=>{const e=G(N5),t=G(q),i=G(Vf),n=G(kf),s=G(Pc);return i.scrollOffset&&e.setOffset(i.scrollOffset),new mF(s,n,e,t,i)}},n?.preloadingStrategy?tK(n.preloadingStrategy).\u0275providers:[],{provide:QA,multi:!0,useFactory:sK},n?.initialNavigation?dK(n):[],n?.bindToComponentInputs?er(8,[KI,{provide:Ff,useExisting:KI}]).\u0275providers:[],[{provide:_F,useFactory:vF},{provide:Bb,multi:!0,useExisting:_F}]]}}static forChild(i){return{ngModule:e,providers:[{provide:Tl,multi:!0,useValue:i}]}}static#e=this.\u0275fac=function(n){return new(n||e)(P(wF,8))};static#t=this.\u0275mod=Ze({type:e});static#i=this.\u0275inj=qe({})}return e})();function lK(e){return"guarded"}function dK(e){return["disabled"===e.initialNavigation?er(3,[{provide:Ob,multi:!0,useFactory:()=>{const t=G(ln);return()=>{t.setUpLocationChangeListener()}}},{provide:Kw,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?er(2,[{provide:Kw,useValue:0},{provide:Ob,multi:!0,deps:[Ui],useFactory:t=>{const i=t.get(f$,Promise.resolve());return()=>i.then(()=>new Promise(n=>{const s=t.get(ln),r=t.get(CF);hF(s,()=>{n(!0)}),t.get(kf).afterPreactivation=()=>(n(!0),r.closed?Q(void 0):r),s.initialNavigation()}))}}]).\u0275providers:[]]}const _F=new O("");function dt(e){return null!=e&&"false"!=`${e}`}function Hf(e,t=0){return function uK(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):t}function SF(e){return Array.isArray(e)?e:[e]}function tr(e){return e instanceof ye?e.nativeElement:e}function EF(e){return Ut((t,i)=>e<=i)}class hK extends Vt{constructor(t,i){super()}schedule(t,i=0){return this}}const Bf={setInterval(e,t,...i){const{delegate:n}=Bf;return n?.setInterval?n.setInterval(e,t,...i):setInterval(e,t,...i)},clearInterval(e){const{delegate:t}=Bf;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};class Yw extends hK{constructor(t,i){super(t,i),this.scheduler=t,this.work=i,this.pending=!1}schedule(t,i=0){var n;if(this.closed)return this;this.state=t;const s=this.id,r=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(r,s,i)),this.pending=!0,this.delay=i,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(r,this.id,i),this}requestAsyncId(t,i,n=0){return Bf.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,i,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return i;null!=i&&Bf.clearInterval(i)}execute(t,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,i);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,i){let s,n=!1;try{this.work(t)}catch(r){n=!0,s=r||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:t,scheduler:i}=this,{actions:n}=i;this.work=this.state=this.scheduler=null,this.pending=!1,Ca(n,this),null!=t&&(this.id=this.recycleAsyncId(i,t,null)),this.delay=null,super.unsubscribe()}}}const Qw={now:()=>(Qw.delegate||Date).now(),delegate:void 0};class qc{constructor(t,i=qc.now){this.schedulerActionCtor=t,this.now=i}schedule(t,i=0,n){return new this.schedulerActionCtor(this,t).schedule(n,i)}}qc.now=Qw.now;class Zw extends qc{constructor(t,i=qc.now){super(t,i),this.actions=[],this._active=!1}flush(t){const{actions:i}=this;if(this._active)return void i.push(t);let n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=i.shift());if(this._active=!1,n){for(;t=i.shift();)t.unsubscribe();throw n}}}const Xw=new Zw(Yw),pK=Xw;function Uf(e,t=Xw){return xt((i,n)=>{let s=null,r=null,o=null;const a=()=>{if(s){s.unsubscribe(),s=null;const d=r;r=null,n.next(d)}};function l(){const d=o+e,c=t.now();if(c<d)return s=this.schedule(void 0,d-c),void n.add(s);a()}i.subscribe(mt(n,d=>{r=d,o=t.now(),s||(s=t.schedule(l,e),n.add(s))},()=>{a(),n.complete()},void 0,()=>{r=s=null}))})}let Jw;try{Jw=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Jw=!1}let Al,zt=(()=>{class e{constructor(i){this._platformId=i,this.isBrowser=this._platformId?function L5(e){return e===jM}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Jw)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(n){return new(n||e)(P(uo))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const DF=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function xF(){if(Al)return Al;if("object"!=typeof document||!document)return Al=new Set(DF),Al;let e=document.createElement("input");return Al=new Set(DF.filter(t=>(e.setAttribute("type",t),e.type===t))),Al}let Kc,zf,Eo,ey;function Yc(e){return function fK(){if(null==Kc&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Kc=!0}))}finally{Kc=Kc||!1}return Kc}()?e:!!e.capture}function Qc(){if("object"!=typeof document||!document)return 0;if(null==zf){const e=document.createElement("div"),t=e.style;e.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const i=document.createElement("div"),n=i.style;n.width="2px",n.height="1px",e.appendChild(i),document.body.appendChild(e),zf=0,0===e.scrollLeft&&(e.scrollLeft=1,zf=0===e.scrollLeft?1:2),e.remove()}return zf}function Ml(e){return e.composedPath?e.composedPath()[0]:e.target}const RF=new Set;let Do,wK=(()=>{class e{constructor(i,n){this._platform=i,this._nonce=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):_K}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&function yK(e,t){if(!RF.has(e))try{Do||(Do=document.createElement("style"),t&&(Do.nonce=t),Do.setAttribute("type","text/css"),document.head.appendChild(Do)),Do.sheet&&(Do.sheet.insertRule(`@media ${e} {body{ }}`,0),RF.add(e))}catch(i){console.error(i)}}(i,this._nonce),this._matchMedia(i)}static#e=this.\u0275fac=function(n){return new(n||e)(P(zt),P(bC,8))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function _K(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let ty=(()=>{class e{constructor(i,n){this._mediaMatcher=i,this._zone=n,this._queries=new Map,this._destroySubject=new _e}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return TF(SF(i)).some(s=>this._registerQuery(s).mql.matches)}observe(i){let r=vf(TF(SF(i)).map(o=>this._registerQuery(o).observable));return r=bf(r.pipe(Kn(1)),r.pipe(EF(1),Uf(0))),r.pipe(ge(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:d})=>{a.matches=a.matches||l,a.breakpoints[d]=l}),a}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);const n=this._mediaMatcher.matchMedia(i),r={observable:new Qe(o=>{const a=l=>this._zone.run(()=>o.next(l));return n.addListener(a),()=>{n.removeListener(a)}}).pipe(wf(n),ge(({matches:o})=>({query:i,matches:o})),Pt(this._destroySubject)),mql:n};return this._queries.set(i,r),r}static#e=this.\u0275fac=function(n){return new(n||e)(P(wK),P(q))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function TF(e){return e.map(t=>t.split(",")).reduce((t,i)=>t.concat(i)).map(t=>t.trim())}const Wf_Small="(min-width: 600px) and (max-width: 959.98px)";function AF(...e){const t=FE(e),{args:i,keys:n}=mI(e),s=new Qe(r=>{const{length:o}=i;if(!o)return void r.complete();const a=new Array(o);let l=o,d=o;for(let c=0;c<o;c++){let u=!1;wi(i[c]).subscribe(mt(r,p=>{u||(u=!0,d--),a[c]=p},()=>l--,void 0,()=>{(!l||!u)&&(d||r.next(n?gI(n,a):a),r.complete())}))}});return t?s.pipe(Ew(t)):s}let MF=(()=>{class e{constructor(i,n){this._renderer=i,this._elementRef=n,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(i,n){this._renderer.setProperty(this._elementRef.nativeElement,i,n)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}static#e=this.\u0275fac=function(n){return new(n||e)(_(js),_(ye))};static#t=this.\u0275dir=U({type:e})}return e})(),xo=(()=>{class e extends MF{static#e=this.\u0275fac=function(){let i;return function(s){return(i||(i=Ct(e)))(s||e)}}();static#t=this.\u0275dir=U({type:e,features:[de]})}return e})();const Qn=new O("NgValueAccessor"),EK={provide:Qn,useExisting:$e(()=>jf),multi:!0},xK=new O("CompositionEventMode");let jf=(()=>{class e extends MF{constructor(i,n,s){super(i,n),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function DK(){const e=Rr()?Rr().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(i){this.setProperty("value",i??"")}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}static#e=this.\u0275fac=function(n){return new(n||e)(_(js),_(ye),_(xK,8))};static#t=this.\u0275dir=U({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,s){1&n&&bt("input",function(o){return s._handleInput(o.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(o){return s._compositionEnd(o.target.value)})},features:[Te([EK]),de]})}return e})();function Fr(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function FF(e){return null!=e&&"number"==typeof e.length}const hi=new O("NgValidators"),Or=new O("NgAsyncValidators"),RK=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Zc{static min(t){return function OF(e){return t=>{if(Fr(t.value)||Fr(e))return null;const i=parseFloat(t.value);return!isNaN(i)&&i<e?{min:{min:e,actual:t.value}}:null}}(t)}static max(t){return function PF(e){return t=>{if(Fr(t.value)||Fr(e))return null;const i=parseFloat(t.value);return!isNaN(i)&&i>e?{max:{max:e,actual:t.value}}:null}}(t)}static required(t){return function LF(e){return Fr(e.value)?{required:!0}:null}(t)}static requiredTrue(t){return function NF(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function kF(e){return Fr(e.value)||RK.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function VF(e){return t=>Fr(t.value)||!FF(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function GF(e){return t=>FF(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static pattern(t){return function HF(e){if(!e)return $f;let t,i;return"string"==typeof e?(i="","^"!==e.charAt(0)&&(i+="^"),i+=e,"$"!==e.charAt(e.length-1)&&(i+="$"),t=new RegExp(i)):(i=e.toString(),t=e),n=>{if(Fr(n.value))return null;const s=n.value;return t.test(s)?null:{pattern:{requiredPattern:i,actualValue:s}}}}(t)}static nullValidator(t){return null}static compose(t){return $F(t)}static composeAsync(t){return qF(t)}}function $f(e){return null}function BF(e){return null!=e}function UF(e){return uc(e)?Kt(e):e}function zF(e){let t={};return e.forEach(i=>{t=null!=i?{...t,...i}:t}),0===Object.keys(t).length?null:t}function WF(e,t){return t.map(i=>i(e))}function jF(e){return e.map(t=>function TK(e){return!e.validate}(t)?t:i=>t.validate(i))}function $F(e){if(!e)return null;const t=e.filter(BF);return 0==t.length?null:function(i){return zF(WF(i,t))}}function iy(e){return null!=e?$F(jF(e)):null}function qF(e){if(!e)return null;const t=e.filter(BF);return 0==t.length?null:function(i){return AF(WF(i,t).map(UF)).pipe(ge(zF))}}function ny(e){return null!=e?qF(jF(e)):null}function KF(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function YF(e){return e._rawValidators}function QF(e){return e._rawAsyncValidators}function sy(e){return e?Array.isArray(e)?e:[e]:[]}function qf(e,t){return Array.isArray(e)?e.includes(t):e===t}function ZF(e,t){const i=sy(t);return sy(e).forEach(s=>{qf(i,s)||i.push(s)}),i}function XF(e,t){return sy(t).filter(i=>!qf(e,i))}class JF{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=iy(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ny(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,i){return!!this.control&&this.control.hasError(t,i)}getError(t,i){return this.control?this.control.getError(t,i):null}}class Mi extends JF{get formDirective(){return null}get path(){return null}}class ir extends JF{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class eO{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let tO=(()=>{class e extends eO{constructor(i){super(i)}static#e=this.\u0275fac=function(n){return new(n||e)(_(ir,2))};static#t=this.\u0275dir=U({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,s){2&n&&Ke("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[de]})}return e})(),iO=(()=>{class e extends eO{constructor(i){super(i)}static#e=this.\u0275fac=function(n){return new(n||e)(_(Mi,10))};static#t=this.\u0275dir=U({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,s){2&n&&Ke("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[de]})}return e})();const Xc="VALID",Yf="INVALID",Il="PENDING",Jc="DISABLED";function ay(e){return(Qf(e)?e.validators:e)||null}function ly(e,t){return(Qf(t)?t.asyncValidators:e)||null}function Qf(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class oO{constructor(t,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Xc}get invalid(){return this.status===Yf}get pending(){return this.status==Il}get disabled(){return this.status===Jc}get enabled(){return this.status!==Jc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(ZF(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(ZF(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(XF(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(XF(t,this._rawAsyncValidators))}hasValidator(t){return qf(this._rawValidators,t)}hasAsyncValidator(t){return qf(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Il,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const i=this._parentMarkedDirty(t.onlySelf);this.status=Jc,this.errors=null,this._forEachChild(n=>{n.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:i}),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){const i=this._parentMarkedDirty(t.onlySelf);this.status=Xc,this._forEachChild(n=>{n.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:i}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xc||this.status===Il)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jc:Xc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Il,this._hasOwnPendingAsyncValidator=!0;const i=UF(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,i={}){this.errors=t,this._updateControlsErrors(!1!==i.emitEvent)}get(t){let i=t;return null==i||(Array.isArray(i)||(i=i.split(".")),0===i.length)?null:i.reduce((n,s)=>n&&n._find(s),this)}getError(t,i){const n=i?this.get(i):this;return n&&n.errors?n.errors[t]:null}hasError(t,i){return!!this.getError(t,i)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new T,this.statusChanges=new T}_calculateStatus(){return this._allControlsDisabled()?Jc:this.errors?Yf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Il)?Il:this._anyControlsHaveStatus(Yf)?Yf:Xc}_anyControlsHaveStatus(t){return this._anyControls(i=>i.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Qf(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function FK(e){return Array.isArray(e)?iy(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function OK(e){return Array.isArray(e)?ny(e):e||null}(this._rawAsyncValidators)}}class Zf extends oO{constructor(t,i,n){super(ay(i),ly(n,i)),this.controls=t,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,i){return this.controls[t]?this.controls[t]:(this.controls[t]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(t,i,n={}){this.registerControl(t,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(t,i,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],i&&this.registerControl(t,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,i={}){(function rO(e,t,i){e._forEachChild((n,s)=>{if(void 0===i[s])throw new x(1002,"")})})(this,0,t),Object.keys(t).forEach(n=>{(function sO(e,t,i){const n=e.controls;if(!(t?Object.keys(n):n).length)throw new x(1e3,"");if(!n[i])throw new x(1001,"")})(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(t,i={}){null!=t&&(Object.keys(t).forEach(n=>{const s=this.controls[n];s&&s.patchValue(t[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(t={},i={}){this._forEachChild((n,s)=>{n.reset(t?t[s]:null,{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(t,i,n)=>(t[n]=i.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(i,n)=>!!n._syncPendingControls()||i);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(i=>{const n=this.controls[i];n&&t(n,i)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[i,n]of Object.entries(this.controls))if(this.contains(i)&&t(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(i,n,s)=>((n.enabled||this.disabled)&&(i[s]=n.value),i))}_reduceChildren(t,i){let n=t;return this._forEachChild((s,r)=>{n=i(n,s,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const Ro=new O("CallSetDisabledState",{providedIn:"root",factory:()=>eu}),eu="always";function tu(e,t,i=eu){dy(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===i)&&t.valueAccessor.setDisabledState?.(e.disabled),function NK(e,t){t.valueAccessor.registerOnChange(i=>{e._pendingValue=i,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&aO(e,t)})}(e,t),function VK(e,t){const i=(n,s)=>{t.valueAccessor.writeValue(n),s&&t.viewToModelUpdate(n)};e.registerOnChange(i),t._registerOnDestroy(()=>{e._unregisterOnChange(i)})}(e,t),function kK(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&aO(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function LK(e,t){if(t.valueAccessor.setDisabledState){const i=n=>{t.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(i),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(i)})}}(e,t)}function Jf(e,t,i=!0){const n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),tm(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function em(e,t){e.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(t)})}function dy(e,t){const i=YF(e);null!==t.validator?e.setValidators(KF(i,t.validator)):"function"==typeof i&&e.setValidators([i]);const n=QF(e);null!==t.asyncValidator?e.setAsyncValidators(KF(n,t.asyncValidator)):"function"==typeof n&&e.setAsyncValidators([n]);const s=()=>e.updateValueAndValidity();em(t._rawValidators,s),em(t._rawAsyncValidators,s)}function tm(e,t){let i=!1;if(null!==e){if(null!==t.validator){const s=YF(e);if(Array.isArray(s)&&s.length>0){const r=s.filter(o=>o!==t.validator);r.length!==s.length&&(i=!0,e.setValidators(r))}}if(null!==t.asyncValidator){const s=QF(e);if(Array.isArray(s)&&s.length>0){const r=s.filter(o=>o!==t.asyncValidator);r.length!==s.length&&(i=!0,e.setAsyncValidators(r))}}}const n=()=>{};return em(t._rawValidators,n),em(t._rawAsyncValidators,n),i}function aO(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function lO(e,t){dy(e,t)}function dO(e,t){e._syncPendingControls(),t.forEach(i=>{const n=i.control;"submit"===n.updateOn&&n._pendingChange&&(i.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}const zK={provide:Mi,useExisting:$e(()=>im)},iu=(()=>Promise.resolve())();let im=(()=>{class e extends Mi{constructor(i,n,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new T,this.form=new Zf({},iy(i),ny(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){iu.then(()=>{const n=this._findContainer(i.path);i.control=n.registerControl(i.name,i.control),tu(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){iu.then(()=>{const n=this._findContainer(i.path);n&&n.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){iu.then(()=>{const n=this._findContainer(i.path),s=new Zf({});lO(s,i),n.registerControl(i.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){iu.then(()=>{const n=this._findContainer(i.path);n&&n.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,n){iu.then(()=>{this.form.get(i.path).setValue(n)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,dO(this.form,this._directives),this.ngSubmit.emit(i),"dialog"===i?.target?.method}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}static#e=this.\u0275fac=function(n){return new(n||e)(_(hi,10),_(Or,10),_(Ro,8))};static#t=this.\u0275dir=U({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,s){1&n&&bt("submit",function(o){return s.onSubmit(o)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Te([zK]),de]})}return e})();function cO(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}function uO(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const nm=class extends oO{constructor(t=null,i,n){super(ay(i),ly(n,i)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qf(i)&&(i.nonNullable||i.initialValueIsDefault)&&(this.defaultValue=uO(t)?t.value:t)}setValue(t,i={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==i.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==i.emitViewToModelChange)),this.updateValueAndValidity(i)}patchValue(t,i={}){this.setValue(t,i)}reset(t=this.defaultValue,i={}){this._applyFormState(t),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){cO(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){cO(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){uO(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let gO=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=U({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return e})(),CO=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=Ze({type:e});static#i=this.\u0275inj=qe({})}return e})();const py=new O("NgModelWithFormControlWarning"),XK={provide:Mi,useExisting:$e(()=>nu)};let nu=(()=>{class e extends Mi{constructor(i,n,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new T,this._setValidators(i),this._setAsyncValidators(n)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(tm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){const n=this.form.get(i.path);return tu(n,i,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),n}getControl(i){return this.form.get(i.path)}removeControl(i){Jf(i.control||null,i,!1),function UK(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,n){this.form.get(i.path).setValue(n)}onSubmit(i){return this.submitted=!0,dO(this.form,this.directives),this.ngSubmit.emit(i),"dialog"===i?.target?.method}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{const n=i.control,s=this.form.get(i.path);n!==s&&(Jf(n||null,i),(e=>e instanceof nm)(s)&&(tu(s,i,this.callSetDisabledState),i.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){const n=this.form.get(i.path);lO(n,i),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){const n=this.form.get(i.path);n&&function GK(e,t){return tm(e,t)}(n,i)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){dy(this.form,this),this._oldForm&&tm(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(n){return new(n||e)(_(hi,10),_(Or,10),_(Ro,8))};static#t=this.\u0275dir=U({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,s){1&n&&bt("submit",function(o){return s.onSubmit(o)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Te([XK]),de,Si]})}return e})();const t7={provide:ir,useExisting:$e(()=>gy)};let gy=(()=>{class e extends ir{set isDisabled(i){}static#e=this._ngModelWarningSentOnce=!1;constructor(i,n,s,r,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new T,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(n),this._setAsyncValidators(s),this.valueAccessor=function hy(e,t){if(!t)return null;let i,n,s;return Array.isArray(t),t.forEach(r=>{r.constructor===jf?i=r:function BK(e){return Object.getPrototypeOf(e.constructor)===xo}(r)?n=r:s=r}),s||n||i||null}(0,r)}ngOnChanges(i){this._added||this._setUpControl(),function uy(e,t){if(!e.hasOwnProperty("model"))return!1;const i=e.model;return!!i.isFirstChange()||!Object.is(t,i.currentValue)}(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return function Xf(e,t){return[...t.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(n){return new(n||e)(_(Mi,13),_(hi,10),_(Or,10),_(Qn,10),_(py,8))};static#i=this.\u0275dir=U({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Te([t7]),de,Si]})}return e})(),PO=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=Ze({type:e});static#i=this.\u0275inj=qe({imports:[CO]})}return e})(),v7=(()=>{class e{static withConfig(i){return{ngModule:e,providers:[{provide:Ro,useValue:i.callSetDisabledState??eu}]}}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=Ze({type:e});static#i=this.\u0275inj=qe({imports:[PO]})}return e})(),C7=(()=>{class e{static withConfig(i){return{ngModule:e,providers:[{provide:py,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:Ro,useValue:i.callSetDisabledState??eu}]}}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=Ze({type:e});static#i=this.\u0275inj=qe({imports:[PO]})}return e})();function LO(e){e||(function Sp(e){if(!GE()&&!function RG(){return wa}())throw new x(-203,!1)}(),e=G(Za));const t=new Qe(i=>e.onDestroy(i.next.bind(i)));return i=>i.pipe(Pt(t))}const L7=new O("cdk-dir-doc",{providedIn:"root",factory:function N7(){return G(Ve)}}),k7=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Sy=(()=>{class e{constructor(i){this.value="ltr",this.change=new T,i&&(this.value=function V7(e){const t=e?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?k7.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((i.body?i.body.dir:null)||(i.documentElement?i.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(n){return new(n||e)(P(L7,8))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$O=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=Ze({type:e});static#i=this.\u0275inj=qe({})}return e})();class G7 extends _e{constructor(t=1/0,i=1/0,n=Qw){super(),this._bufferSize=t,this._windowTime=i,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=i===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,i)}next(t){const{isStopped:i,_buffer:n,_infiniteTimeWindow:s,_timestampProvider:r,_windowTime:o}=this;i||(n.push(t),!s&&n.push(r.now()+o)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const i=this._innerSubscribe(t),{_infiniteTimeWindow:n,_buffer:s}=this,r=s.slice();for(let o=0;o<r.length&&!t.closed;o+=n?1:2)t.next(r[o]);return this._checkFinalizedStatuses(t),i}_trimBuffer(){const{_bufferSize:t,_timestampProvider:i,_buffer:n,_infiniteTimeWindow:s}=this,r=(s?1:2)*t;if(t<1/0&&r<n.length&&n.splice(0,n.length-r),!s){const o=i.now();let a=0;for(let l=1;l<n.length&&n[l]<=o;l+=2)a=l;a&&n.splice(0,a+1)}}}function qO(e,t,i){let n,s=!1;return e&&"object"==typeof e?({bufferSize:n=1/0,windowTime:t=1/0,refCount:s=!1,scheduler:i}=e):n=e??1/0,Dh({connector:()=>new G7(n,t,i),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}class H7{constructor(t){this._box=t,this._destroyed=new _e,this._resizeSubject=new _e,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(i=>this._resizeSubject.next(i)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new Qe(i=>{const n=this._resizeSubject.subscribe(i);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),n.unsubscribe(),this._elementObservables.delete(t)}}).pipe(Ut(i=>i.some(n=>n.target===t)),qO({bufferSize:1,refCount:!0}),Pt(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let B7=(()=>{class e{constructor(){this._observers=new Map,this._ngZone=G(q)}ngOnDestroy(){for(const[,i]of this._observers)i.destroy();this._observers.clear()}observe(i,n){const s=n?.box||"content-box";return this._observers.has(s)||this._observers.set(s,new H7(s)),this._observers.get(s).observe(i)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class KO{}class U7{}const nr="*";function YO(e,t){return{type:7,name:e,definitions:t,options:{}}}function Ey(e,t=null){return{type:4,styles:t,timings:e}}function QO(e,t=null){return{type:2,steps:e,options:t}}function Ol(e){return{type:6,styles:e,offset:null}}function Dy(e,t,i){return{type:0,name:e,styles:t,options:i}}function xy(e,t,i=null){return{type:1,expr:e,animation:t,options:i}}class ru{constructor(t=0,i=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+i}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const i="start"==t?this._onStartFns:this._onDoneFns;i.forEach(n=>n()),i.length=0}}class ZO{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let i=0,n=0,s=0;const r=this.players.length;0==r?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++i==r&&this._onFinish()}),o.onDestroy(()=>{++n==r&&this._onDestroy()}),o.onStart(()=>{++s==r&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const i=t*this.totalTime;this.players.forEach(n=>{const s=n.totalTime?Math.min(1,i/n.totalTime):1;n.setPosition(s)})}getPosition(){const t=this.players.reduce((i,n)=>null===i||n.totalTime>i.totalTime?n:i,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const i="start"==t?this._onStartFns:this._onDoneFns;i.forEach(n=>n()),i.length=0}}let XO=(()=>{class e{create(i){return typeof MutationObserver>"u"?null:new MutationObserver(i)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),z7=(()=>{class e{constructor(i){this._mutationObserverFactory=i,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((i,n)=>this._cleanupObserver(n))}observe(i){const n=tr(i);return new Qe(s=>{const o=this._observeElement(n).subscribe(s);return()=>{o.unsubscribe(),this._unobserveElement(n)}})}_observeElement(i){if(this._observedElements.has(i))this._observedElements.get(i).count++;else{const n=new _e,s=this._mutationObserverFactory.create(r=>n.next(r));s&&s.observe(i,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(i,{observer:s,stream:n,count:1})}return this._observedElements.get(i).stream}_unobserveElement(i){this._observedElements.has(i)&&(this._observedElements.get(i).count--,this._observedElements.get(i).count||this._cleanupObserver(i))}_cleanupObserver(i){if(this._observedElements.has(i)){const{observer:n,stream:s}=this._observedElements.get(i);n&&n.disconnect(),s.complete(),this._observedElements.delete(i)}}static#e=this.\u0275fac=function(n){return new(n||e)(P(XO))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),JO=(()=>{class e{get disabled(){return this._disabled}set disabled(i){this._disabled=dt(i),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(i){this._debounce=Hf(i),this._subscribe()}constructor(i,n,s){this._contentObserver=i,this._elementRef=n,this._ngZone=s,this.event=new T,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const i=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?i.pipe(Uf(this.debounce)):i).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function(n){return new(n||e)(_(z7),_(ye),_(q))};static#t=this.\u0275dir=U({type:e,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}return e})(),eP=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=Ze({type:e});static#i=this.\u0275inj=qe({providers:[XO]})}return e})();let sP=(()=>{class e{constructor(i){this._platform=i}isDisabled(i){return i.hasAttribute("disabled")}isVisible(i){return function m9(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(i)&&"visible"===getComputedStyle(i).visibility}isTabbable(i){if(!this._platform.isBrowser)return!1;const n=function f9(e){try{return e.frameElement}catch{return null}}(function S9(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}(i));if(n&&(-1===oP(n)||!this.isVisible(n)))return!1;let s=i.nodeName.toLowerCase(),r=oP(i);return i.hasAttribute("contenteditable")?-1!==r:!("iframe"===s||"object"===s||this._platform.WEBKIT&&this._platform.IOS&&!function y9(e){let t=e.nodeName.toLowerCase(),i="input"===t&&e.type;return"text"===i||"password"===i||"select"===t||"textarea"===t}(i))&&("audio"===s?!!i.hasAttribute("controls")&&-1!==r:"video"===s?-1!==r&&(null!==r||this._platform.FIREFOX||i.hasAttribute("controls")):i.tabIndex>=0)}isFocusable(i,n){return function _9(e){return!function v9(e){return function b9(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function g9(e){let t=e.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(e)||function C9(e){return function w9(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||rP(e))}(i)&&!this.isDisabled(i)&&(n?.ignoreVisibility||this.isVisible(i))}static#e=this.\u0275fac=function(n){return new(n||e)(P(zt))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function rP(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;let t=e.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function oP(e){if(!rP(e))return null;const t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class E9{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,i,n,s,r=!1){this._element=t,this._checker=i,this._ngZone=n,this._document=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,r||this.attachAnchors()}destroy(){const t=this._startAnchor,i=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),i&&(i.removeEventListener("focus",this.endAnchorListener),i.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const i=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?i.length?i[0]:this._getFirstTabbableElement(this._element):i.length?i[i.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const i=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(i){if(!this._checker.isFocusable(i)){const n=this._getFirstTabbableElement(i);return n?.focus(t),!!n}return i.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const i=this._getRegionBoundary("start");return i&&i.focus(t),!!i}focusLastTabbableElement(t){const i=this._getRegionBoundary("end");return i&&i.focus(t),!!i}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const i=t.children;for(let n=0;n<i.length;n++){const s=i[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(i[n]):null;if(s)return s}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const i=t.children;for(let n=i.length-1;n>=0;n--){const s=i[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(i[n]):null;if(s)return s}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,i){t?i.setAttribute("tabindex","0"):i.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Kn(1)).subscribe(t)}}let D9=(()=>{class e{constructor(i,n,s){this._checker=i,this._ngZone=n,this._document=s}create(i,n=!1){return new E9(i,this._checker,this._ngZone,this._document,n)}static#e=this.\u0275fac=function(n){return new(n||e)(P(sP),P(q),P(Ve))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function aP(e){return 0===e.buttons||0===e.detail}function lP(e){const t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const x9=new O("cdk-input-modality-detector-options"),R9={ignoreKeys:[18,17,224,91,16]},Pl=Yc({passive:!0,capture:!0});let T9=(()=>{class e{get mostRecentModality(){return this._modality.value}constructor(i,n,s,r){this._platform=i,this._mostRecentTarget=null,this._modality=new Xi(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(a=>a===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ml(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(aP(o)?"keyboard":"mouse"),this._mostRecentTarget=Ml(o))},this._onTouchstart=o=>{lP(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ml(o))},this._options={...R9,...r},this.modalityDetected=this._modality.pipe(EF(1)),this.modalityChanged=this.modalityDetected.pipe(iv()),i.isBrowser&&n.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,Pl),s.addEventListener("mousedown",this._onMousedown,Pl),s.addEventListener("touchstart",this._onTouchstart,Pl)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Pl),document.removeEventListener("mousedown",this._onMousedown,Pl),document.removeEventListener("touchstart",this._onTouchstart,Pl))}static#e=this.\u0275fac=function(n){return new(n||e)(P(zt),P(q),P(Ve),P(x9,8))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const M9=new O("cdk-focus-monitor-default-options"),am=Yc({passive:!0,capture:!0});let cP=(()=>{class e{constructor(i,n,s,r,o){this._ngZone=i,this._platform=n,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new _e,this._rootNodeFocusAndBlurListener=a=>{for(let d=Ml(a);d;d=d.parentElement)"focus"===a.type?this._onFocus(a,d):this._onBlur(a,d)},this._document=r,this._detectionMode=o?.detectionMode||0}monitor(i,n=!1){const s=tr(i);if(!this._platform.isBrowser||1!==s.nodeType)return Q();const r=function vK(e){if(function gK(){if(null==ey){const e=typeof document<"u"?document.head:null;ey=!(!e||!e.createShadowRoot&&!e.attachShadow)}return ey}()){const t=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(s)||this._getDocument(),o=this._elementInfo.get(s);if(o)return n&&(o.checkChildren=!0),o.subject;const a={checkChildren:n,subject:new _e,rootNode:r};return this._elementInfo.set(s,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(i){const n=tr(i),s=this._elementInfo.get(n);s&&(s.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(s))}focusVia(i,n,s){const r=tr(i);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([a,l])=>this._originChanged(a,n,l)):(this._setOrigin(n),"function"==typeof r.focus&&r.focus(s))}ngOnDestroy(){this._elementInfo.forEach((i,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:i&&this._isLastInteractionFromInputLabel(i)?"mouse":"program"}_shouldBeAttributedToTouch(i){return 1===this._detectionMode||!!i?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(i,n){i.classList.toggle("cdk-focused",!!n),i.classList.toggle("cdk-touch-focused","touch"===n),i.classList.toggle("cdk-keyboard-focused","keyboard"===n),i.classList.toggle("cdk-mouse-focused","mouse"===n),i.classList.toggle("cdk-program-focused","program"===n)}_setOrigin(i,n=!1){this._ngZone.runOutsideAngular(()=>{this._origin=i,this._originFromTouchInteraction="touch"===i&&n,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(i,n){const s=this._elementInfo.get(n),r=Ml(i);!s||!s.checkChildren&&n!==r||this._originChanged(n,this._getFocusOrigin(r),s)}_onBlur(i,n){const s=this._elementInfo.get(n);!s||s.checkChildren&&i.relatedTarget instanceof Node&&n.contains(i.relatedTarget)||(this._setClasses(n),this._emitOrigin(s,null))}_emitOrigin(i,n){i.subject.observers.length&&this._ngZone.run(()=>i.subject.next(n))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;const n=i.rootNode,s=this._rootNodeFocusListenerCount.get(n)||0;s||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,am),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,am)}),this._rootNodeFocusListenerCount.set(n,s+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Pt(this._stopInputModalityDetector)).subscribe(r=>{this._setOrigin(r,!0)}))}_removeGlobalListeners(i){const n=i.rootNode;if(this._rootNodeFocusListenerCount.has(n)){const s=this._rootNodeFocusListenerCount.get(n);s>1?this._rootNodeFocusListenerCount.set(n,s-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,am),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,am),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,n,s){this._setClasses(i,n),this._emitOrigin(s,n),this._lastFocusOrigin=n}_getClosestElementsInfo(i){const n=[];return this._elementInfo.forEach((s,r)=>{(r===i||s.checkChildren&&r.contains(i))&&n.push([r,s])}),n}_isLastInteractionFromInputLabel(i){const{_mostRecentTarget:n,mostRecentModality:s}=this._inputModalityDetector;if("mouse"!==s||!n||n===i||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName||i.disabled)return!1;const r=i.labels;if(r)for(let o=0;o<r.length;o++)if(r[o].contains(n))return!0;return!1}static#e=this.\u0275fac=function(n){return new(n||e)(P(q),P(zt),P(T9),P(Ve,8),P(M9,8))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const uP="cdk-high-contrast-black-on-white",hP="cdk-high-contrast-white-on-black",Ay="cdk-high-contrast-active";let I9=(()=>{class e{constructor(i,n){this._platform=i,this._document=n,this._breakpointSubscription=G(ty).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);const n=this._document.defaultView||window,s=n&&n.getComputedStyle?n.getComputedStyle(i):null,r=(s&&s.backgroundColor||"").replace(/ /g,"");switch(i.remove(),r){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const i=this._document.body.classList;i.remove(Ay,uP,hP),this._hasCheckedHighContrastMode=!0;const n=this.getHighContrastMode();1===n?i.add(Ay,uP):2===n&&i.add(Ay,hP)}}static#e=this.\u0275fac=function(n){return new(n||e)(P(zt),P(Ve))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const O9=new O("mat-sanity-checks",{providedIn:"root",factory:function F9(){return!0}});let Qt=(()=>{class e{constructor(i,n,s){this._sanityChecks=n,this._document=s,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return!function bK(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[i])}static#e=this.\u0275fac=function(n){return new(n||e)(P(I9),P(O9,8),P(Ve))};static#t=this.\u0275mod=Ze({type:e});static#i=this.\u0275inj=qe({imports:[$O,$O]})}return e})();function P9(e){return class extends e{get disabled(){return this._disabled}set disabled(t){this._disabled=dt(t)}constructor(...t){super(...t),this._disabled=!1}}}function My(e,t){return class extends e{get color(){return this._color}set color(i){const n=i||this.defaultColor;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}constructor(...i){super(...i),this.defaultColor=t,this.color=t}}}function L9(e){return class extends e{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=dt(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function N9(e){return class extends e{updateErrorState(){const t=this.errorState,r=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);r!==t&&(this.errorState=r,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}let V9=(()=>{class e{isErrorState(i,n){return!!(i&&i.invalid&&(i.touched||n&&n.submitted))}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class G9{constructor(t,i,n,s=!1){this._renderer=t,this.element=i,this.config=n,this._animationForciblyDisabledThroughCss=s,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const mP=Yc({passive:!0,capture:!0});class H9{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const i=Ml(t);i&&this._events.get(t.type)?.forEach((n,s)=>{(s===i||s.contains(i))&&n.forEach(r=>r.handleEvent(t))})}}addHandler(t,i,n,s){const r=this._events.get(i);if(r){const o=r.get(n);o?o.add(s):r.set(n,new Set([s]))}else this._events.set(i,new Map([[n,new Set([s])]])),t.runOutsideAngular(()=>{document.addEventListener(i,this._delegateEventHandler,mP)})}removeHandler(t,i,n){const s=this._events.get(t);if(!s)return;const r=s.get(i);r&&(r.delete(n),0===r.size&&s.delete(i),0===s.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,mP)))}}const gP={enterDuration:225,exitDuration:150},vP=Yc({passive:!0,capture:!0}),CP=["mousedown","touchstart"],bP=["mouseup","mouseleave","touchend","touchcancel"];class au{static#e=this._eventManager=new H9;constructor(t,i,n,s){this._target=t,this._ngZone=i,this._platform=s,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=tr(n))}fadeInRipple(t,i,n={}){const s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r={...gP,...n.animation};n.centered&&(t=s.left+s.width/2,i=s.top+s.height/2);const o=n.radius||function U9(e,t,i){const n=Math.max(Math.abs(e-i.left),Math.abs(e-i.right)),s=Math.max(Math.abs(t-i.top),Math.abs(t-i.bottom));return Math.sqrt(n*n+s*s)}(t,i,s),a=t-s.left,l=i-s.top,d=r.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=a-o+"px",c.style.top=l-o+"px",c.style.height=2*o+"px",c.style.width=2*o+"px",null!=n.color&&(c.style.backgroundColor=n.color),c.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(c);const u=window.getComputedStyle(c),m=u.transitionDuration,v="none"===u.transitionProperty||"0s"===m||"0s, 0s"===m||0===s.width&&0===s.height,C=new G9(this,c,n,v);c.style.transform="scale3d(1, 1, 1)",C.state=0,n.persistent||(this._mostRecentTransientRipple=C);let b=null;return!v&&(d||r.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const y=()=>this._finishRippleTransition(C),w=()=>this._destroyRipple(C);c.addEventListener("transitionend",y),c.addEventListener("transitioncancel",w),b={onTransitionEnd:y,onTransitionCancel:w}}),this._activeRipples.set(C,b),(v||!d)&&this._finishRippleTransition(C),C}fadeOutRipple(t){if(2===t.state||3===t.state)return;const i=t.element,n={...gP,...t.config.animation};i.style.transitionDuration=`${n.exitDuration}ms`,i.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const i=tr(t);!this._platform.isBrowser||!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,CP.forEach(n=>{au._eventManager.addHandler(this._ngZone,n,i,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{bP.forEach(i=>{this._triggerElement.addEventListener(i,this,vP)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const i=t===this._mostRecentTransientRipple,{persistent:n}=t.config;t.state=1,!n&&(!i||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const i=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==i&&(t.element.removeEventListener("transitionend",i.onTransitionEnd),t.element.removeEventListener("transitioncancel",i.onTransitionCancel)),t.element.remove()}_onMousedown(t){const i=aP(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!i&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!lP(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const i=t.changedTouches;if(i)for(let n=0;n<i.length;n++)this.fadeInRipple(i[n].clientX,i[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(CP.forEach(i=>au._eventManager.removeHandler(i,t,this)),this._pointerUpEventsRegistered&&bP.forEach(i=>t.removeEventListener(i,this,vP)))}}const lu=new O("mat-ripple-global-options");let z9=(()=>{class e{get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}constructor(i,n,s,r,o){this._elementRef=i,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new au(this,n,i,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,n=0,s){return"number"==typeof i?this._rippleRenderer.fadeInRipple(i,n,{...this.rippleConfig,...s}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...i})}static#e=this.\u0275fac=function(n){return new(n||e)(_(ye),_(q),_(zt),_(lu,8),_(zn,8))};static#t=this.\u0275dir=U({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,s){2&n&&Ke("mat-ripple-unbounded",s.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return e})(),wP=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=Ze({type:e});static#i=this.\u0275inj=qe({imports:[Qt,Qt]})}return e})(),W9=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=Ze({type:e});static#i=this.\u0275inj=qe({imports:[Qt]})}return e})();const yP={capture:!0},_P=["focus","click","mouseenter","touchstart"],Iy="mat-ripple-loader-uninitialized",Fy="mat-ripple-loader-class-name",SP="mat-ripple-loader-centered",lm="mat-ripple-loader-disabled";let j9=(()=>{class e{constructor(){this._document=G(Ve,{optional:!0}),this._animationMode=G(zn,{optional:!0}),this._globalRippleOptions=G(lu,{optional:!0}),this._platform=G(zt),this._ngZone=G(q),this._hosts=new Map,this._onInteraction=i=>{if(!(i.target instanceof HTMLElement))return;const s=i.target.closest(`[${Iy}]`);s&&this._createRipple(s)},this._ngZone.runOutsideAngular(()=>{for(const i of _P)this._document?.addEventListener(i,this._onInteraction,yP)})}ngOnDestroy(){const i=this._hosts.keys();for(const n of i)this.destroyRipple(n);for(const n of _P)this._document?.removeEventListener(n,this._onInteraction,yP)}configureRipple(i,n){i.setAttribute(Iy,""),(n.className||!i.hasAttribute(Fy))&&i.setAttribute(Fy,n.className||""),n.centered&&i.setAttribute(SP,""),n.disabled&&i.setAttribute(lm,"")}getRipple(i){return this._hosts.get(i)||this._createRipple(i)}setDisabled(i,n){const s=this._hosts.get(i);s?s.disabled=n:n?i.setAttribute(lm,""):i.removeAttribute(lm)}_createRipple(i){if(!this._document)return;const n=this._hosts.get(i);if(n)return n;i.querySelector(".mat-ripple")?.remove();const s=this._document.createElement("span");s.classList.add("mat-ripple",i.getAttribute(Fy)),i.append(s);const r=new z9(new ye(s),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=i,r.centered=i.hasAttribute(SP),r.disabled=i.hasAttribute(lm),this.attachRipple(i,r),r}attachRipple(i,n){i.removeAttribute(Iy),this._hosts.set(i,n)}destroyRipple(i){const n=this._hosts.get(i);n&&(n.ngOnDestroy(),this._hosts.delete(i))}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const $9=["notch"],q9=["matFormFieldNotchedOutline",""],K9=["*"],Y9=["textField"],Q9=["iconPrefixContainer"],Z9=["textPrefixContainer"];function X9(e,t){1&e&&Je(0,"span",19)}function J9(e,t){if(1&e&&(j(0,"label",17),Ce(1,1),he(2,X9,1,0,"span",18),X()),2&e){const i=nt(2);K("floating",i._shouldLabelFloat())("monitorResize",i._hasOutline())("id",i._labelId),lt("for",i._control.id),ue(2),K("ngIf",!i.hideRequiredMarker&&i._control.required)}}function eY(e,t){1&e&&he(0,J9,3,5,"label",16),2&e&&K("ngIf",nt()._hasFloatingLabel())}function tY(e,t){1&e&&Je(0,"div",20)}function iY(e,t){}function nY(e,t){1&e&&he(0,iY,0,0,"ng-template",22),2&e&&(nt(2),K("ngTemplateOutlet",Cs(1)))}function sY(e,t){if(1&e&&(j(0,"div",21),he(1,nY,1,1,"ng-template",9),X()),2&e){const i=nt();K("matFormFieldNotchedOutlineOpen",i._shouldLabelFloat()),ue(1),K("ngIf",!i._forceDisplayInfixLabel())}}function rY(e,t){1&e&&(j(0,"div",23,24),Ce(2,2),X())}function oY(e,t){1&e&&(j(0,"div",25,26),Ce(2,3),X())}function aY(e,t){}function lY(e,t){1&e&&he(0,aY,0,0,"ng-template",22),2&e&&(nt(),K("ngTemplateOutlet",Cs(1)))}function dY(e,t){1&e&&(j(0,"div",27),Ce(1,4),X())}function cY(e,t){1&e&&(j(0,"div",28),Ce(1,5),X())}function uY(e,t){1&e&&Je(0,"div",29)}function hY(e,t){1&e&&(j(0,"div",30),Ce(1,6),X()),2&e&&K("@transitionMessages",nt()._subscriptAnimationState)}function pY(e,t){if(1&e&&(j(0,"mat-hint",34),Yt(1),X()),2&e){const i=nt(2);K("id",i._hintLabelId),ue(1),Vp(i.hintLabel)}}function fY(e,t){if(1&e&&(j(0,"div",31),he(1,pY,2,2,"mat-hint",32),Ce(2,7),Je(3,"div",33),Ce(4,8),X()),2&e){const i=nt();K("@transitionMessages",i._subscriptAnimationState),ue(1),K("ngIf",i.hintLabel)}}const mY=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],gY=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let Oy=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=U({type:e,selectors:[["mat-label"]]})}return e})();const vY=new O("MatError");let CY=0,Py=(()=>{class e{constructor(){this.align="start",this.id="mat-mdc-hint-"+CY++}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=U({type:e,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(n,s){2&n&&(Hp("id",s.id),lt("align",null),Ke("mat-mdc-form-field-hint-end","end"===s.align))},inputs:{align:"align",id:"id"}})}return e})();const bY=new O("MatPrefix"),EP=new O("MatSuffix");let wY=(()=>{class e{constructor(){this._isText=!1}set _isTextSelector(i){this._isText=!0}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=U({type:e,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[Te([{provide:EP,useExisting:e}])]})}return e})();const DP=new O("FloatingLabelParent");let xP=(()=>{class e{get floating(){return this._floating}set floating(i){this._floating=i,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(i){this._monitorResize=i,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(i){this._elementRef=i,this._floating=!1,this._monitorResize=!1,this._resizeObserver=G(B7),this._ngZone=G(q),this._parent=G(DP),this._resizeSubscription=new Vt}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function yY(e){if(null!==e.offsetParent)return e.scrollWidth;const i=e.cloneNode(!0);i.style.setProperty("position","absolute"),i.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(i);const n=i.scrollWidth;return i.remove(),n}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(n){return new(n||e)(_(ye))};static#t=this.\u0275dir=U({type:e,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(n,s){2&n&&Ke("mdc-floating-label--float-above",s.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return e})();const RP="mdc-line-ripple--active",dm="mdc-line-ripple--deactivating";let TP=(()=>{class e{constructor(i,n){this._elementRef=i,this._handleTransitionEnd=s=>{const r=this._elementRef.nativeElement.classList,o=r.contains(dm);"opacity"===s.propertyName&&o&&r.remove(RP,dm)},n.runOutsideAngular(()=>{i.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const i=this._elementRef.nativeElement.classList;i.remove(dm),i.add(RP)}deactivate(){this._elementRef.nativeElement.classList.add(dm)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(n){return new(n||e)(_(ye),_(q))};static#t=this.\u0275dir=U({type:e,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return e})(),AP=(()=>{class e{constructor(i,n){this._elementRef=i,this._ngZone=n,this.open=!1}ngAfterViewInit(){const i=this._elementRef.nativeElement.querySelector(".mdc-floating-label");i?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(i.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>i.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(i){this._notch.nativeElement.style.width=this.open&&i?`calc(${i}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(n){return new(n||e)(_(ye),_(q))};static#t=this.\u0275cmp=gt({type:e,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(n,s){if(1&n&&on($9,5),2&n){let r;Fe(r=Oe())&&(s._notch=r.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(n,s){2&n&&Ke("mdc-notched-outline--notched",s.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:q9,ngContentSelectors:K9,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(n,s){1&n&&(ai(),Je(0,"div",0),j(1,"div",1,2),Ce(3),X(),Je(4,"div",3))},encapsulation:2,changeDetection:0})}return e})();const _Y={transitionMessages:YO("transitionMessages",[Dy("enter",Ol({opacity:1,transform:"translateY(0%)"})),xy("void => enter",[Ol({opacity:0,transform:"translateY(-5px)"}),Ey("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let MP=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=U({type:e})}return e})();const IP=new O("MatFormField"),SY=new O("MAT_FORM_FIELD_DEFAULT_OPTIONS");let FP=0,xY=(()=>{class e{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(i){this._hideRequiredMarker=dt(i)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(i){i!==this._floatLabel&&(this._floatLabel=i,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(i){const n=this._appearance;this._appearance=i||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==n&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(i){this._subscriptSizing=i||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(i){this._hintLabel=i,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(i){this._explicitFormFieldControl=i}constructor(i,n,s,r,o,a,l,d){this._elementRef=i,this._changeDetectorRef=n,this._ngZone=s,this._dir=r,this._platform=o,this._defaults=a,this._animationMode=l,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+FP++,this._hintLabelId="mat-mdc-hint-"+FP++,this._subscriptAnimationState="",this._destroyed=new _e,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const i=this._control;i.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${i.controlType}`),i.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),i.ngControl&&i.ngControl.valueChanges&&i.ngControl.valueChanges.pipe(Pt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(i=>!i._isText),this._hasTextPrefix=!!this._prefixChildren.find(i=>i._isText),this._hasIconSuffix=!!this._suffixChildren.find(i=>!i._isText),this._hasTextSuffix=!!this._suffixChildren.find(i=>i._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Eh(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Pt(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Pt(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(i){const n=this._control?this._control.ngControl:null;return n&&n[i]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let i=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&i.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const n=this._hintChildren?this._hintChildren.find(r=>"start"===r.align):null,s=this._hintChildren?this._hintChildren.find(r=>"end"===r.align):null;n?i.push(n.id):this._hintLabel&&i.push(this._hintLabelId),s&&i.push(s.id)}else this._errorChildren&&i.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(i)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const i=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(i.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const n=this._iconPrefixContainer?.nativeElement,s=this._textPrefixContainer?.nativeElement,r=n?.getBoundingClientRect().width??0,o=s?.getBoundingClientRect().width??0;i.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${r+o}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const i=this._elementRef.nativeElement;if(i.getRootNode){const n=i.getRootNode();return n&&n!==i}return document.documentElement.contains(i)}static#e=this.\u0275fac=function(n){return new(n||e)(_(ye),_(Ys),_(q),_(Sy),_(zt),_(SY,8),_(zn,8),_(Ve))};static#t=this.\u0275cmp=gt({type:e,selectors:[["mat-form-field"]],contentQueries:function(n,s,r){if(1&n&&(_t(r,Oy,5),_t(r,Oy,7),_t(r,MP,5),_t(r,bY,5),_t(r,EP,5),_t(r,vY,5),_t(r,Py,5)),2&n){let o;Fe(o=Oe())&&(s._labelChildNonStatic=o.first),Fe(o=Oe())&&(s._labelChildStatic=o.first),Fe(o=Oe())&&(s._formFieldControl=o.first),Fe(o=Oe())&&(s._prefixChildren=o),Fe(o=Oe())&&(s._suffixChildren=o),Fe(o=Oe())&&(s._errorChildren=o),Fe(o=Oe())&&(s._hintChildren=o)}},viewQuery:function(n,s){if(1&n&&(on(Y9,5),on(Q9,5),on(Z9,5),on(xP,5),on(AP,5),on(TP,5)),2&n){let r;Fe(r=Oe())&&(s._textField=r.first),Fe(r=Oe())&&(s._iconPrefixContainer=r.first),Fe(r=Oe())&&(s._textPrefixContainer=r.first),Fe(r=Oe())&&(s._floatingLabel=r.first),Fe(r=Oe())&&(s._notchedOutline=r.first),Fe(r=Oe())&&(s._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(n,s){2&n&&Ke("mat-mdc-form-field-label-always-float",s._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",s._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",s._hasIconSuffix)("mat-form-field-invalid",s._control.errorState)("mat-form-field-disabled",s._control.disabled)("mat-form-field-autofilled",s._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===s._animationMode)("mat-form-field-appearance-fill","fill"==s.appearance)("mat-form-field-appearance-outline","outline"==s.appearance)("mat-form-field-hide-placeholder",s._hasFloatingLabel()&&!s._shouldLabelFloat())("mat-focused",s._control.focused)("mat-primary","accent"!==s.color&&"warn"!==s.color)("mat-accent","accent"===s.color)("mat-warn","warn"===s.color)("ng-untouched",s._shouldForward("untouched"))("ng-touched",s._shouldForward("touched"))("ng-pristine",s._shouldForward("pristine"))("ng-dirty",s._shouldForward("dirty"))("ng-valid",s._shouldForward("valid"))("ng-invalid",s._shouldForward("invalid"))("ng-pending",s._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Te([{provide:IP,useExisting:e},{provide:DP,useExisting:e}])],ngContentSelectors:gY,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(n,s){1&n&&(ai(mY),he(0,eY,1,1,"ng-template",null,0,Sc),j(2,"div",1,2),bt("click",function(o){return s._control.onContainerClick(o)}),he(4,tY,1,0,"div",3),j(5,"div",4),he(6,sY,2,2,"div",5),he(7,rY,3,0,"div",6),he(8,oY,3,0,"div",7),j(9,"div",8),he(10,lY,1,1,"ng-template",9),Ce(11),X(),he(12,dY,2,0,"div",10),he(13,cY,2,0,"div",11),X(),he(14,uY,1,0,"div",12),X(),j(15,"div",13),he(16,hY,2,1,"div",14),he(17,fY,5,2,"div",15),X()),2&n&&(ue(2),Ke("mdc-text-field--filled",!s._hasOutline())("mdc-text-field--outlined",s._hasOutline())("mdc-text-field--no-label",!s._hasFloatingLabel())("mdc-text-field--disabled",s._control.disabled)("mdc-text-field--invalid",s._control.errorState),ue(2),K("ngIf",!s._hasOutline()&&!s._control.disabled),ue(2),K("ngIf",s._hasOutline()),ue(1),K("ngIf",s._hasIconPrefix),ue(1),K("ngIf",s._hasTextPrefix),ue(2),K("ngIf",!s._hasOutline()||s._forceDisplayInfixLabel()),ue(2),K("ngIf",s._hasTextSuffix),ue(1),K("ngIf",s._hasIconSuffix),ue(1),K("ngIf",!s._hasOutline()),ue(1),Ke("mat-mdc-form-field-subscript-dynamic-size","dynamic"===s.subscriptSizing),K("ngSwitch",s._getDisplayedMessages()),ue(1),K("ngSwitchCase","error"),ue(1),K("ngSwitchCase","hint"))},dependencies:[wo,dw,pf,BM,Py,xP,AP,TP],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[_Y.transitionMessages]},changeDetection:0})}return e})(),Ly=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=Ze({type:e});static#i=this.\u0275inj=qe({imports:[Qt,Ac,eP,Qt]})}return e})();const LP=Yc({passive:!0});let RY=(()=>{class e{constructor(i,n){this._platform=i,this._ngZone=n,this._monitoredElements=new Map}monitor(i){if(!this._platform.isBrowser)return Gn;const n=tr(i),s=this._monitoredElements.get(n);if(s)return s.subject;const r=new _e,o="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||n.classList.contains(o)?"cdk-text-field-autofill-end"===l.animationName&&n.classList.contains(o)&&(n.classList.remove(o),this._ngZone.run(()=>r.next({target:l.target,isAutofilled:!1}))):(n.classList.add(o),this._ngZone.run(()=>r.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{n.addEventListener("animationstart",a,LP),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:r,unlisten:()=>{n.removeEventListener("animationstart",a,LP)}}),r}stopMonitoring(i){const n=tr(i),s=this._monitoredElements.get(n);s&&(s.unlisten(),s.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((i,n)=>this.stopMonitoring(n))}static#e=this.\u0275fac=function(n){return new(n||e)(P(zt),P(q))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),TY=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=Ze({type:e});static#i=this.\u0275inj=qe({})}return e})();const AY=new O("MAT_INPUT_VALUE_ACCESSOR"),MY=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let IY=0;const FY=N9(class{constructor(e,t,i,n){this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=i,this.ngControl=n,this.stateChanges=new _e}});let OY=(()=>{class e extends FY{get disabled(){return this._disabled}set disabled(i){this._disabled=dt(i),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(i){this._id=i||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Zc.required)??!1}set required(i){this._required=dt(i)}get type(){return this._type}set type(i){this._type=i||"text",this._validateType(),!this._isTextarea&&xF().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(i){i!==this.value&&(this._inputValueAccessor.value=i,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(i){this._readonly=dt(i)}constructor(i,n,s,r,o,a,l,d,c,u){super(a,r,o,s),this._elementRef=i,this._platform=n,this._autofillMonitor=d,this._formField=u,this._uid="mat-input-"+IY++,this.focused=!1,this.stateChanges=new _e,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(v=>xF().has(v)),this._iOSKeyupListener=v=>{const C=v.target;!C.value&&0===C.selectionStart&&0===C.selectionEnd&&(C.setSelectionRange(1,1),C.setSelectionRange(0,0))};const p=this._elementRef.nativeElement,m=p.nodeName.toLowerCase();this._inputValueAccessor=l||p,this._previousNativeValue=this.value,this.id=this.id,n.IOS&&c.runOutsideAngular(()=>{i.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===m,this._isTextarea="textarea"===m,this._isInFormField=!!u,this._isNativeSelect&&(this.controlType=p.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(i=>{this.autofilled=i.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(i){this._elementRef.nativeElement.focus(i)}_focusChanged(i){i!==this.focused&&(this.focused=i,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const i=this._elementRef.nativeElement.value;this._previousNativeValue!==i&&(this._previousNativeValue=i,this.stateChanges.next())}_dirtyCheckPlaceholder(){const i=this._getPlaceholder();if(i!==this._previousPlaceholder){const n=this._elementRef.nativeElement;this._previousPlaceholder=i,i?n.setAttribute("placeholder",i):n.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){MY.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let i=this._elementRef.nativeElement.validity;return i&&i.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const i=this._elementRef.nativeElement,n=i.options[0];return this.focused||i.multiple||!this.empty||!!(i.selectedIndex>-1&&n&&n.label)}return this.focused||!this.empty}setDescribedByIds(i){i.length?this._elementRef.nativeElement.setAttribute("aria-describedby",i.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const i=this._elementRef.nativeElement;return this._isNativeSelect&&(i.multiple||i.size>1)}static#e=this.\u0275fac=function(n){return new(n||e)(_(ye),_(zt),_(ir,10),_(im,8),_(nu,8),_(V9),_(AY,10),_(RY),_(q),_(IP,8))};static#t=this.\u0275dir=U({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(n,s){1&n&&bt("focus",function(){return s._focusChanged(!0)})("blur",function(){return s._focusChanged(!1)})("input",function(){return s._onInput()}),2&n&&(Hp("id",s.id)("disabled",s.disabled)("required",s.required),lt("name",s.name||null)("readonly",s.readonly&&!s._isNativeSelect||null)("aria-invalid",s.empty&&s.required?null:s.errorState)("aria-required",s.required)("id",s.id),Ke("mat-input-server",s._isServer)("mat-mdc-form-field-textarea-control",s._isInFormField&&s._isTextarea)("mat-mdc-form-field-input-control",s._isInFormField)("mdc-text-field__input",s._isInFormField)("mat-mdc-native-select-inline",s._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Te([{provide:MP,useExisting:e}]),de,Si]})}return e})(),PY=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=Ze({type:e});static#i=this.\u0275inj=qe({imports:[Qt,Ly,Ly,TY,Qt]})}return e})();const LY=["mat-button",""],NY=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],kY=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],GY=["mat-icon-button",""],HY=["*"],BY=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],UY=My(P9(L9(class{constructor(e){this._elementRef=e}})));let NP=(()=>{class e extends UY{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(i){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,i)}get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=dt(i),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(i){this._disabled=dt(i),this._updateRippleDisabled()}constructor(i,n,s,r){super(i),this._platform=n,this._ngZone=s,this._animationMode=r,this._focusMonitor=G(cP),this._rippleLoader=G(j9),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const o=i.nativeElement.classList;for(const a of BY)this._hasHostAttributes(a.selector)&&a.mdcClasses.forEach(l=>{o.add(l)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(i="program",n){i?this._focusMonitor.focusVia(this._elementRef.nativeElement,i,n):this._elementRef.nativeElement.focus(n)}_hasHostAttributes(...i){return i.some(n=>this._elementRef.nativeElement.hasAttribute(n))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(n){NC()};static#t=this.\u0275dir=U({type:e,features:[de]})}return e})(),WY=(()=>{class e extends NP{constructor(i,n,s,r){super(i,n,s,r)}static#e=this.\u0275fac=function(n){return new(n||e)(_(ye),_(zt),_(q),_(zn,8))};static#t=this.\u0275cmp=gt({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(n,s){2&n&&(lt("disabled",s.disabled||null),Ke("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-unthemed",!s.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[de],attrs:LY,ngContentSelectors:kY,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,s){1&n&&(ai(NY),Je(0,"span",0),Ce(1),j(2,"span",1),Ce(3,1),X(),Ce(4,2),Je(5,"span",2)(6,"span",3)),2&n&&Ke("mdc-button__ripple",!s._isFab)("mdc-fab__ripple",s._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return e})(),kP=(()=>{class e extends NP{constructor(i,n,s,r){super(i,n,s,r),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(n){return new(n||e)(_(ye),_(zt),_(q),_(zn,8))};static#t=this.\u0275cmp=gt({type:e,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(n,s){2&n&&(lt("disabled",s.disabled||null),Ke("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-unthemed",!s.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[de],attrs:GY,ngContentSelectors:HY,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,s){1&n&&(ai(),Je(0,"span",0),Ce(1),Je(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return e})(),$Y=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=Ze({type:e});static#i=this.\u0275inj=qe({imports:[Qt,wP,Qt]})}return e})();class Ny{}class sr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(i=>{const n=i.indexOf(":");if(n>0){const s=i.slice(0,n),r=s.toLowerCase(),o=i.slice(n+1).trim();this.maybeSetNormalizedName(s,r),this.headers.has(r)?this.headers.get(r).push(o):this.headers.set(r,[o])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((i,n)=>{this.setHeaderEntries(n,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([i,n])=>{this.setHeaderEntries(i,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const i=this.headers.get(t.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,i){return this.clone({name:t,value:i,op:"a"})}set(t,i){return this.clone({name:t,value:i,op:"s"})}delete(t,i){return this.clone({name:t,value:i,op:"d"})}maybeSetNormalizedName(t,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,t)}init(){this.lazyInit&&(this.lazyInit instanceof sr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(i=>{this.headers.set(i,t.headers.get(i)),this.normalizedNames.set(i,t.normalizedNames.get(i))})}clone(t){const i=new sr;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof sr?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([t]),i}applyUpdate(t){const i=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,i);const s=("a"===t.op?this.headers.get(i):void 0)||[];s.push(...n),this.headers.set(i,s);break;case"d":const r=t.value;if(r){let o=this.headers.get(i);if(!o)return;o=o.filter(a=>-1===r.indexOf(a)),0===o.length?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,o)}else this.headers.delete(i),this.normalizedNames.delete(i)}}setHeaderEntries(t,i){const n=(Array.isArray(i)?i:[i]).map(r=>r.toString()),s=t.toLowerCase();this.headers.set(s,n),this.maybeSetNormalizedName(t,s)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>t(this.normalizedNames.get(i),this.headers.get(i)))}}class qY{encodeKey(t){return VP(t)}encodeValue(t){return VP(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const YY=/%(\d[a-f0-9])/gi,QY={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function VP(e){return encodeURIComponent(e).replace(YY,(t,i)=>QY[i]??t)}function cm(e){return`${e}`}class Lr{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new qY,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function KY(e,t){const i=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(s=>{const r=s.indexOf("="),[o,a]=-1==r?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,r)),t.decodeValue(s.slice(r+1))],l=i.get(o)||[];l.push(a),i.set(o,l)}),i}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(i=>{const n=t.fromObject[i],s=Array.isArray(n)?n.map(cm):[cm(n)];this.map.set(i,s)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const i=this.map.get(t);return i?i[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,i){return this.clone({param:t,value:i,op:"a"})}appendAll(t){const i=[];return Object.keys(t).forEach(n=>{const s=t[n];Array.isArray(s)?s.forEach(r=>{i.push({param:n,value:r,op:"a"})}):i.push({param:n,value:s,op:"a"})}),this.clone(i)}set(t,i){return this.clone({param:t,value:i,op:"s"})}delete(t,i){return this.clone({param:t,value:i,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const i=this.encoder.encodeKey(t);return this.map.get(t).map(n=>i+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const i=new Lr({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(t),i}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const i=("a"===t.op?this.map.get(t.param):void 0)||[];i.push(cm(t.value)),this.map.set(t.param,i);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let n=this.map.get(t.param)||[];const s=n.indexOf(cm(t.value));-1!==s&&n.splice(s,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class ZY{constructor(){this.map=new Map}set(t,i){return this.map.set(t,i),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function GP(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function HP(e){return typeof Blob<"u"&&e instanceof Blob}function BP(e){return typeof FormData<"u"&&e instanceof FormData}class du{constructor(t,i,n,s){let r;if(this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function XY(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==n?n:null,r=s):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params)),this.headers||(this.headers=new sr),this.context||(this.context=new ZY),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=i;else{const a=i.indexOf("?");this.urlWithParams=i+(-1===a?"?":a<i.length-1?"&":"")+o}}else this.params=new Lr,this.urlWithParams=i}serializeBody(){return null===this.body?null:GP(this.body)||HP(this.body)||BP(this.body)||function JY(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Lr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||BP(this.body)?null:HP(this.body)?this.body.type||null:GP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Lr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const i=t.method||this.method,n=t.url||this.url,s=t.responseType||this.responseType,r=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,d=t.params||this.params;const c=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((u,p)=>u.set(p,t.setHeaders[p]),l)),t.setParams&&(d=Object.keys(t.setParams).reduce((u,p)=>u.set(p,t.setParams[p]),d)),new du(i,n,r,{params:d,headers:l,context:c,reportProgress:a,responseType:s,withCredentials:o})}}var Vy=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Vy||{});class eQ{constructor(t,i=200,n="OK"){this.headers=t.headers||new sr,this.status=void 0!==t.status?t.status:i,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class cu extends eQ{constructor(t={}){super(t),this.type=Vy.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new cu({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function Gy(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let Hy=(()=>{class e{constructor(i){this.handler=i}request(i,n,s={}){let r;if(i instanceof du)r=i;else{let l,d;l=s.headers instanceof sr?s.headers:new sr(s.headers),s.params&&(d=s.params instanceof Lr?s.params:new Lr({fromObject:s.params})),r=new du(i,n,void 0!==s.body?s.body:null,{headers:l,context:s.context,params:d,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const o=Q(r).pipe(bl(l=>this.handler.handle(l)));if(i instanceof du||"events"===s.observe)return o;const a=o.pipe(Ut(l=>l instanceof cu));switch(s.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return a.pipe(ge(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(ge(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(ge(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(ge(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(i,n={}){return this.request("DELETE",i,n)}get(i,n={}){return this.request("GET",i,n)}head(i,n={}){return this.request("HEAD",i,n)}jsonp(i,n){return this.request("JSONP",i,{params:(new Lr).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,n={}){return this.request("OPTIONS",i,n)}patch(i,n,s={}){return this.request("PATCH",i,Gy(s,n))}post(i,n,s={}){return this.request("POST",i,Gy(s,n))}put(i,n,s={}){return this.request("PUT",i,Gy(s,n))}static#e=this.\u0275fac=function(n){return new(n||e)(P(Ny))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac})}return e})();const wQ=["*"];let pm;function uu(e){return function yQ(){if(void 0===pm&&(pm=null,typeof window<"u")){const e=window;void 0!==e.trustedTypes&&(pm=e.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return pm}()?.createHTML(e)||e}function ZP(e){return Error(`Unable to find icon with the name "${e}"`)}function XP(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function JP(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}class Mo{constructor(t,i,n){this.url=t,this.svgText=i,this.options=n}}let fm=(()=>{class e{constructor(i,n,s,r){this._httpClient=i,this._sanitizer=n,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=s}addSvgIcon(i,n,s){return this.addSvgIconInNamespace("",i,n,s)}addSvgIconLiteral(i,n,s){return this.addSvgIconLiteralInNamespace("",i,n,s)}addSvgIconInNamespace(i,n,s,r){return this._addSvgIconConfig(i,n,new Mo(s,null,r))}addSvgIconResolver(i){return this._resolvers.push(i),this}addSvgIconLiteralInNamespace(i,n,s,r){const o=this._sanitizer.sanitize(oi.HTML,s);if(!o)throw JP(s);const a=uu(o);return this._addSvgIconConfig(i,n,new Mo("",a,r))}addSvgIconSet(i,n){return this.addSvgIconSetInNamespace("",i,n)}addSvgIconSetLiteral(i,n){return this.addSvgIconSetLiteralInNamespace("",i,n)}addSvgIconSetInNamespace(i,n,s){return this._addSvgIconSetConfig(i,new Mo(n,null,s))}addSvgIconSetLiteralInNamespace(i,n,s){const r=this._sanitizer.sanitize(oi.HTML,n);if(!r)throw JP(n);const o=uu(r);return this._addSvgIconSetConfig(i,new Mo("",o,s))}registerFontClassAlias(i,n=i){return this._fontCssClassesByAlias.set(i,n),this}classNameForFontAlias(i){return this._fontCssClassesByAlias.get(i)||i}setDefaultFontSetClass(...i){return this._defaultFontSetClass=i,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(i){const n=this._sanitizer.sanitize(oi.RESOURCE_URL,i);if(!n)throw XP(i);const s=this._cachedIconsByUrl.get(n);return s?Q(mm(s)):this._loadSvgIconFromConfig(new Mo(i,null)).pipe(Ot(r=>this._cachedIconsByUrl.set(n,r)),ge(r=>mm(r)))}getNamedSvgIcon(i,n=""){const s=eL(n,i);let r=this._svgIconConfigs.get(s);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(n,i),r)return this._svgIconConfigs.set(s,r),this._getSvgFromConfig(r);const o=this._iconSetConfigs.get(n);return o?this._getSvgFromIconSetConfigs(i,o):Cl(ZP(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(i){return i.svgText?Q(mm(this._svgElementFromConfig(i))):this._loadSvgIconFromConfig(i).pipe(ge(n=>mm(n)))}_getSvgFromIconSetConfigs(i,n){const s=this._extractIconWithNameFromAnySet(i,n);return s?Q(s):AF(n.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(Ar(a=>{const d=`Loading icon set URL: ${this._sanitizer.sanitize(oi.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(d)),Q(null)})))).pipe(ge(()=>{const o=this._extractIconWithNameFromAnySet(i,n);if(!o)throw ZP(i);return o}))}_extractIconWithNameFromAnySet(i,n){for(let s=n.length-1;s>=0;s--){const r=n[s];if(r.svgText&&r.svgText.toString().indexOf(i)>-1){const o=this._svgElementFromConfig(r),a=this._extractSvgIconFromSet(o,i,r.options);if(a)return a}}return null}_loadSvgIconFromConfig(i){return this._fetchIcon(i).pipe(Ot(n=>i.svgText=n),ge(()=>this._svgElementFromConfig(i)))}_loadSvgIconSetFromConfig(i){return i.svgText?Q(null):this._fetchIcon(i).pipe(Ot(n=>i.svgText=n))}_extractSvgIconFromSet(i,n,s){const r=i.querySelector(`[id="${n}"]`);if(!r)return null;const o=r.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,s);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),s);const a=this._svgElementFromString(uu("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,s)}_svgElementFromString(i){const n=this._document.createElement("DIV");n.innerHTML=i;const s=n.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(i){const n=this._svgElementFromString(uu("<svg></svg>")),s=i.attributes;for(let r=0;r<s.length;r++){const{name:o,value:a}=s[r];"id"!==o&&n.setAttribute(o,a)}for(let r=0;r<i.childNodes.length;r++)i.childNodes[r].nodeType===this._document.ELEMENT_NODE&&n.appendChild(i.childNodes[r].cloneNode(!0));return n}_setSvgAttributes(i,n){return i.setAttribute("fit",""),i.setAttribute("height","100%"),i.setAttribute("width","100%"),i.setAttribute("preserveAspectRatio","xMidYMid meet"),i.setAttribute("focusable","false"),n&&n.viewBox&&i.setAttribute("viewBox",n.viewBox),i}_fetchIcon(i){const{url:n,options:s}=i,r=s?.withCredentials??!1;if(!this._httpClient)throw function _Q(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(oi.RESOURCE_URL,n);if(!o)throw XP(n);const a=this._inProgressUrlFetches.get(o);if(a)return a;const l=this._httpClient.get(o,{responseType:"text",withCredentials:r}).pipe(ge(d=>uu(d)),_f(()=>this._inProgressUrlFetches.delete(o)),Dh());return this._inProgressUrlFetches.set(o,l),l}_addSvgIconConfig(i,n,s){return this._svgIconConfigs.set(eL(i,n),s),this}_addSvgIconSetConfig(i,n){const s=this._iconSetConfigs.get(i);return s?s.push(n):this._iconSetConfigs.set(i,[n]),this}_svgElementFromConfig(i){if(!i.svgElement){const n=this._svgElementFromString(i.svgText);this._setSvgAttributes(n,i.options),i.svgElement=n}return i.svgElement}_getIconConfigFromResolvers(i,n){for(let s=0;s<this._resolvers.length;s++){const r=this._resolvers[s](n,i);if(r)return EQ(r)?new Mo(r.url,null,r.options):new Mo(r,null)}}static#e=this.\u0275fac=function(n){return new(n||e)(P(Hy,8),P(Sw),P(Ve,8),P(Sn))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function mm(e){return e.cloneNode(!0)}function eL(e,t){return e+":"+t}function EQ(e){return!(!e.url||!e.options)}const DQ=My(class{constructor(e){this._elementRef=e}}),xQ=new O("MAT_ICON_DEFAULT_OPTIONS"),RQ=new O("mat-icon-location",{providedIn:"root",factory:function TQ(){const e=G(Ve),t=e?e.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),tL=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],AQ=tL.map(e=>`[${e}]`).join(", "),MQ=/^url\(['"]?#(.*?)['"]?\)$/;let iL=(()=>{class e extends DQ{get inline(){return this._inline}set inline(i){this._inline=dt(i)}get svgIcon(){return this._svgIcon}set svgIcon(i){i!==this._svgIcon&&(i?this._updateSvgIcon(i):this._svgIcon&&this._clearSvgElement(),this._svgIcon=i)}get fontSet(){return this._fontSet}set fontSet(i){const n=this._cleanupFontValue(i);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(i){const n=this._cleanupFontValue(i);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}constructor(i,n,s,r,o,a){super(i),this._iconRegistry=n,this._location=r,this._errorHandler=o,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Vt.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),s||i.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(i){if(!i)return["",""];const n=i.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${i}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const i=this._elementsWithExternalReferences;if(i&&i.size){const n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(i){this._clearSvgElement();const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(i),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(i)}_clearSvgElement(){const i=this._elementRef.nativeElement;let n=i.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){const s=i.childNodes[n];(1!==s.nodeType||"svg"===s.nodeName.toLowerCase())&&s.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const i=this._elementRef.nativeElement,n=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(s=>s.length>0);this._previousFontSetClass.forEach(s=>i.classList.remove(s)),n.forEach(s=>i.classList.add(s)),this._previousFontSetClass=n,this.fontIcon!==this._previousFontIconClass&&!n.includes("mat-ligature-font")&&(this._previousFontIconClass&&i.classList.remove(this._previousFontIconClass),this.fontIcon&&i.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(i){return"string"==typeof i?i.trim().split(" ")[0]:i}_prependPathToReferences(i){const n=this._elementsWithExternalReferences;n&&n.forEach((s,r)=>{s.forEach(o=>{r.setAttribute(o.name,`url('${i}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(i){const n=i.querySelectorAll(AQ),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<n.length;r++)tL.forEach(o=>{const a=n[r],l=a.getAttribute(o),d=l?l.match(MQ):null;if(d){let c=s.get(a);c||(c=[],s.set(a,c)),c.push({name:o,value:d[1]})}})}_updateSvgIcon(i){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),i){const[n,s]=this._splitIconName(i);n&&(this._svgNamespace=n),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,n).pipe(Kn(1)).subscribe(r=>this._setSvgElement(r),r=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${n}:${s}! ${r.message}`))})}}static#e=this.\u0275fac=function(n){return new(n||e)(_(ye),_(fm),Hd("aria-hidden"),_(RQ),_(Sn),_(xQ,8))};static#t=this.\u0275cmp=gt({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(n,s){2&n&&(lt("data-mat-icon-type",s._usingFontIcon()?"font":"svg")("data-mat-icon-name",s._svgName||s.fontIcon)("data-mat-icon-namespace",s._svgNamespace||s.fontSet)("fontIcon",s._usingFontIcon()?s.fontIcon:null),Ke("mat-icon-inline",s.inline)("mat-icon-no-color","primary"!==s.color&&"accent"!==s.color&&"warn"!==s.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[de],ngContentSelectors:wQ,decls:1,vars:0,template:function(n,s){1&n&&(ai(),Ce(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return e})(),IQ=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=Ze({type:e});static#i=this.\u0275inj=qe({imports:[Qt,Qt]})}return e})();const FQ=["*",[["mat-toolbar-row"]]],OQ=["*","mat-toolbar-row"],PQ=My(class{constructor(e){this._elementRef=e}});let LQ=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=U({type:e,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return e})(),nL=(()=>{class e extends PQ{constructor(i,n,s){super(i),this._platform=n,this._document=s}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(n){return new(n||e)(_(ye),_(zt),_(Ve))};static#t=this.\u0275cmp=gt({type:e,selectors:[["mat-toolbar"]],contentQueries:function(n,s,r){if(1&n&&_t(r,LQ,5),2&n){let o;Fe(o=Oe())&&(s._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(n,s){2&n&&Ke("mat-toolbar-multiple-rows",s._toolbarRows.length>0)("mat-toolbar-single-row",0===s._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[de],ngContentSelectors:OQ,decls:2,vars:0,template:function(n,s){1&n&&(ai(FQ),Ce(0),Ce(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return e})(),NQ=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=Ze({type:e});static#i=this.\u0275inj=qe({imports:[Qt,Qt]})}return e})();function kQ(e,t){if(1&e&&(j(0,"mat-hint",9),Je(1,"mat-icon",10),Yt(2),X()),2&e){const i=nt(2);ue(2),Gp(" ",i.errorMessage," ")}}function VQ(e,t){1&e&&(j(0,"mat-hint",9),Yt(1,"No spaces required"),X())}function GQ(e,t){1&e&&(j(0,"mat-hint",9),Je(1,"mat-icon",10),Yt(2," Password is invalid "),X())}function HQ(e,t){1&e&&(j(0,"mat-hint",9),Yt(1,"Password should contain uppercase, lowerCase, numbers, specials Characters"),X())}function BQ(e,t){1&e&&(j(0,"mat-hint",9),Yt(1,"No spaces required"),X())}const sL=function(e){return{"is-phone":e}};function UQ(e,t){if(1&e){const i=cc();j(0,"form",1),bt("ngSubmit",function(){return Ma(i),Ia(nt().onSubmit())}),j(1,"mat-toolbar",2)(2,"span"),Yt(3,"LOGIN "),X()(),j(4,"mat-form-field",3)(5,"mat-label"),Yt(6,"Username"),X(),Je(7,"input",4),he(8,kQ,3,1,"mat-hint",5),he(9,VQ,2,0,"mat-hint",5),X(),j(10,"mat-form-field",3)(11,"mat-label"),Yt(12,"Password"),X(),Je(13,"input",6),j(14,"button",7),bt("click",function(){Ma(i);const s=nt();return Ia(s.hide=!s.hide)}),j(15,"mat-icon"),Yt(16),X()(),he(17,GQ,3,0,"mat-hint",5),he(18,HQ,2,0,"mat-hint",5),he(19,BQ,2,0,"mat-hint",5),X(),j(20,"button",8),Yt(21,"Submit"),X()()}if(2&e){const i=nt();K("formGroup",i.loginForm),ue(4),K("ngClass",yb(12,sL,i.isPhone)),ue(4),K("ngIf",!i.loginForm.get("username").valid&&i.loginForm.get("username").touched&&(null==i.loginForm.get("username").errors?null:i.loginForm.get("username").errors.required)),ue(1),K("ngIf",null==i.loginForm.get("username").errors?null:i.loginForm.get("username").errors.noSpaceAllowed),ue(1),K("ngClass",yb(14,sL,i.isPhone)),ue(3),K("type",i.hide?"password":"text"),ue(1),lt("aria-label","Hide password")("aria-pressed",i.hide),ue(2),Vp(i.hide?"visibility_off":"visibility"),ue(1),K("ngIf",(null==i.loginForm.get("password").errors?null:i.loginForm.get("password").errors.required)&&!i.loginForm.get("password").valid&&i.loginForm.get("password").touched),ue(1),K("ngIf",null==i.loginForm.get("password").errors?null:i.loginForm.get("password").errors.pattern),ue(1),K("ngIf",null==i.loginForm.get("password").errors?null:i.loginForm.get("password").errors.noSpaceAllowed)}}let rL=(()=>{class e{constructor(i,n,s){this.router=i,this.destroyRef=n,this.responsive=s,this.showLogin=!0,this.isPhone=!1,this.hide=!0}ngOnInit(){this.responsive.observe(["(max-width: 959.98px) and (orientation: landscape)",Wf_Small]).pipe(LO(this.destroyRef)).subscribe(i=>{i.breakpoints[Wf_Small]&&(this.isPhone=!0)}),this.loginForm=new Zf({username:new nm(null,[Zc.required,Zc.email,this.noSpaceAllowed]),password:new nm(null,[Zc.required,Zc.pattern("(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[$@$!%*?&])[A-Za-zd$@$!%*?&].{8,}"),this.noSpaceAllowed])}),this.errorMessage="Please enter username"}onSubmit(){this.loginForm.valid&&(this.showLogin=!1,this.router.navigate(["secure/home"]),console.log(this.loginForm))}noSpaceAllowed(i){return null!=i.value&&-1!=i.value.indexOf(" ")?{noSpaceAllowed:!0}:null}static#e=this.\u0275fac=function(n){return new(n||e)(_(ln),_(Za),_(ty))};static#t=this.\u0275cmp=gt({type:e,selectors:[["app-login"]],decls:1,vars:1,consts:[["class","login",3,"formGroup","ngSubmit",4,"ngIf"],[1,"login",3,"formGroup","ngSubmit"],["color","primary",1,"login-label"],[3,"ngClass"],["matInput","","placeholder","Enter your username","formControlName","username"],["class","error",4,"ngIf"],["matInput","","placeholder","Enter your password","formControlName","password",3,"type"],["type","button","mat-icon-button","","matSuffix","",3,"click"],["type","submit","mat-raised-button","","color","primary",1,"btn-submit"],[1,"error"],[1,"fa","fa-times","error"]],template:function(n,s){1&n&&he(0,UQ,22,16,"form",0),2&n&&K("ngIf",s.showLogin)},dependencies:[kM,wo,gO,jf,tO,iO,nu,gy,xY,Oy,Py,wY,OY,WY,kP,iL,nL],styles:["form[_ngcontent-%COMP%]{border:3px solid #f1f1f1;padding:16px}.error[_ngcontent-%COMP%]{color:red;font-size:small;display:inline-block}.login[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%] + mat-form-field[_ngcontent-%COMP%]{margin-left:8px}.login[_ngcontent-%COMP%]{text-align:right}.btn-submit[_ngcontent-%COMP%]{display:block}input.login[_ngcontent-%COMP%]::-webkit-outer-spin-button, input.login[_ngcontent-%COMP%]::-webkit-inner-spin-button{display:none}.login-label[_ngcontent-%COMP%]{font-size:medium;height:50px;margin-bottom:15px}[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center}.is-phone[_ngcontent-%COMP%]{display:block;margin-left:0!important}"]})}return e})(),Uy=(()=>{class e{constructor(){this.title="app",this.rowData=[{make:"Tesla",model:"Model Y",price:64950,electric:!0},{make:"Ford",model:"F-Series",price:33850,electric:!1},{make:"Toyota",model:"Corolla",price:29600,electric:!1}],this.columnDefs=[{field:"make"},{field:"model"},{field:"price"},{field:"electric"}]}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=gt({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(n,s){1&n&&Je(0,"router-outlet")(1,"app-login")},dependencies:[Hw,rL]})}return e})();const zQ=["addListener","removeListener"],WQ=["addEventListener","removeEventListener"],jQ=["on","off"];function hu(e,t,i,n){if(Re(i)&&(n=i,i=void 0),n)return hu(e,t,i).pipe(Ew(n));const[s,r]=function KQ(e){return Re(e.addEventListener)&&Re(e.removeEventListener)}(e)?WQ.map(o=>a=>e[o](t,a,i)):function $Q(e){return Re(e.addListener)&&Re(e.removeListener)}(e)?zQ.map(oL(e,t)):function qQ(e){return Re(e.on)&&Re(e.off)}(e)?jQ.map(oL(e,t)):[];if(!s&&Jg(e))return qt(o=>hu(o,t,i))(wi(e));if(!s)throw new TypeError("Invalid event target");return new Qe(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return s(a),()=>r(a)})}function oL(e,t){return i=>n=>e[i](t,n)}const pu={schedule(e){let t=requestAnimationFrame,i=cancelAnimationFrame;const{delegate:n}=pu;n&&(t=n.requestAnimationFrame,i=n.cancelAnimationFrame);const s=t(r=>{i=void 0,e(r)});return new Vt(()=>i?.(s))},requestAnimationFrame(...e){const{delegate:t}=pu;return(t?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){const{delegate:t}=pu;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0};new class QQ extends Zw{flush(t){this._active=!0;const i=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let s;t=t||n.shift();do{if(s=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===i&&n.shift());if(this._active=!1,s){for(;(t=n[0])&&t.id===i&&n.shift();)t.unsubscribe();throw s}}}(class YQ extends Yw{constructor(t,i){super(t,i),this.scheduler=t,this.work=i}requestAsyncId(t,i,n=0){return null!==n&&n>0?super.requestAsyncId(t,i,n):(t.actions.push(this),t._scheduled||(t._scheduled=pu.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,i,n=0){var s;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(t,i,n);const{actions:r}=t;null!=i&&(null===(s=r[r.length-1])||void 0===s?void 0:s.id)!==i&&(pu.cancelAnimationFrame(i),t._scheduled=void 0)}});let zy,XQ=1;const gm={};function aL(e){return e in gm&&(delete gm[e],!0)}const JQ={setImmediate(e){const t=XQ++;return gm[t]=!0,zy||(zy=Promise.resolve()),zy.then(()=>aL(t)&&e()),t},clearImmediate(e){aL(e)}},{setImmediate:eZ,clearImmediate:tZ}=JQ,vm={setImmediate(...e){const{delegate:t}=vm;return(t?.setImmediate||eZ)(...e)},clearImmediate(e){const{delegate:t}=vm;return(t?.clearImmediate||tZ)(e)},delegate:void 0};new class nZ extends Zw{flush(t){this._active=!0;const i=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let s;t=t||n.shift();do{if(s=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===i&&n.shift());if(this._active=!1,s){for(;(t=n[0])&&t.id===i&&n.shift();)t.unsubscribe();throw s}}}(class iZ extends Yw{constructor(t,i){super(t,i),this.scheduler=t,this.work=i}requestAsyncId(t,i,n=0){return null!==n&&n>0?super.requestAsyncId(t,i,n):(t.actions.push(this),t._scheduled||(t._scheduled=vm.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,i,n=0){var s;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(t,i,n);const{actions:r}=t;null!=i&&(null===(s=r[r.length-1])||void 0===s?void 0:s.id)!==i&&(vm.clearImmediate(i),t._scheduled===i&&(t._scheduled=void 0))}});function lL(e,t=Xw){return function rZ(e){return xt((t,i)=>{let n=!1,s=null,r=null,o=!1;const a=()=>{if(r?.unsubscribe(),r=null,n){n=!1;const d=s;s=null,i.next(d)}o&&i.complete()},l=()=>{r=null,o&&i.complete()};t.subscribe(mt(i,d=>{n=!0,s=d,r||wi(e(d)).subscribe(r=mt(i,a,l))},()=>{o=!0,(!n||!r||r.closed)&&i.complete()}))})}(()=>function aZ(e=0,t,i=pK){let n=-1;return null!=t&&(IE(t)?i=t:n=t),new Qe(s=>{let r=function oZ(e){return e instanceof Date&&!isNaN(e)}(e)?+e-i.now():e;r<0&&(r=0);let o=0;return i.schedule(function(){s.closed||(s.next(o++),0<=n?this.schedule(void 0,n):s.complete())},r)})}(e,t))}let Wy=(()=>{class e{constructor(i,n,s){this._ngZone=i,this._platform=n,this._scrolled=new _e,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(i){this.scrollContainers.has(i)||this.scrollContainers.set(i,i.elementScrolled().subscribe(()=>this._scrolled.next(i)))}deregister(i){const n=this.scrollContainers.get(i);n&&(n.unsubscribe(),this.scrollContainers.delete(i))}scrolled(i=20){return this._platform.isBrowser?new Qe(n=>{this._globalSubscription||this._addGlobalListener();const s=i>0?this._scrolled.pipe(lL(i)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Q()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((i,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(i,n){const s=this.getAncestorScrollContainers(i);return this.scrolled(n).pipe(Ut(r=>!r||s.indexOf(r)>-1))}getAncestorScrollContainers(i){const n=[];return this.scrollContainers.forEach((s,r)=>{this._scrollableContainsElement(r,i)&&n.push(r)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(i,n){let s=tr(n),r=i.getElementRef().nativeElement;do{if(s==r)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>hu(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(n){return new(n||e)(P(q),P(zt),P(Ve,8))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),fu=(()=>{class e{constructor(i,n,s,r){this.elementRef=i,this.scrollDispatcher=n,this.ngZone=s,this.dir=r,this._destroyed=new _e,this._elementScrolled=new Qe(o=>this.ngZone.runOutsideAngular(()=>hu(this.elementRef.nativeElement,"scroll").pipe(Pt(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(i){const n=this.elementRef.nativeElement,s=this.dir&&"rtl"==this.dir.value;null==i.left&&(i.left=s?i.end:i.start),null==i.right&&(i.right=s?i.start:i.end),null!=i.bottom&&(i.top=n.scrollHeight-n.clientHeight-i.bottom),s&&0!=Qc()?(null!=i.left&&(i.right=n.scrollWidth-n.clientWidth-i.left),2==Qc()?i.left=i.right:1==Qc()&&(i.left=i.right?-i.right:i.right)):null!=i.right&&(i.left=n.scrollWidth-n.clientWidth-i.right),this._applyScrollToOptions(i)}_applyScrollToOptions(i){const n=this.elementRef.nativeElement;!function mK(){if(null==Eo){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Eo=!1,Eo;if("scrollBehavior"in document.documentElement.style)Eo=!0;else{const e=Element.prototype.scrollTo;Eo=!!e&&!/\{\s*\[native code\]\s*\}/.test(e.toString())}}return Eo}()?(null!=i.top&&(n.scrollTop=i.top),null!=i.left&&(n.scrollLeft=i.left)):n.scrollTo(i)}measureScrollOffset(i){const n="left",s="right",r=this.elementRef.nativeElement;if("top"==i)return r.scrollTop;if("bottom"==i)return r.scrollHeight-r.clientHeight-r.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==i?i=o?s:n:"end"==i&&(i=o?n:s),o&&2==Qc()?i==n?r.scrollWidth-r.clientWidth-r.scrollLeft:r.scrollLeft:o&&1==Qc()?i==n?r.scrollLeft+r.scrollWidth-r.clientWidth:-r.scrollLeft:i==n?r.scrollLeft:r.scrollWidth-r.clientWidth-r.scrollLeft}static#e=this.\u0275fac=function(n){return new(n||e)(_(ye),_(Wy),_(q),_(Sy,8))};static#t=this.\u0275dir=U({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return e})(),cZ=(()=>{class e{constructor(i,n,s){this._platform=i,this._change=new _e,this._changeListener=r=>{this._change.next(r)},this._document=s,n.runOutsideAngular(()=>{if(i.isBrowser){const r=this._getWindow();r.addEventListener("resize",this._changeListener),r.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const i=this._getWindow();i.removeEventListener("resize",this._changeListener),i.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){const i=this.getViewportScrollPosition(),{width:n,height:s}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+s,right:i.left+n,height:s,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const i=this._document,n=this._getWindow(),s=i.documentElement,r=s.getBoundingClientRect();return{top:-r.top||i.body.scrollTop||n.scrollY||s.scrollTop||0,left:-r.left||i.body.scrollLeft||n.scrollX||s.scrollLeft||0}}change(i=20){return i>0?this._change.pipe(lL(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(n){return new(n||e)(P(zt),P(q),P(Ve,8))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),dL=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=Ze({type:e});static#i=this.\u0275inj=qe({})}return e})();const Cm=["*"],uZ=["content"];function hZ(e,t){if(1&e){const i=cc();j(0,"div",2),bt("click",function(){return Ma(i),Ia(nt()._onBackdropClicked())}),X()}2&e&&Ke("mat-drawer-shown",nt()._isShowingBackdrop())}function pZ(e,t){1&e&&(j(0,"mat-drawer-content"),Ce(1,2),X())}const fZ=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],mZ=["mat-drawer","mat-drawer-content","*"];function gZ(e,t){if(1&e){const i=cc();j(0,"div",2),bt("click",function(){return Ma(i),Ia(nt()._onBackdropClicked())}),X()}2&e&&Ke("mat-drawer-shown",nt()._isShowingBackdrop())}function vZ(e,t){1&e&&(j(0,"mat-sidenav-content"),Ce(1,2),X())}const CZ=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],bZ=["mat-sidenav","mat-sidenav-content","*"],cL={transformDrawer:YO("transform",[Dy("open, open-instant",Ol({transform:"none",visibility:"visible"})),Dy("void",Ol({"box-shadow":"none",visibility:"hidden"})),xy("void => open-instant",Ey("0ms")),xy("void <=> open, open-instant => void",Ey("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},yZ=new O("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function _Z(){return!1}}),jy=new O("MAT_DRAWER_CONTAINER");let bm=(()=>{class e extends fu{constructor(i,n,s,r,o){super(s,r,o),this._changeDetectorRef=i,this._container=n}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(n){return new(n||e)(_(Ys),_($e(()=>hL)),_(ye),_(Wy),_(q))};static#t=this.\u0275cmp=gt({type:e,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(n,s){2&n&&hc("margin-left",s._container._contentMargins.left,"px")("margin-right",s._container._contentMargins.right,"px")},features:[Te([{provide:fu,useExisting:e}]),de],ngContentSelectors:Cm,decls:1,vars:0,template:function(n,s){1&n&&(ai(),Ce(0))},encapsulation:2,changeDetection:0})}return e})(),uL=(()=>{class e{get position(){return this._position}set position(i){(i="end"===i?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(i),this._position=i,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(i){this._mode=i,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(i){this._disableClose=dt(i)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(i){("true"===i||"false"===i||null==i)&&(i=dt(i)),this._autoFocus=i}get opened(){return this._opened}set opened(i){this.toggle(dt(i))}constructor(i,n,s,r,o,a,l,d){this._elementRef=i,this._focusTrapFactory=n,this._focusMonitor=s,this._platform=r,this._ngZone=o,this._interactivityChecker=a,this._doc=l,this._container=d,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new _e,this._animationEnd=new _e,this._animationState="void",this.openedChange=new T(!0),this._openedStream=this.openedChange.pipe(Ut(c=>c),ge(()=>{})),this.openedStart=this._animationStarted.pipe(Ut(c=>c.fromState!==c.toState&&0===c.toState.indexOf("open")),Rw(void 0)),this._closedStream=this.openedChange.pipe(Ut(c=>!c),ge(()=>{})),this.closedStart=this._animationStarted.pipe(Ut(c=>c.fromState!==c.toState&&"void"===c.toState),Rw(void 0)),this._destroyed=new _e,this.onPositionChanged=new T,this._modeChanged=new _e,this.openedChange.subscribe(c=>{c?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{hu(this._elementRef.nativeElement,"keydown").pipe(Ut(c=>27===c.keyCode&&!this.disableClose&&!function Ty(e,...t){return t.length?t.some(i=>e[i]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}(c)),Pt(this._destroyed)).subscribe(c=>this._ngZone.run(()=>{this.close(),c.stopPropagation(),c.preventDefault()}))}),this._animationEnd.pipe(iv((c,u)=>c.fromState===u.fromState&&c.toState===u.toState)).subscribe(c=>{const{fromState:u,toState:p}=c;(0===p.indexOf("open")&&"void"===u||"void"===p&&0===u.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(i,n){this._interactivityChecker.isFocusable(i)||(i.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const s=()=>{i.removeEventListener("blur",s),i.removeEventListener("mousedown",s),i.removeAttribute("tabindex")};i.addEventListener("blur",s),i.addEventListener("mousedown",s)})),i.focus(n)}_focusByCssSelector(i,n){let s=this._elementRef.nativeElement.querySelector(i);s&&this._forceFocus(s,n)}_takeFocus(){if(!this._focusTrap)return;const i=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{!n&&"function"==typeof this._elementRef.nativeElement.focus&&i.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(i){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,i):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const i=this._doc.activeElement;return!!i&&this._elementRef.nativeElement.contains(i)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(i){return this.toggle(!0,i)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(i=!this.opened,n){i&&n&&(this._openedVia=n);const s=this._setOpen(i,!i&&this._isFocusWithinDrawer(),this._openedVia||"program");return i||(this._openedVia=null),s}_setOpen(i,n,s){return this._opened=i,i?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",n&&this._restoreFocus(s)),this._updateFocusTrapState(),new Promise(r=>{this.openedChange.pipe(Kn(1)).subscribe(o=>r(o?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(i){const n=this._elementRef.nativeElement,s=n.parentNode;"end"===i?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),s.insertBefore(this._anchor,n)),s.appendChild(n)):this._anchor&&this._anchor.parentNode.insertBefore(n,this._anchor)}static#e=this.\u0275fac=function(n){return new(n||e)(_(ye),_(D9),_(cP),_(zt),_(q),_(sP),_(Ve,8),_(jy,8))};static#t=this.\u0275cmp=gt({type:e,selectors:[["mat-drawer"]],viewQuery:function(n,s){if(1&n&&on(uZ,5),2&n){let r;Fe(r=Oe())&&(s._content=r.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(n,s){1&n&&nb("@transform.start",function(o){return s._animationStarted.next(o)})("@transform.done",function(o){return s._animationEnd.next(o)}),2&n&&(lt("align",null),db("@transform",s._animationState),Ke("mat-drawer-end","end"===s.position)("mat-drawer-over","over"===s.mode)("mat-drawer-push","push"===s.mode)("mat-drawer-side","side"===s.mode)("mat-drawer-opened",s.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:Cm,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(n,s){1&n&&(ai(),j(0,"div",0,1),Ce(2),X())},dependencies:[fu],encapsulation:2,data:{animation:[cL.transformDrawer]},changeDetection:0})}return e})(),hL=(()=>{class e{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(i){this._autosize=dt(i)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(i){this._backdropOverride=null==i?null:dt(i)}get scrollable(){return this._userContent||this._content}constructor(i,n,s,r,o,a=!1,l){this._dir=i,this._element=n,this._ngZone=s,this._changeDetectorRef=r,this._animationMode=l,this._drawers=new pl,this.backdropClick=new T,this._destroyed=new _e,this._doCheckSubject=new _e,this._contentMargins={left:null,right:null},this._contentMarginChanges=new _e,i&&i.change.pipe(Pt(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),o.change().pipe(Pt(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=a}ngAfterContentInit(){this._allDrawers.changes.pipe(wf(this._allDrawers),Pt(this._destroyed)).subscribe(i=>{this._drawers.reset(i.filter(n=>!n._container||n._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(wf(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(i=>{this._watchDrawerToggle(i),this._watchDrawerPosition(i),this._watchDrawerMode(i)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Uf(10),Pt(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(i=>i.open())}close(){this._drawers.forEach(i=>i.close())}updateContentMargins(){let i=0,n=0;if(this._left&&this._left.opened)if("side"==this._left.mode)i+=this._left._getWidth();else if("push"==this._left.mode){const s=this._left._getWidth();i+=s,n-=s}if(this._right&&this._right.opened)if("side"==this._right.mode)n+=this._right._getWidth();else if("push"==this._right.mode){const s=this._right._getWidth();n+=s,i-=s}i=i||null,n=n||null,(i!==this._contentMargins.left||n!==this._contentMargins.right)&&(this._contentMargins={left:i,right:n},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(i){i._animationStarted.pipe(Ut(n=>n.fromState!==n.toState),Pt(this._drawers.changes)).subscribe(n=>{"open-instant"!==n.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==i.mode&&i.openedChange.pipe(Pt(this._drawers.changes)).subscribe(()=>this._setContainerClass(i.opened))}_watchDrawerPosition(i){i&&i.onPositionChanged.pipe(Pt(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Kn(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(i){i&&i._modeChanged.pipe(Pt(Eh(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(i){const n=this._element.nativeElement.classList,s="mat-drawer-container-has-open";i?n.add(s):n.remove(s)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(i=>{"end"==i.position?this._end=i:this._start=i}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(i=>i&&!i.disableClose&&this._drawerHasBackdrop(i)).forEach(i=>i._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(i){return null!=i&&i.opened}_drawerHasBackdrop(i){return null==this._backdropOverride?!!i&&"side"!==i.mode:this._backdropOverride}static#e=this.\u0275fac=function(n){return new(n||e)(_(Sy,8),_(ye),_(q),_(Ys),_(cZ),_(yZ),_(zn,8))};static#t=this.\u0275cmp=gt({type:e,selectors:[["mat-drawer-container"]],contentQueries:function(n,s,r){if(1&n&&(_t(r,bm,5),_t(r,uL,5)),2&n){let o;Fe(o=Oe())&&(s._content=o.first),Fe(o=Oe())&&(s._allDrawers=o)}},viewQuery:function(n,s){if(1&n&&on(bm,5),2&n){let r;Fe(r=Oe())&&(s._userContent=r.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(n,s){2&n&&Ke("mat-drawer-container-explicit-backdrop",s._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Te([{provide:jy,useExisting:e}])],ngContentSelectors:mZ,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(n,s){1&n&&(ai(fZ),he(0,hZ,1,2,"div",0),Ce(1),Ce(2,1),he(3,pZ,2,0,"mat-drawer-content",1)),2&n&&(K("ngIf",s.hasBackdrop),ue(3),K("ngIf",!s._content))},dependencies:[wo,bm],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return e})(),$y=(()=>{class e extends bm{constructor(i,n,s,r,o){super(i,n,s,r,o)}static#e=this.\u0275fac=function(n){return new(n||e)(_(Ys),_($e(()=>fL)),_(ye),_(Wy),_(q))};static#t=this.\u0275cmp=gt({type:e,selectors:[["mat-sidenav-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(n,s){2&n&&hc("margin-left",s._container._contentMargins.left,"px")("margin-right",s._container._contentMargins.right,"px")},features:[Te([{provide:fu,useExisting:e}]),de],ngContentSelectors:Cm,decls:1,vars:0,template:function(n,s){1&n&&(ai(),Ce(0))},encapsulation:2,changeDetection:0})}return e})(),pL=(()=>{class e extends uL{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(i){this._fixedInViewport=dt(i)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(i){this._fixedTopGap=Hf(i)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(i){this._fixedBottomGap=Hf(i)}static#e=this.\u0275fac=function(){let i;return function(s){return(i||(i=Ct(e)))(s||e)}}();static#t=this.\u0275cmp=gt({type:e,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(n,s){2&n&&(lt("align",null),hc("top",s.fixedInViewport?s.fixedTopGap:null,"px")("bottom",s.fixedInViewport?s.fixedBottomGap:null,"px"),Ke("mat-drawer-end","end"===s.position)("mat-drawer-over","over"===s.mode)("mat-drawer-push","push"===s.mode)("mat-drawer-side","side"===s.mode)("mat-drawer-opened",s.opened)("mat-sidenav-fixed",s.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[de],ngContentSelectors:Cm,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(n,s){1&n&&(ai(),j(0,"div",0,1),Ce(2),X())},dependencies:[fu],encapsulation:2,data:{animation:[cL.transformDrawer]},changeDetection:0})}return e})(),fL=(()=>{class e extends hL{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}static#e=this.\u0275fac=function(){let i;return function(s){return(i||(i=Ct(e)))(s||e)}}();static#t=this.\u0275cmp=gt({type:e,selectors:[["mat-sidenav-container"]],contentQueries:function(n,s,r){if(1&n&&(_t(r,$y,5),_t(r,pL,5)),2&n){let o;Fe(o=Oe())&&(s._content=o.first),Fe(o=Oe())&&(s._allDrawers=o)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(n,s){2&n&&Ke("mat-drawer-container-explicit-backdrop",s._backdropOverride)},exportAs:["matSidenavContainer"],features:[Te([{provide:jy,useExisting:e}]),de],ngContentSelectors:bZ,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(n,s){1&n&&(ai(CZ),he(0,gZ,1,2,"div",0),Ce(1),Ce(2,1),he(3,vZ,2,0,"mat-sidenav-content",1)),2&n&&(K("ngIf",s.hasBackdrop),ue(3),K("ngIf",!s._content))},dependencies:[wo,$y],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return e})(),SZ=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=Ze({type:e});static#i=this.\u0275inj=qe({imports:[Ac,Qt,dL,dL,Qt]})}return e})(),EZ=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=Ze({type:e});static#i=this.\u0275inj=qe({imports:[Qt,Qt]})}return e})();const gL=["*"],CL=["unscopedContent"],DZ=["text"],xZ=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],RZ=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],bL=new O("ListOption");let wL=(()=>{class e{constructor(i){this._elementRef=i}static#e=this.\u0275fac=function(n){return new(n||e)(_(ye))};static#t=this.\u0275dir=U({type:e,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]})}return e})(),yL=(()=>{class e{constructor(i){this._elementRef=i}static#e=this.\u0275fac=function(n){return new(n||e)(_(ye))};static#t=this.\u0275dir=U({type:e,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]})}return e})(),jZ=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=U({type:e,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]})}return e})(),_L=(()=>{class e{constructor(i){this._listOption=i}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}static#e=this.\u0275fac=function(n){return new(n||e)(_(bL,8))};static#t=this.\u0275dir=U({type:e,hostVars:4,hostBindings:function(n,s){2&n&&Ke("mdc-list-item__start",s._isAlignedAtStart())("mdc-list-item__end",!s._isAlignedAtStart())}})}return e})(),$Z=(()=>{class e extends _L{static#e=this.\u0275fac=function(){let i;return function(s){return(i||(i=Ct(e)))(s||e)}}();static#t=this.\u0275dir=U({type:e,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[de]})}return e})(),qZ=(()=>{class e extends _L{static#e=this.\u0275fac=function(){let i;return function(s){return(i||(i=Ct(e)))(s||e)}}();static#t=this.\u0275dir=U({type:e,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[de]})}return e})();const KZ=new O("MAT_LIST_CONFIG");let Ll=(()=>{class e{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=G(KZ,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=dt(i)}get disabled(){return this._disabled}set disabled(i){this._disabled=dt(i)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=U({type:e,hostVars:1,hostBindings:function(n,s){2&n&&lt("aria-disabled",s.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}})}return e})(),qy=(()=>{class e{set lines(i){this._explicitLines=Hf(i,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(i){this._disableRipple=dt(i)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(i){this._disabled=dt(i)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(i,n,s,r,o,a){this._elementRef=i,this._ngZone=n,this._listBase=s,this._platform=r,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new Vt,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=o||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===a,s&&!s._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new au(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(Eh(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(i){if(!this._lines||!this._titles||!this._unscopedContent)return;i&&this._checkDomForUnscopedTextContent();const n=this._explicitLines??this._inferLinesFromContent(),s=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",n<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",n<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===n),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===n),this._hasUnscopedTextContent){const r=0===this._titles.length&&1===n;s.classList.toggle("mdc-list-item__primary-text",r),s.classList.toggle("mdc-list-item__secondary-text",!r)}else s.classList.remove("mdc-list-item__primary-text"),s.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let i=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(i+=1),i}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(i=>i.nodeType!==i.COMMENT_NODE).some(i=>!(!i.textContent||!i.textContent.trim()))}static#e=this.\u0275fac=function(n){return new(n||e)(_(ye),_(q),_(Ll,8),_(zt),_(lu,8),_(zn,8))};static#t=this.\u0275dir=U({type:e,contentQueries:function(n,s,r){if(1&n&&(_t(r,$Z,4),_t(r,qZ,4)),2&n){let o;Fe(o=Oe())&&(s._avatars=o),Fe(o=Oe())&&(s._icons=o)}},hostVars:4,hostBindings:function(n,s){2&n&&(lt("aria-disabled",s.disabled)("disabled",s._isButtonElement&&s.disabled||null),Ke("mdc-list-item--disabled",s.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}})}return e})(),YZ=(()=>{class e extends qy{get activated(){return this._activated}set activated(i){this._activated=dt(i)}constructor(i,n,s,r,o,a){super(i,n,s,r,o,a),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}static#e=this.\u0275fac=function(n){return new(n||e)(_(ye),_(q),_(Ll,8),_(zt),_(lu,8),_(zn,8))};static#t=this.\u0275cmp=gt({type:e,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(n,s,r){if(1&n&&(_t(r,yL,5),_t(r,wL,5),_t(r,jZ,5)),2&n){let o;Fe(o=Oe())&&(s._lines=o),Fe(o=Oe())&&(s._titles=o),Fe(o=Oe())&&(s._meta=o)}},viewQuery:function(n,s){if(1&n&&(on(CL,5),on(DZ,5)),2&n){let r;Fe(r=Oe())&&(s._unscopedContent=r.first),Fe(r=Oe())&&(s._itemText=r.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(n,s){2&n&&(lt("aria-current",s._getAriaCurrent()),Ke("mdc-list-item--activated",s.activated)("mdc-list-item--with-leading-avatar",0!==s._avatars.length)("mdc-list-item--with-leading-icon",0!==s._icons.length)("mdc-list-item--with-trailing-meta",0!==s._meta.length)("_mat-animation-noopable",s._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[de],ngContentSelectors:RZ,decls:10,vars:0,consts:[[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],["unscopedContent",""],[1,"mat-mdc-focus-indicator"]],template:function(n,s){1&n&&(ai(xZ),Ce(0),j(1,"span",0),Ce(2,1),Ce(3,2),j(4,"span",1,2),bt("cdkObserveContent",function(){return s._updateItemLines(!0)}),Ce(6,3),X()(),Ce(7,4),Ce(8,5),Je(9,"div",3))},dependencies:[JO],encapsulation:2,changeDetection:0})}return e})(),ZZ=(()=>{class e extends Ll{constructor(){super(...arguments),this._isNonInteractive=!1}static#e=this.\u0275fac=function(){let i;return function(s){return(i||(i=Ct(e)))(s||e)}}();static#t=this.\u0275cmp=gt({type:e,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[Te([{provide:Ll,useExisting:e}]),de],ngContentSelectors:gL,decls:1,vars:0,template:function(n,s){1&n&&(ai(),Ce(0))},styles:['@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon,.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon,.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-base{--mdc-list-list-item-container-shape:0;--mdc-list-list-item-leading-avatar-shape:50%;--mdc-list-list-item-container-color:transparent;--mdc-list-list-item-selected-container-color:transparent;--mdc-list-list-item-leading-avatar-color:transparent;--mdc-list-list-item-leading-icon-size:24px;--mdc-list-list-item-leading-avatar-size:40px;--mdc-list-list-item-trailing-icon-size:24px;--mdc-list-list-item-disabled-state-layer-color:transparent;--mdc-list-list-item-disabled-state-layer-opacity:0;--mdc-list-list-item-disabled-label-text-opacity:0.38;--mdc-list-list-item-disabled-leading-icon-opacity:0.38;--mdc-list-list-item-disabled-trailing-icon-opacity:0.38}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}'],encapsulation:2,changeDetection:0})}return e})(),tX=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=Ze({type:e});static#i=this.\u0275inj=qe({imports:[eP,Ac,Qt,wP,W9,EZ]})}return e})();var Ky=Object.defineProperty,iX=Object.defineProperties,nX=Object.getOwnPropertyDescriptor,sX=Object.getOwnPropertyDescriptors,wm=Object.getOwnPropertySymbols,EL=Object.prototype.hasOwnProperty,DL=Object.prototype.propertyIsEnumerable,xL=(e,t,i)=>t in e?Ky(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,z=(e,t)=>{for(var i in t||(t={}))EL.call(t,i)&&xL(e,i,t[i]);if(wm)for(var i of wm(t))DL.call(t,i)&&xL(e,i,t[i]);return e},ot=(e,t)=>iX(e,sX(t)),Zt=(e,t)=>{for(var i in t)Ky(e,i,{get:t[i],enumerable:!0})},h=(e,t,i,n)=>{for(var o,s=n>1?void 0:n?nX(t,i):t,r=e.length-1;r>=0;r--)(o=e[r])&&(s=(n?o(t,i,s):o(s))||s);return n&&s&&Ky(t,i,s),s},Zn=(e,t)=>(i,n)=>t(i,n,e),RL={};function Es(e){return null==e||""===e?null:e}function R(e,t=!1){return null!=e&&(""!==e||t)}function Y(e){return!R(e)}function dn(e){return null==e||0===e.length}function mu(e){return null!=e&&"function"==typeof e.toString?e.toString():null}function kr(e){if(void 0===e)return;if(null===e||""===e)return null;if("number"==typeof e)return isNaN(e)?void 0:e;const t=parseInt(e,10);return isNaN(t)?void 0:t}function ym(e){if(void 0!==e)return null!==e&&""!==e&&("boolean"==typeof e?e:/true/i.test(e))}function oX(e){if(null!=e&&""!==e)return e}function Yy(e,t){return(e?JSON.stringify(e):null)===(t?JSON.stringify(t):null)}function aX(e,t,i=!1){const n=null==e,s=null==t;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),n&&s)return 0;if(n)return-1;if(s)return 1;function r(o,a){return o>a?1:o<a?-1:0}if("string"!=typeof e||!i)return r(e,t);try{return e.localeCompare(t)}catch{return r(e,t)}}function Io(e){if(e instanceof Set||e instanceof Map){const t=[];return e.forEach(i=>t.push(i)),t}return Object.values(e)}Zt(RL,{attrToBoolean:()=>ym,attrToNumber:()=>kr,attrToString:()=>oX,defaultComparator:()=>aX,exists:()=>R,jsonEquals:()=>Yy,makeNull:()=>Es,missing:()=>Y,missingOrEmpty:()=>dn,toStringOrNull:()=>mu,values:()=>Io});var TL={};function pi(e,t){if(null!=e){if(Array.isArray(e)){for(let i=0;i<e.length;i++)t(i.toString(),e[i]);return}for(const[i,n]of Object.entries(e))t(i,n)}}function Qy(e){const t={},i=Object.keys(e);for(let n=0;n<i.length;n++){const s=i[n];t[s]=e[s]}return t}function _m(e,t){if(!e)return;const i=e,n={};return Object.keys(i).forEach(s=>{if(t&&t.indexOf(s)>=0)return;const r=i[s];n[s]=Sm(r)&&r.constructor===Object?_m(r):r}),n}function Vr(e){if(!e)return[];const t=Object;if("function"==typeof t.values)return t.values(e);const i=[];for(const n in e)e.hasOwnProperty(n)&&e.propertyIsEnumerable(n)&&i.push(e[n]);return i}function cn(e,t,i=!0,n=!1){R(t)&&pi(t,(s,r)=>{let o=e[s];o!==r&&(n&&null==o&&null!=r&&"object"==typeof r&&r.constructor===Object&&(o={},e[s]=o),Sm(r)&&Sm(o)&&!Array.isArray(o)?cn(o,r,i,n):(i||void 0!==r)&&(e[s]=r))})}function Nl(e,t,i){if(!t||!e)return;if(!i)return e[t];const n=t.split(".");let s=e;for(let r=0;r<n.length;r++){if(null==s)return;s=s[n[r]]}return s}function AL(e,t=[],i){Object.keys(e).forEach(o=>{"object"==typeof e[o]&&!t.includes(o)&&(e[o]=void 0)});const n=Object.getPrototypeOf(e),s={};Object.getOwnPropertyNames(n).forEach(o=>{if("function"==typeof n[o]&&!t.includes(o)){const l=()=>{console.warn((o=>`AG Grid: Grid API function ${o}() cannot be called as the grid has been destroyed.\n    It is recommended to remove local references to the grid api. Alternatively, check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.\n    To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${i}`)(o))};s[o]={value:l,writable:!0}}}),Object.defineProperties(e,s)}function Sm(e){return"object"==typeof e&&null!==e}Zt(TL,{cloneObject:()=>Qy,deepCloneDefinition:()=>_m,getAllValuesInObject:()=>Vr,getValueUsingField:()=>Nl,isNonNullObject:()=>Sm,iterateObject:()=>pi,mergeDeep:()=>cn,removeAllReferences:()=>AL});var ML={};Zt(ML,{compose:()=>dX,debounce:()=>Ii,doOnce:()=>Fo,errorOnce:()=>Xn,executeAfter:()=>OL,executeInAWhile:()=>FL,executeNextVMTurn:()=>Jy,getFunctionName:()=>Em,isFunction:()=>Dm,noop:()=>cX,throttle:()=>e_,waitUntil:()=>t_,warnOnce:()=>$});var IL={};function Fo(e,t){IL[t]||(e(),IL[t]=!0)}function $(e){Fo(()=>console.warn("AG Grid: "+e),e)}function Xn(e){Fo(()=>console.error("AG Grid: "+e),e)}function Em(e){if(e.name)return e.name;const t=/function\s+([^\(]+)/.exec(e.toString());return t&&2===t.length?t[1].trim():null}function Dm(e){return!!(e&&e.constructor&&e.call&&e.apply)}function FL(e){OL(e,400)}var Zy=[],Xy=!1;function Jy(e){Zy.push(e),!Xy&&(Xy=!0,window.setTimeout(()=>{const t=Zy.slice();Zy.length=0,Xy=!1,t.forEach(i=>i())},0))}function OL(e,t=0){e.length>0&&window.setTimeout(()=>e.forEach(i=>i()),t)}function Ii(e,t){let i;return function(...n){const s=this;window.clearTimeout(i),i=window.setTimeout(function(){e.apply(s,n)},t)}}function e_(e,t){let i=0;return function(...n){const r=(new Date).getTime();r-i<t||(i=r,e.apply(this,n))}}function t_(e,t,i=100,n){const s=(new Date).getTime();let r=null,o=!1;const a=()=>{const l=(new Date).getTime()-s>i;(e()||l)&&(t(),o=!0,null!=r&&(window.clearInterval(r),r=null),l&&n&&console.warn(n))};a(),o||(r=window.setInterval(a,10))}function dX(...e){return t=>e.reduce((i,n)=>n(i),t)}var cX=()=>{},PL=(e=>(e.CommunityCoreModule="@ag-grid-community/core",e.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",e.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",e.CsvExportModule="@ag-grid-community/csv-export",e.EnterpriseCoreModule="@ag-grid-enterprise/core",e.RowGroupingModule="@ag-grid-enterprise/row-grouping",e.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",e.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",e.MenuModule="@ag-grid-enterprise/menu",e.SetFilterModule="@ag-grid-enterprise/set-filter",e.MultiFilterModule="@ag-grid-enterprise/multi-filter",e.StatusBarModule="@ag-grid-enterprise/status-bar",e.SideBarModule="@ag-grid-enterprise/side-bar",e.RangeSelectionModule="@ag-grid-enterprise/range-selection",e.MasterDetailModule="@ag-grid-enterprise/master-detail",e.RichSelectModule="@ag-grid-enterprise/rich-select",e.GridChartsModule="@ag-grid-enterprise/charts",e.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",e.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",e.ExcelExportModule="@ag-grid-enterprise/excel-export",e.ClipboardModule="@ag-grid-enterprise/clipboard",e.SparklinesModule="@ag-grid-enterprise/sparklines",e.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",e.AngularModule="@ag-grid-community/angular",e.ReactModule="@ag-grid-community/react",e.VueModule="@ag-grid-community/vue",e))(PL||{}),xm=class Be{static register(t){Be.__register(t,!0,void 0)}static registerModules(t){Be.__registerModules(t,!0,void 0)}static __register(t,i,n){Be.runVersionChecks(t),void 0!==n?(Be.areGridScopedModules=!0,void 0===Be.gridModulesMap[n]&&(Be.gridModulesMap[n]={}),Be.gridModulesMap[n][t.moduleName]=t):Be.globalModulesMap[t.moduleName]=t,Be.setModuleBased(i)}static __unRegisterGridModules(t){delete Be.gridModulesMap[t]}static __registerModules(t,i,n){Be.setModuleBased(i),t&&t.forEach(s=>Be.__register(s,i,n))}static isValidModuleVersion(t){const[i,n]=t.version.split(".")||[],[s,r]=Be.currentModuleVersion.split(".")||[];return i===s&&n===r}static runVersionChecks(t){if(Be.currentModuleVersion||(Be.currentModuleVersion=t.version),t.version?Be.isValidModuleVersion(t)||console.error(`AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '${t.moduleName}' is version ${t.version} but the other modules are version ${this.currentModuleVersion}. Please update all modules to the same version.`):console.error(`AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '${t.moduleName}' is incompatible. Please update all modules to the same version.`),t.validate){const i=t.validate();i.isValid||console.error(`AG Grid: ${i.message}`)}}static setModuleBased(t){void 0===Be.moduleBased?Be.moduleBased=t:Be.moduleBased!==t&&Fo(()=>{console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")}static __setIsBundled(){Be.isBundled=!0}static __assertRegistered(t,i,n){var s;if(this.__isRegistered(t,n))return!0;const r=i+t;let o;if(Be.isBundled)o=`AG Grid: unable to use ${i} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:\n        \n        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>\n        \nFor more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(Be.moduleBased||void 0===Be.moduleBased){let a=null==(s=Object.entries(PL).find(([l,d])=>d===t))?void 0:s[0];o=`AG Grid: unable to use ${i} as the ${a} is not registered${Be.areGridScopedModules?` for gridId: ${n}`:""}. Check if you have registered the module:\n           \n    import { ModuleRegistry } from '@ag-grid-community/core';\n    import { ${a} } from '${t}';\n    \n    ModuleRegistry.registerModules([ ${a} ]);\n\nFor more info see: https://www.ag-grid.com/javascript-grid/modules/`}else o=`AG Grid: unable to use ${i} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:\n            \n    import 'ag-grid-enterprise';\n            \nFor more info see: https://www.ag-grid.com/javascript-grid/packages/`;return Fo(()=>{console.warn(o)},r),!1}static __warnEnterpriseChartDisabled(t){const r=`AG Grid: the '${t}' chart type is not supported in AG Charts Community as 'ag-grid-charts-enterprise' or '@ag-grid-enterprise/charts-enterprise' hasn't been loaded. See https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/ for more details.`;Fo(()=>{console.warn(r)},"ag-charts-enterprise:"+t)}static __isRegistered(t,i){var n;return!!Be.globalModulesMap[t]||!(null==(n=Be.gridModulesMap[i])||!n[t])}static __getRegisteredModules(t){return[...Io(Be.globalModulesMap),...Io(Be.gridModulesMap[t]||{})]}static __getGridRegisteredModules(t){var i;return Io(null!=(i=Be.gridModulesMap[t])?i:{})||[]}static __isPackageBased(){return!Be.moduleBased}};xm.globalModulesMap={},xm.gridModulesMap={},xm.areGridScopedModules=!1;var ke=xm;function LL(e,t,i){const n=Oo(e.constructor);n.preConstructMethods||(n.preConstructMethods=[]),n.preConstructMethods.push(t)}function I(e,t,i){const n=Oo(e.constructor);n.postConstructMethods||(n.postConstructMethods=[]),n.postConstructMethods.push(t)}function Fi(e,t,i){const n=Oo(e.constructor);n.preDestroyMethods||(n.preDestroyMethods=[]),n.preDestroyMethods.push(t)}function V(e){return t=>{Oo(t).beanName=e}}function g(e){return(t,i,n)=>{NL(t,e,!1,0,i,null)}}function De(e){return(t,i,n)=>{NL(t,e,!0,0,i,null)}}function NL(e,t,i,n,s,r){if(null===t)return void console.error("AG Grid: Autowired name should not be null");if("number"==typeof r)return void console.error("AG Grid: Autowired should be on an attribute");const o=Oo(e.constructor);o.agClassAttributes||(o.agClassAttributes=[]),o.agClassAttributes.push({attributeName:s,beanName:t,optional:i})}function Tn(e){return(t,i,n)=>{const s="function"==typeof t?t:t.constructor;let r;if("number"==typeof n){let o;i?(r=Oo(s),o=i):(r=Oo(s),o="agConstructor"),r.autowireMethods||(r.autowireMethods={}),r.autowireMethods[o]||(r.autowireMethods[o]={}),r.autowireMethods[o][n]=e}}}function Oo(e){return e.hasOwnProperty("__agBeanMetaData")||(e.__agBeanMetaData={}),e.__agBeanMetaData}var Jn=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setBeans(e,t,i=null,n=null){if(this.frameworkOverrides=t,this.gridOptionsService=e,i){const s=e.useAsyncEvents();this.addGlobalListener(i,s)}n&&this.addGlobalListener(n,!1)}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,i){const n=t?this.allAsyncListeners:this.allSyncListeners;let s=n.get(e);return!s&&i&&(s=new Set,n.set(e,s)),s}noRegisteredListenersExist(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size}addEventListener(e,t,i=!1){this.getListeners(e,i,!0).add(t)}removeEventListener(e,t,i=!1){const n=this.getListeners(e,i,!1);n&&(n.delete(t),0===n.size&&(i?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){let t=e;this.gridOptionsService&&this.gridOptionsService.addGridCommonParams(t),this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){var i;const n=e.type;if(t&&"event"in e){const l=e.event;l instanceof Event&&(e.eventPath=l.composedPath())}const r=null!=(i=this.getListeners(n,t,!1))?i:new Set,o=new Set(r);o.size>0&&((l,d)=>{l.forEach(c=>{if(!d.has(c))return;const u=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>c(e)):()=>c(e);t?this.dispatchAsync(u):u()})})(o,r),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(l=>{const d=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>l(n,e)):()=>l(n,e);t?this.dispatchAsync(d):d()})}dispatchAsync(e){this.asyncFunctionsQueue.push(e),this.scheduled||(this.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)}),this.scheduled=!0)}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};h([Zn(0,Tn("gridOptionsService")),Zn(1,Tn("frameworkOverrides")),Zn(2,Tn("globalEventListener")),Zn(3,Tn("globalSyncEventListener"))],Jn.prototype,"setBeans",1),Jn=h([V("eventService")],Jn);var i_=class{constructor(e){this.frameworkOverrides=e,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=i=>{this.frameworkOverrides.wrapOutgoing(()=>e(i))},this.wrappedListeners.set(e,t)),t}wrapGlobal(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=(i,n)=>{this.frameworkOverrides.wrapOutgoing(()=>e(i,n))},this.wrappedGlobalListeners.set(e,t)),t}unwrap(e){var t;return null!=(t=this.wrappedListeners.get(e))?t:e}unwrapGlobal(e){var t;return null!=(t=this.wrappedGlobalListeners.get(e))?t:e}},hX={resizable:!0,sortable:!0},pX=0;function kL(){return pX++}var Mt=class H1{constructor(t,i,n,s){this.instanceId=kL(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.eventService=new Jn,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=t,this.userProvidedColDef=i,this.colId=n,this.primary=s,this.setState(t)}getInstanceId(){return this.instanceId}setState(t){void 0!==t.sort?("asc"===t.sort||"desc"===t.sort)&&(this.sort=t.sort):("asc"===t.initialSort||"desc"===t.initialSort)&&(this.sort=t.initialSort);const i=t.sortIndex,n=t.initialSortIndex;void 0!==i?null!==i&&(this.sortIndex=i):null!==n&&(this.sortIndex=n);const s=t.hide;this.visible=void 0!==s?!s:!t.initialHide,this.setPinned(void 0!==t.pinned?t.pinned:t.initialPinned);const o=t.flex,a=t.initialFlex;void 0!==o?this.flex=o:void 0!==a&&(this.flex=a)}setColDef(t,i,n){this.colDef=t,this.userProvidedColDef=i,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged",n))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(t){this.parent=t}getParent(){return this.parent}setOriginalParent(t){this.originalParent=t}getOriginalParent(){return this.originalParent}initialise(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){const t=this.gridOptionsService.get("suppressFieldDotNotation");this.fieldContainsDots=R(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!t,this.tooltipFieldContainsDots=R(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!t}initMinAndMaxWidths(){const t=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(t),this.maxWidth=this.columnUtils.calculateColMaxWidth(t)}initTooltip(){this.tooltipEnabled=R(this.colDef.tooltipField)||R(this.colDef.tooltipValueGetter)||R(this.colDef.tooltipComponent)}resetActualWidth(t){const i=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(i,t,!0)}isEmptyGroup(){return!1}isRowGroupDisplayed(t){return!Y(this.colDef)&&!Y(this.colDef.showRowGroup)&&(!0===this.colDef.showRowGroup||this.colDef.showRowGroup===t)}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}addEventListener(t,i){var n,s;this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new i_(this.frameworkOverrides));const r=null!=(s=null==(n=this.frameworkEventListenerService)?void 0:n.wrap(i))?s:i;this.eventService.addEventListener(t,r)}removeEventListener(t,i){var n,s;const r=null!=(s=null==(n=this.frameworkEventListenerService)?void 0:n.unwrap(i))?s:i;this.eventService.removeEventListener(t,r)}createColumnFunctionCallbackParams(t){return this.gridOptionsService.addGridCommonParams({node:t,data:t.data,column:this,colDef:this.colDef})}isSuppressNavigable(t){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){const i=this.createColumnFunctionCallbackParams(t);return(0,this.colDef.suppressNavigable)(i)}return!1}isCellEditable(t){return!(t.group&&!this.gridOptionsService.get("enableGroupEdit"))&&this.isColumnFunc(t,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(t){return this.isColumnFunc(t,this.colDef.rowDrag)}isDndSource(t){return this.isColumnFunc(t,this.colDef.dndSource)}isCellCheckboxSelection(t){return this.isColumnFunc(t,this.colDef.checkboxSelection)}isSuppressPaste(t){return this.isColumnFunc(t,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(t){var i;return null!=(i=this.colDef[t])?i:hX[t]}isColumnFunc(t,i){return"boolean"==typeof i?i:"function"==typeof i&&i(this.createColumnFunctionCallbackParams(t))}setMoving(t,i){this.moving=t,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",i))}createColumnEvent(t,i){return this.gridOptionsService.addGridCommonParams({type:t,column:this,columns:[this],source:i})}isMoving(){return this.moving}getSort(){return this.sort}setSort(t,i){this.sort!==t&&(this.sort=t,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",i))),this.dispatchStateUpdatedEvent("sort")}setMenuVisible(t,i){this.menuVisible!==t&&(this.menuVisible=t,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",i)))}isMenuVisible(){return this.menuVisible}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return"asc"===this.sort}isSortDescending(){return"desc"===this.sort}isSortNone(){return Y(this.sort)}isSorting(){return R(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(t){this.sortIndex=t,this.dispatchStateUpdatedEvent("sortIndex")}setAggFunc(t){this.aggFunc=t,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(t,i){this.oldLeft=this.left,this.left!==t&&(this.left=t,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",i)))}isFilterActive(){return this.filterActive}setFilterActive(t,i,n){this.filterActive!==t&&(this.filterActive=t,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",i)));const s=this.createColumnEvent("filterChanged",i);n&&cn(s,n),this.eventService.dispatchEvent(s)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(t){this.pinned=!0===t||"left"===t?"left":"right"===t?"right":null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(t,i){this.firstRightPinned!==t&&(this.firstRightPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",i)))}setLastLeftPinned(t,i){this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",i)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return"left"===this.pinned||"right"===this.pinned}isPinnedLeft(){return"left"===this.pinned}isPinnedRight(){return"right"===this.pinned}getPinned(){return this.pinned}setVisible(t,i){const n=!0===t;this.visible!==n&&(this.visible=n,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",i))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){const t=this.getColDef();return!t.suppressSpanHeaderHeight&&!t.autoHeaderHeight}getColumnGroupPaddingInfo(){let t=this.getParent();if(!t||!t.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const i=t.getPaddingLevel()+1;let n=!0;for(;t;){if(!t.isPadding()){n=!1;break}t=t.getParent()}return{numberOfParents:i,isSpanningTotal:n}}getColDef(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getDefinition(){return this.colDef}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(t){const i=t!==this.autoHeaderHeight;return this.autoHeaderHeight=t,i}createBaseColDefParams(t){return this.gridOptionsService.addGridCommonParams({node:t,data:t.data,colDef:this.colDef,column:this})}getColSpan(t){if(Y(this.colDef.colSpan))return 1;const i=this.createBaseColDefParams(t),n=this.colDef.colSpan(i);return Math.max(n,1)}getRowSpan(t){if(Y(this.colDef.rowSpan))return 1;const i=this.createBaseColDefParams(t),n=this.colDef.rowSpan(i);return Math.max(n,1)}setActualWidth(t,i,n=!1){null!=this.minWidth&&(t=Math.max(t,this.minWidth)),null!=this.maxWidth&&(t=Math.min(t,this.maxWidth)),this.actualWidth!==t&&(this.actualWidth=t,this.flex&&"flex"!==i&&"gridInitializing"!==i&&(this.flex=null),n||this.fireColumnWidthChangedEvent(i)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(t){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",t))}isGreaterThanMax(t){return null!=this.maxWidth&&t>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(t){this.flex!==t&&(this.flex=t),this.dispatchStateUpdatedEvent("flex")}setMinimum(t){R(this.minWidth)&&this.setActualWidth(this.minWidth,t)}setRowGroupActive(t,i){this.rowGroupActive!==t&&(this.rowGroupActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",i))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(t,i){this.pivotActive!==t&&(this.pivotActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",i))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(t,i){this.aggregationActive!==t&&(this.aggregationActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",i)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return!0===this.colDef.enablePivot}isAllowValue(){return!0===this.colDef.enableValue}isAllowRowGroup(){return!0===this.colDef.enableRowGroup}getMenuTabs(t){$("As of v31.1, 'getMenuTabs' is deprecated. Use 'getColDef().menuTabs ?? defaultValues' instead.");let i=this.getColDef().menuTabs;return null==i&&(i=t),i}dispatchStateUpdatedEvent(t){this.eventService.dispatchEvent({type:H1.EVENT_STATE_UPDATED,key:t})}};Mt.EVENT_MOVING_CHANGED="movingChanged",Mt.EVENT_LEFT_CHANGED="leftChanged",Mt.EVENT_WIDTH_CHANGED="widthChanged",Mt.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",Mt.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",Mt.EVENT_VISIBLE_CHANGED="visibleChanged",Mt.EVENT_FILTER_CHANGED="filterChanged",Mt.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",Mt.EVENT_SORT_CHANGED="sortChanged",Mt.EVENT_COL_DEF_CHANGED="colDefChanged",Mt.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",Mt.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",Mt.EVENT_PIVOT_CHANGED="columnPivotChanged",Mt.EVENT_VALUE_CHANGED="columnValueChanged",Mt.EVENT_STATE_UPDATED="columnStateUpdated",h([g("gridOptionsService")],Mt.prototype,"gridOptionsService",2),h([g("columnUtils")],Mt.prototype,"columnUtils",2),h([g("columnHoverService")],Mt.prototype,"columnHoverService",2),h([g("frameworkOverrides")],Mt.prototype,"frameworkOverrides",2),h([I],Mt.prototype,"initialise",1);var ze=Mt,Rm=class mh{constructor(t,i,n,s){this.localEventService=new Jn,this.expandable=!1,this.instanceId=kL(),this.expandableListenerRemoveCallback=null,this.colGroupDef=t,this.groupId=i,this.expanded=!!t&&!!t.openByDefault,this.padding=n,this.level=s}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)}reset(t,i){this.colGroupDef=t,this.level=i,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(t){this.originalParent=t}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return!!this.children&&this.children.some(t=>t.isVisible())}isPadding(){return this.padding}setExpanded(t){this.expanded=void 0!==t&&t,this.localEventService.dispatchEvent({type:mh.EVENT_EXPANDED_CHANGED})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(t){this.children=t}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const t=[];return this.addLeafColumns(t),t}addLeafColumns(t){this.children&&this.children.forEach(i=>{i instanceof ze?t.push(i):i instanceof mh&&i.addLeafColumns(t)})}getColumnGroupShow(){const t=this.colGroupDef;if(t)return t.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const t=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(i=>i.addEventListener("visibleChanged",t)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(i=>i.removeEventListener("visibleChanged",t)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let t=!1,i=!1,n=!1;const s=this.findChildrenRemovingPadding();for(let o=0,a=s.length;o<a;o++){const l=s[o];if(!l.isVisible())continue;const d=l.getColumnGroupShow();"open"===d?(t=!0,n=!0):"closed"===d?(i=!0,n=!0):(t=!0,i=!0)}const r=t&&i&&n;this.expandable!==r&&(this.expandable=r,this.localEventService.dispatchEvent({type:mh.EVENT_EXPANDABLE_CHANGED}))}findChildrenRemovingPadding(){const t=[],i=n=>{n.forEach(s=>{s instanceof mh&&s.isPadding()?i(s.children):t.push(s)})};return i(this.children),t}onColumnVisibilityChanged(){this.setExpandable()}addEventListener(t,i){this.localEventService.addEventListener(t,i)}removeEventListener(t,i){this.localEventService.removeEventListener(t,i)}};Rm.EVENT_EXPANDED_CHANGED="expandedChanged",Rm.EVENT_EXPANDABLE_CHANGED="expandableChanged",h([Fi],Rm.prototype,"destroy",1);var Et=Rm,fX={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},VL={};Zt(VL,{addSafePassiveEventListener:()=>KL,createEventPath:()=>$L,getCtrlForEventTarget:()=>Tm,getEventPath:()=>qL,isElementInEventPath:()=>Am,isEventSupported:()=>l_,isStopPropagationForAgGrid:()=>ts,stopPropagationForAgGrid:()=>es});var GL={};function HL(e){return null!=e&&e.length>0}function Ae(e){if(e&&e.length)return e[e.length-1]}function Ds(e,t,i){return null==e&&null==t||null!=e&&null!=t&&e.length===t.length&&e.every((n,s)=>i?i(n,t[s]):t[s]===n)}function mX(e,t){return Ds(e,t)}function BL(e){return e.sort((t,i)=>t-i)}function gX(e,t){if(e)for(let i=e.length-2;i>=0;i--)e[i]===t&&e[i+1]===t&&e.splice(i+1,1)}function n_(e,t){const i=e.indexOf(t);i>=0&&(e[i]=e[e.length-1],e.pop())}function ji(e,t){const i=e.indexOf(t);i>=0&&e.splice(i,1)}function UL(e,t){for(let i=0;i<t.length;i++)n_(e,t[i])}function zL(e,t){for(let i=0;i<t.length;i++)ji(e,t[i])}function gu(e,t,i){e.splice(i,0,t)}function s_(e,t,i){if(null!=e&&null!=t)for(let n=t.length-1;n>=0;n--)gu(e,t[n],i)}function r_(e,t,i){zL(e,t),t.slice().reverse().forEach(n=>gu(e,n,i))}function un(e,t){return e.indexOf(t)>-1}function WL(e){return[].concat.apply([],e)}function o_(e,t){null==t||null==e||t.forEach(i=>e.push(i))}function vX(e){return e.map(mu)}function CX(e,t){if(null!=e)for(let i=e.length-1;i>=0;i--)t(e[i],i)}Zt(GL,{areEqual:()=>Ds,existsAndNotEmpty:()=>HL,flatten:()=>WL,forEachReverse:()=>CX,includes:()=>un,insertArrayIntoArray:()=>s_,insertIntoArray:()=>gu,last:()=>Ae,moveInArray:()=>r_,pushAll:()=>o_,removeAllFromArray:()=>zL,removeAllFromUnorderedArray:()=>UL,removeFromArray:()=>ji,removeFromUnorderedArray:()=>n_,removeRepeatsFromArray:()=>gX,shallowCompare:()=>mX,sortNumerically:()=>BL,toStrings:()=>vX});var jL="__ag_Grid_Stop_Propagation",bX=["touchstart","touchend","touchmove","touchcancel","scroll"],a_={};function es(e){e[jL]=!0}function ts(e){return!0===e[jL]}var l_=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return i=>{if("boolean"==typeof a_[i])return a_[i];const n=document.createElement(e[i]||"div");return a_[i="on"+i]=i in n}})();function Tm(e,t,i){let n=t;for(;n;){const s=e.getDomData(n,i);if(s)return s;n=n.parentElement}return null}function Am(e,t){return!(!t||!e)&&qL(t).indexOf(e)>=0}function $L(e){const t=[];let i=e.target;for(;i;)t.push(i),i=i.parentElement;return t}function qL(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():$L(t)}function KL(e,t,i,n){const r=un(bX,i)?{passive:!0}:void 0;e&&e.addEventListener&&e.addEventListener(t,i,n,r)}var rr=class B1{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.lastChangeSetIdLookup={},this.propertyListenerId=0,this.isAlive=()=>!this.destroyed}getFrameworkOverrides(){return this.frameworkOverrides}getContext(){return this.context}destroy(){this.destroyFunctions.forEach(t=>t()),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:B1.EVENT_DESTROYED})}addEventListener(t,i){this.localEventService||(this.localEventService=new Jn),this.localEventService.addEventListener(t,i)}removeEventListener(t,i){this.localEventService&&this.localEventService.removeEventListener(t,i)}dispatchEvent(t){this.localEventService&&this.localEventService.dispatchEvent(t)}addManagedListener(t,i,n){if(this.destroyed)return;t instanceof HTMLElement?KL(this.getFrameworkOverrides(),t,i,n):t.addEventListener(i,n);const s=()=>(t.removeEventListener(i,n),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==s),null);return this.destroyFunctions.push(s),s}setupGridOptionListener(t,i){this.gridOptionsService.addEventListener(t,i);const n=()=>(this.gridOptionsService.removeEventListener(t,i),this.destroyFunctions=this.destroyFunctions.filter(s=>s!==n),null);return this.destroyFunctions.push(n),n}addManagedPropertyListener(t,i){return this.destroyed?()=>null:this.setupGridOptionListener(t,i)}addManagedPropertyListeners(t,i){if(this.destroyed)return;const n=t.join("-")+this.propertyListenerId++,s=r=>{if(r.changeSet){if(r.changeSet&&r.changeSet.id===this.lastChangeSetIdLookup[n])return;this.lastChangeSetIdLookup[n]=r.changeSet.id}i({type:"gridPropertyChanged",changeSet:r.changeSet,source:r.source})};t.forEach(r=>this.setupGridOptionListener(r,s))}addDestroyFunc(t){this.isAlive()?this.destroyFunctions.push(t):t()}createManagedBean(t,i){const n=this.createBean(t,i);return this.addDestroyFunc(this.destroyBean.bind(this,t,i)),n}createBean(t,i,n){return(i||this.getContext()).createBean(t,n)}destroyBean(t,i){return(i||this.getContext()).destroyBean(t)}destroyBeans(t,i){return t&&t.forEach(n=>this.destroyBean(n,i)),[]}};rr.EVENT_DESTROYED="destroyed",h([g("frameworkOverrides")],rr.prototype,"frameworkOverrides",2),h([g("context")],rr.prototype,"context",2),h([g("eventService")],rr.prototype,"eventService",2),h([g("gridOptionsService")],rr.prototype,"gridOptionsService",2),h([g("localeService")],rr.prototype,"localeService",2),h([g("environment")],rr.prototype,"environment",2),h([Fi],rr.prototype,"destroy",1);var A=rr,kl=class extends A{setBeans(e){this.logger=e.create("ColumnFactory")}createColumnTree(e,t,i,n){const s=new class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=mu(e);let i=0;for(;;){let n;if(e?(n=e,0!==i&&(n+="_"+i)):t?(n=t,0!==i&&(n+="_"+i)):n=i,!this.existingKeys[n])return this.existingKeys[n]=!0,String(n);i++}}},{existingCols:r,existingGroups:o,existingColKeys:a}=this.extractExistingTreeData(i);s.addExistingKeys(a);const l=this.recursivelyCreateColumns(e,0,t,r,s,o,n),d=this.findMaxDept(l,0);this.logger.log("Number of levels for grouped columns is "+d);const c=this.balanceColumnTree(l,0,d,s);return this.columnUtils.depthFirstOriginalTreeSearch(null,c,(p,m)=>{p instanceof Et&&p.setupExpandable(),p.setOriginalParent(m)}),{columnTree:c,treeDept:d}}extractExistingTreeData(e){const t=[],i=[],n=[];return e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,s=>{if(s instanceof Et)i.push(s);else{const r=s;n.push(r.getId()),t.push(r)}}),{existingCols:t,existingGroups:i,existingColKeys:n}}createForAutoGroups(e,t){return e.map(i=>this.createAutoGroupTreeItem(t,i))}createAutoGroupTreeItem(e,t){const i=this.findDepth(e);let n=t;for(let s=i-1;s>=0;s--){const r=new Et(null,`FAKE_PATH_${t.getId()}}_${s}`,!0,s);this.createBean(r),r.setChildren([n]),n.setOriginalParent(r),n=r}return 0===i&&t.setOriginalParent(null),n}findDepth(e){let t=0,i=e;for(;i&&i[0]&&i[0]instanceof Et;)t++,i=i[0].getChildren();return t}balanceColumnTree(e,t,i,n){const s=[];for(let r=0;r<e.length;r++){const o=e[r];if(o instanceof Et){const a=o,l=this.balanceColumnTree(a.getChildren(),t+1,i,n);a.setChildren(l),s.push(a)}else{let a,l;for(let d=i-1;d>=t;d--){const c=n.getUniqueKey(null,null),u=this.createMergedColGroupDef(null),p=new Et(u,c,!0,t);this.createBean(p),l&&l.setChildren([p]),l=p,a||(a=l)}if(a&&l){if(s.push(a),e.some(c=>c instanceof Et)){l.setChildren([o]);continue}l.setChildren(e);break}s.push(o)}}return s}findMaxDept(e,t){let i=t;for(let n=0;n<e.length;n++){const s=e[n];if(s instanceof Et){const o=this.findMaxDept(s.getChildren(),t+1);i<o&&(i=o)}}return i}recursivelyCreateColumns(e,t,i,n,s,r,o){if(!e)return[];const a=new Array(e.length);for(let l=0;l<a.length;l++){const d=e[l];a[l]=this.isColumnGroup(d)?this.createColumnGroup(i,d,t,n,s,r,o):this.createColumn(i,d,n,s,o)}return a}createColumnGroup(e,t,i,n,s,r,o){const a=this.createMergedColGroupDef(t),l=s.getUniqueKey(a.groupId||null,null),d=new Et(a,l,!1,i);this.createBean(d);const c=this.findExistingGroup(t,r);c&&r.splice(c.idx,1);let u=c?.group;u&&d.setExpanded(u.isExpanded());const p=this.recursivelyCreateColumns(a.children,i+1,e,n,s,r,o);return d.setChildren(p),d}createMergedColGroupDef(e){const t={};return Object.assign(t,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(t,e),t}createColumn(e,t,i,n,s){const r=this.findExistingColumn(t,i);r&&i?.splice(r.idx,1);let o=r?.column;if(o){const a=this.addColumnDefaultAndTypes(t,o.getColId());o.setColDef(a,t,s),this.applyColumnState(o,a,s)}else{const a=n.getUniqueKey(t.colId,t.field),l=this.addColumnDefaultAndTypes(t,a);o=new ze(l,t,a,e),this.context.createBean(o)}return this.dataTypeService.addColumnListeners(o),o}applyColumnState(e,t,i){const n=kr(t.flex);if(void 0!==n&&e.setFlex(n),e.getFlex()<=0){const a=kr(t.width);if(null!=a)e.setActualWidth(a,i);else{const l=e.getActualWidth();e.setActualWidth(l,i)}}void 0!==t.sort&&e.setSort("asc"==t.sort||"desc"==t.sort?t.sort:void 0,i);const r=kr(t.sortIndex);void 0!==r&&e.setSortIndex(r);const o=ym(t.hide);void 0!==o&&e.setVisible(!o,i),void 0!==t.pinned&&e.setPinned(t.pinned)}findExistingColumn(e,t){if(t)for(let i=0;i<t.length;i++){const n=t[i].getUserProvidedColDef();if(n)if(null==e.colId){if(null==e.field){if(n===e)return{idx:i,column:t[i]}}else if(n.field===e.field)return{idx:i,column:t[i]}}else if(t[i].getId()===e.colId)return{idx:i,column:t[i]}}}findExistingGroup(e,t){if(null!=e.groupId)for(let n=0;n<t.length;n++){const s=t[n];if(s.getColGroupDef()&&s.getId()===e.groupId)return{idx:n,group:s}}}addColumnDefaultAndTypes(e,t){const i={};cn(i,this.gridOptionsService.get("defaultColDef"),!1,!0);const s=this.dataTypeService.updateColDefAndGetColumnType(i,e,t);s&&this.assignColumnTypes(s,i),cn(i,e,!1,!0);const r=this.gridOptionsService.get("autoGroupColumnDef"),o=this.gridOptionsService.isColumnsSortingCoupledToGroup();return e.rowGroup&&r&&o&&cn(i,{sort:r.sort,initialSort:r.initialSort},!1,!0),this.dataTypeService.validateColDef(i),i}assignColumnTypes(e,t){if(!e.length)return;const i=Object.assign({},fX);pi(this.gridOptionsService.get("columnTypes")||{},(s,r)=>{s in i?console.warn(`AG Grid: the column type '${s}' is a default column type and cannot be overridden.`):(r.type&&$("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),i[s]=r)}),e.forEach(s=>{const r=i[s.trim()];r?cn(t,r,!1,!0):console.warn("AG Grid: colDef.type '"+s+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(e){return void 0!==e.children}};h([g("columnUtils")],kl.prototype,"columnUtils",2),h([g("dataTypeService")],kl.prototype,"dataTypeService",2),h([Zn(0,Tn("loggerFactory"))],kl.prototype,"setBeans",1),kl=h([V("columnFactory")],kl);var Mm=class Ns{constructor(t,i,n,s){this.displayedChildren=[],this.localEventService=new Jn,this.groupId=i,this.partId=n,this.providedColumnGroup=t,this.pinned=s}static createUniqueId(t,i){return t+"_"+i}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(t){this.parent=t}getUniqueId(){return Ns.createUniqueId(this.groupId,this.partId)}isEmptyGroup(){return 0===this.displayedChildren.length}isMoving(){const t=this.getProvidedColumnGroup().getLeafColumns();return!(!t||0===t.length)&&t.every(i=>i.isMoving())}checkLeft(){if(this.displayedChildren.forEach(t=>{t instanceof Ns&&t.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsService.get("enableRtl")){const i=Ae(this.displayedChildren).getLeft();this.setLeft(i)}else{const t=this.displayedChildren[0].getLeft();this.setLeft(t)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(t){this.oldLeft=this.left,this.left!==t&&(this.left=t,this.localEventService.dispatchEvent(this.createAgEvent(Ns.EVENT_LEFT_CHANGED)))}getPinned(){return this.pinned}createAgEvent(t){return{type:t}}addEventListener(t,i){this.localEventService.addEventListener(t,i)}removeEventListener(t,i){this.localEventService.removeEventListener(t,i)}getGroupId(){return this.groupId}getPartId(){return this.partId}isChildInThisGroupDeepSearch(t){let i=!1;return this.children.forEach(n=>{t===n&&(i=!0),n instanceof Ns&&n.isChildInThisGroupDeepSearch(t)&&(i=!0)}),i}getActualWidth(){let t=0;return this.displayedChildren&&this.displayedChildren.forEach(i=>{t+=i.getActualWidth()}),t}isResizable(){if(!this.displayedChildren)return!1;let t=!1;return this.displayedChildren.forEach(i=>{i.isResizable()&&(t=!0)}),t}getMinWidth(){let t=0;return this.displayedChildren.forEach(i=>{t+=i.getMinWidth()||0}),t}addChild(t){this.children||(this.children=[]),this.children.push(t)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const t=[];return this.addLeafColumns(t),t}getDisplayedLeafColumns(){const t=[];return this.addDisplayedLeafColumns(t),t}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(t){this.providedColumnGroup.setExpanded(t)}addDisplayedLeafColumns(t){this.displayedChildren.forEach(i=>{i instanceof ze?t.push(i):i instanceof Ns&&i.addDisplayedLeafColumns(t)})}addLeafColumns(t){this.children.forEach(i=>{i instanceof ze?t.push(i):i instanceof Ns&&i.addLeafColumns(t)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const t=this.getParent();return this.isPadding()&&t&&t.isPadding()?1+t.getPaddingLevel():0}calculateDisplayedColumns(){this.displayedChildren=[];let t=this;for(;null!=t&&t.isPadding();)t=t.getParent();if(!t||!t.providedColumnGroup.isExpandable())return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(Ns.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach(n=>{if(!(n instanceof Ns)||n.displayedChildren&&n.displayedChildren.length)switch(n.getColumnGroupShow()){case"open":t.providedColumnGroup.isExpanded()&&this.displayedChildren.push(n);break;case"closed":t.providedColumnGroup.isExpanded()||this.displayedChildren.push(n);break;default:this.displayedChildren.push(n)}}),this.localEventService.dispatchEvent(this.createAgEvent(Ns.EVENT_DISPLAYED_CHILDREN_CHANGED))}};Mm.EVENT_LEFT_CHANGED="leftChanged",Mm.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",h([g("gridOptionsService")],Mm.prototype,"gridOptionsService",2);var Lt=Mm,f=class{};f.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",f.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",f.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",f.EVENT_PIVOT_MAX_COLUMNS_EXCEEDED="pivotMaxColumnsExceeded",f.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",f.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",f.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",f.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",f.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",f.EVENT_COLUMN_MOVED="columnMoved",f.EVENT_COLUMN_VISIBLE="columnVisible",f.EVENT_COLUMN_PINNED="columnPinned",f.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",f.EVENT_COLUMN_RESIZED="columnResized",f.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",f.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED="suppressMovableColumns",f.EVENT_SUPPRESS_MENU_HIDE_CHANGED="suppressMenuHide",f.EVENT_SUPPRESS_FIELD_DOT_NOTATION="suppressFieldDotNotation",f.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",f.EVENT_COLUMN_HEADER_MOUSE_OVER="columnHeaderMouseOver",f.EVENT_COLUMN_HEADER_MOUSE_LEAVE="columnHeaderMouseLeave",f.EVENT_COLUMN_HEADER_CLICKED="columnHeaderClicked",f.EVENT_COLUMN_HEADER_CONTEXT_MENU="columnHeaderContextMenu",f.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",f.EVENT_ROW_GROUP_OPENED="rowGroupOpened",f.EVENT_ROW_DATA_UPDATED="rowDataUpdated",f.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",f.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",f.EVENT_CHART_CREATED="chartCreated",f.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",f.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",f.EVENT_CHART_DESTROYED="chartDestroyed",f.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",f.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",f.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",f.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",f.EVENT_MODEL_UPDATED="modelUpdated",f.EVENT_CUT_START="cutStart",f.EVENT_CUT_END="cutEnd",f.EVENT_PASTE_START="pasteStart",f.EVENT_PASTE_END="pasteEnd",f.EVENT_FILL_START="fillStart",f.EVENT_FILL_END="fillEnd",f.EVENT_RANGE_DELETE_START="rangeDeleteStart",f.EVENT_RANGE_DELETE_END="rangeDeleteEnd",f.EVENT_UNDO_STARTED="undoStarted",f.EVENT_UNDO_ENDED="undoEnded",f.EVENT_REDO_STARTED="redoStarted",f.EVENT_REDO_ENDED="redoEnded",f.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",f.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",f.EVENT_CELL_CLICKED="cellClicked",f.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",f.EVENT_CELL_MOUSE_DOWN="cellMouseDown",f.EVENT_CELL_CONTEXT_MENU="cellContextMenu",f.EVENT_CELL_VALUE_CHANGED="cellValueChanged",f.EVENT_CELL_EDIT_REQUEST="cellEditRequest",f.EVENT_ROW_VALUE_CHANGED="rowValueChanged",f.EVENT_CELL_FOCUSED="cellFocused",f.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared",f.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",f.EVENT_ROW_SELECTED="rowSelected",f.EVENT_SELECTION_CHANGED="selectionChanged",f.EVENT_TOOLTIP_SHOW="tooltipShow",f.EVENT_TOOLTIP_HIDE="tooltipHide",f.EVENT_CELL_KEY_DOWN="cellKeyDown",f.EVENT_CELL_MOUSE_OVER="cellMouseOver",f.EVENT_CELL_MOUSE_OUT="cellMouseOut",f.EVENT_FILTER_CHANGED="filterChanged",f.EVENT_FILTER_MODIFIED="filterModified",f.EVENT_FILTER_OPENED="filterOpened",f.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED="advancedFilterBuilderVisibleChanged",f.EVENT_SORT_CHANGED="sortChanged",f.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",f.EVENT_ROW_CLICKED="rowClicked",f.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",f.EVENT_GRID_READY="gridReady",f.EVENT_GRID_PRE_DESTROYED="gridPreDestroyed",f.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",f.EVENT_VIEWPORT_CHANGED="viewportChanged",f.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",f.EVENT_FIRST_DATA_RENDERED="firstDataRendered",f.EVENT_DRAG_STARTED="dragStarted",f.EVENT_DRAG_STOPPED="dragStopped",f.EVENT_CHECKBOX_CHANGED="checkboxChanged",f.EVENT_ROW_EDITING_STARTED="rowEditingStarted",f.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",f.EVENT_CELL_EDITING_STARTED="cellEditingStarted",f.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",f.EVENT_BODY_SCROLL="bodyScroll",f.EVENT_BODY_SCROLL_END="bodyScrollEnd",f.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",f.EVENT_PAGINATION_CHANGED="paginationChanged",f.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",f.EVENT_STORE_REFRESHED="storeRefreshed",f.EVENT_STATE_UPDATED="stateUpdated",f.EVENT_COLUMN_MENU_VISIBLE_CHANGED="columnMenuVisibleChanged",f.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",f.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED="columnContainerWidthChanged",f.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",f.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",f.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",f.EVENT_FLASH_CELLS="flashCells",f.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",f.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",f.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",f.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",f.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",f.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",f.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",f.EVENT_ROW_DRAG_ENTER="rowDragEnter",f.EVENT_ROW_DRAG_MOVE="rowDragMove",f.EVENT_ROW_DRAG_LEAVE="rowDragLeave",f.EVENT_ROW_DRAG_END="rowDragEnd",f.EVENT_GRID_STYLES_CHANGED="gridStylesChanged",f.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",f.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",f.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",f.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",f.EVENT_STORE_UPDATED="storeUpdated",f.EVENT_FILTER_DESTROYED="filterDestroyed",f.EVENT_ROW_DATA_UPDATE_STARTED="rowDataUpdateStarted",f.EVENT_ROW_COUNT_READY="rowCountReady",f.EVENT_ADVANCED_FILTER_ENABLED_CHANGED="advancedFilterEnabledChanged",f.EVENT_DATA_TYPES_INFERRED="dataTypesInferred",f.EVENT_FIELD_VALUE_CHANGED="fieldValueChanged",f.EVENT_FIELD_PICKER_VALUE_SELECTED="fieldPickerValueSelected",f.EVENT_SIDE_BAR_UPDATED="sideBarUpdated";var Im=new Set([f.EVENT_GRID_PRE_DESTROYED]),YL=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let i;return i="number"!=typeof t?0:t+1,this.existingIds[e]=i,i}},Vl="ag-Grid-AutoColumn",vu=class extends A{createAutoGroupColumns(e){const t=[],i=this.gridOptionsService.get("treeData");let n=this.gridOptionsService.isGroupMultiAutoColumn();return i&&n&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),n=!1),n?e.forEach((s,r)=>{t.push(this.createOneAutoGroupColumn(s,r))}):t.push(this.createOneAutoGroupColumn()),t}updateAutoGroupColumns(e,t){e.forEach((i,n)=>this.updateOneAutoGroupColumn(i,n,t))}createOneAutoGroupColumn(e,t){let i;i=e?`${Vl}-${e.getId()}`:Vl;const n=this.createAutoGroupColDef(i,e,t);n.colId=i;const s=new ze(n,null,i,!0);return this.context.createBean(s),s}updateOneAutoGroupColumn(e,t,i){const n=e.getColDef(),s="string"==typeof n.showRowGroup?n.showRowGroup:void 0,r=null!=s?this.columnModel.getPrimaryColumn(s):void 0,o=this.createAutoGroupColDef(e.getId(),r??void 0,t);e.setColDef(o,null,i),this.columnFactory.applyColumnState(e,o,i)}createAutoGroupColDef(e,t,i){let n=this.createBaseColDef(t);return cn(n,this.gridOptionsService.get("autoGroupColumnDef")),n=this.columnFactory.addColumnDefaultAndTypes(n,e),this.gridOptionsService.get("treeData")||Y(n.field)&&Y(n.valueGetter)&&Y(n.filterValueGetter)&&"agGroupColumnFilter"!==n.filter&&(n.filter=!1),i&&i>0&&(n.headerCheckboxSelection=!1),this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!(n.valueGetter||null!=n.field)&&(n.sortIndex=void 0,n.initialSort=void 0),n}createBaseColDef(e){const t=this.gridOptionsService.get("autoGroupColumnDef"),n={headerName:this.localeService.getLocaleTextFunc()("group","Group")};if(t&&(t.cellRenderer||t.cellRendererSelector)||(n.cellRenderer="agGroupCellRenderer"),e){const r=e.getColDef();Object.assign(n,{headerName:this.columnModel.getDisplayNameForColumn(e,"header"),headerValueGetter:r.headerValueGetter}),r.cellRenderer&&Object.assign(n,{cellRendererParams:{innerRenderer:r.cellRenderer,innerRendererParams:r.cellRendererParams}}),n.showRowGroup=e.getColId()}else n.showRowGroup=!0;return n}};h([g("columnModel")],vu.prototype,"columnModel",2),h([g("columnFactory")],vu.prototype,"columnFactory",2),vu=h([V("autoGroupColService")],vu);var QL={};Zt(QL,{camelCaseToHumanText:()=>ZL,camelCaseToHyphenated:()=>XL,capitalise:()=>SX,escapeString:()=>Nt,utf8_encode:()=>_X});var wX=/[&<>"']/g,yX={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function _X(e){const t=String.fromCharCode;function s(u,p){return t(u>>p&63|128)}function r(u){if(u>=0&&u<=31&&10!==u)return`_x${u.toString(16).toUpperCase().padStart(4,"0")}_`;if(!(4294967168&u))return t(u);let p="";return 4294965248&u?4294901760&u?4292870144&u||(p=t(u>>18&7|240),p+=s(u,12),p+=s(u,6)):(function n(u){if(u>=55296&&u<=57343)throw Error("Lone surrogate U+"+u.toString(16).toUpperCase()+" is not a scalar value")}(u),p=t(u>>12&15|224),p+=s(u,6)):p=t(u>>6&31|192),p+=t(63&u|128),p}const o=function i(u){const p=[];if(!u)return[];const m=u.length;let C,b,v=0;for(;v<m;)C=u.charCodeAt(v++),C>=55296&&C<=56319&&v<m?(b=u.charCodeAt(v++),56320==(64512&b)?p.push(((1023&C)<<10)+(1023&b)+65536):(p.push(C),v--)):p.push(C);return p}(e),a=o.length;let d,l=-1,c="";for(;++l<a;)d=o[l],c+=r(d);return c}function SX(e){return e[0].toUpperCase()+e.substring(1).toLowerCase()}function Nt(e,t){if(null==e)return null;const i=e.toString().toString();return t?i:i.replace(wX,n=>yX[n])}function ZL(e){return e&&null!=e?e.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z])([a-z])/g,"$1 $2$3").replace(/\./g," ").split(" ").map(s=>s.substring(0,1).toUpperCase()+(s.length>1?s.substring(1,s.length):"")).join(" "):null}function XL(e){return e.replace(/[A-Z]/g,t=>`-${t.toLocaleLowerCase()}`)}var JL={};function Gr(e){const t=new Map;return e.forEach(i=>t.set(i[0],i[1])),t}function EX(e,t){const i=new Map;return e.forEach(n=>i.set(t(n),n)),i}function DX(e){const t=[];return e.forEach((i,n)=>t.push(n)),t}Zt(JL,{convertToMap:()=>Gr,keys:()=>DX,mapById:()=>EX});var Wt=class extends A{constructor(){super(...arguments),this.primaryHeaderRowCount=0,this.secondaryHeaderRowCount=0,this.gridHeaderRowCount=0,this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.displayedColumnsAndGroupsMap={},this.viewportColumns=[],this.viewportColumnsHash="",this.headerViewportColumns=[],this.viewportColumnsCenter=[],this.headerViewportColumnsCenter=[],this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.autoHeightActiveAtLeastOnce=!1,this.rowGroupColumns=[],this.valueColumns=[],this.pivotColumns=[],this.ready=!1,this.changeEventsDispatching=!1,this.autoGroupsNeedBuilding=!1,this.forceRecreateAutoGroups=!1,this.pivotMode=!1,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}init(){this.suppressColumnVirtualisation=this.gridOptionsService.get("suppressColumnVirtualisation");const e=this.gridOptionsService.get("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],t=>this.buildAutoGroupColumns(Gl(t.source))),this.addManagedPropertyListener("autoGroupColumnDef",t=>this.onAutoGroupColumnDefChanged(Gl(t.source))),this.addManagedPropertyListeners(["defaultColDef","columnTypes","suppressFieldDotNotation"],t=>this.onSharedColDefChanged(Gl(t.source))),this.addManagedPropertyListener("pivotMode",t=>this.setPivotMode(this.gridOptionsService.get("pivotMode"),Gl(t.source))),this.addManagedListener(this.eventService,f.EVENT_FIRST_DATA_RENDERED,()=>this.onFirstDataRendered())}buildAutoGroupColumns(e){this.columnDefs&&(this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns(e))}onAutoGroupColumnDefChanged(e){this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,e)}onSharedColDefChanged(e){this.gridColumns&&(this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,e),this.createColumnsFromColumnDefs(!0,e))}setColumnDefs(e,t){const i=!!this.columnDefs;this.columnDefs=e,this.createColumnsFromColumnDefs(i,t)}recreateColumnDefs(e){this.onSharedColDefChanged(e)}destroyOldColumns(e,t){const i={};if(!e)return;this.columnUtils.depthFirstOriginalTreeSearch(null,e,s=>{i[s.getInstanceId()]=s}),t&&this.columnUtils.depthFirstOriginalTreeSearch(null,t,s=>{i[s.getInstanceId()]=null});const n=Object.values(i).filter(s=>null!=s);this.destroyBeans(n)}destroyColumns(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)}createColumnsFromColumnDefs(e,t){const i=e?this.compareColumnStatesAndDispatchEvents(t):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;const n=this.primaryColumns,r=this.columnFactory.createColumnTree(this.columnDefs,!0,this.primaryColumnTree,t);this.destroyOldColumns(this.primaryColumnTree,r.columnTree),this.primaryColumnTree=r.columnTree,this.primaryHeaderRowCount=r.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(l=>this.primaryColumnsMap[l.getId()]=l),this.extractRowGroupColumns(t,n),this.extractPivotColumns(t,n),this.extractValueColumns(t,n),this.ready=!0,(this.gridColsArePrimary||void 0===this.gridColsArePrimary||this.autoGroupsNeedBuilding)&&(this.updateGridColumns(),e&&this.gridColsArePrimary&&!this.gridOptionsService.get("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(t),this.checkViewportColumns()),this.dispatchEverythingChanged(t),this.changeEventsDispatching=!0,i&&i(),this.changeEventsDispatching=!1,this.dispatchNewColumnsLoaded(t)}shouldRowModelIgnoreRefresh(){return this.changeEventsDispatching}dispatchNewColumnsLoaded(e){this.eventService.dispatchEvent({type:f.EVENT_NEW_COLUMNS_LOADED,source:e}),"gridInitializing"===e&&this.onColumnsReady()}dispatchEverythingChanged(e){this.eventService.dispatchEvent({type:f.EVENT_COLUMN_EVERYTHING_CHANGED,source:e})}orderGridColumnsLikePrimary(){const e=this.primaryColumns;if(!e)return;const t=e.filter(n=>this.gridColumns.indexOf(n)>=0),i=this.gridColumns.filter(n=>t.indexOf(n)<0);this.gridColumns=[...i,...t],this.gridColumns=this.placeLockedColumns(this.gridColumns)}getAllDisplayedAutoHeightCols(){return this.displayedAutoHeightCols}setViewport(){this.gridOptionsService.get("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)}getDisplayedColumnsStartingAt(e){let t=e;const i=[];for(;null!=t;)i.push(t),t=this.getDisplayedColAfter(t);return i}checkViewportColumns(e=!1){null!=this.displayedColumnsCenter&&this.extractViewport()&&this.eventService.dispatchEvent({type:f.EVENT_VIRTUAL_COLUMNS_CHANGED,afterScroll:e})}setViewportPosition(e,t,i=!1){(e!==this.scrollWidth||t!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=t,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns(i))}isPivotMode(){return this.pivotMode}isPivotSettingAllowed(e){return!e||!this.gridOptionsService.get("treeData")||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)}setPivotMode(e,t){e!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=e,this.gridColumns)&&(this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(t),this.eventService.dispatchEvent({type:f.EVENT_COLUMN_PIVOT_MODE_CHANGED}))}getSecondaryPivotColumn(e,t){if(Y(this.secondaryColumns))return null;const i=this.getPrimaryColumn(t);let n=null;return this.secondaryColumns.forEach(s=>{const r=s.getColDef().pivotKeys,o=s.getColDef().pivotValueColumn;Ds(r,e)&&o===i&&(n=s)}),n}setBeans(e){this.logger=e.create("columnModel")}setFirstRightAndLastLeftPinned(e){let t,i;this.gridOptionsService.get("enableRtl")?(t=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,i=this.displayedColumnsRight?Ae(this.displayedColumnsRight):null):(t=this.displayedColumnsLeft?Ae(this.displayedColumnsLeft):null,i=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(n=>{n.setLastLeftPinned(n===t,e),n.setFirstRightPinned(n===i,e)})}autoSizeColumns(e){if(this.shouldQueueResizeOperations)return void this.resizeOperationQueue.push(()=>this.autoSizeColumns(e));const{columns:t,skipHeader:i,skipHeaderGroups:n,stopAtGroup:s,source:r="api"}=e;this.animationFrameService.flushAllFrames();const o=[];let a=-1;const l=i??this.gridOptionsService.get("skipHeaderOnAutoSize"),d=n??l;for(;0!==a;)a=0,this.actionOnGridColumns(t,c=>{if(o.indexOf(c)>=0)return!1;const u=this.autoWidthCalculator.getPreferredWidthForColumn(c,l);if(u>0){const p=this.normaliseColumnWidth(c,u);c.setActualWidth(p,r),o.push(c),a++}return!0},r);d||this.autoSizeColumnGroupsByColumns(t,r,s),this.dispatchColumnResizedEvent(o,!0,"autosizeColumns")}dispatchColumnResizedEvent(e,t,i,n=null){e&&e.length&&this.eventService.dispatchEvent({type:f.EVENT_COLUMN_RESIZED,columns:e,column:1===e.length?e[0]:null,flexColumns:n,finished:t,source:i})}dispatchColumnChangedEvent(e,t,i){this.eventService.dispatchEvent({type:e,columns:t,column:t&&1==t.length?t[0]:null,source:i})}dispatchColumnMovedEvent(e){const{movedColumns:t,source:i,toIndex:n,finished:s}=e;this.eventService.dispatchEvent({type:f.EVENT_COLUMN_MOVED,columns:t,column:t&&1===t.length?t[0]:null,toIndex:n,finished:s,source:i})}dispatchColumnPinnedEvent(e,t){if(!e.length)return;const i=1===e.length?e[0]:null,n=this.getCommonValue(e,r=>r.getPinned());this.eventService.dispatchEvent({type:f.EVENT_COLUMN_PINNED,pinned:n??null,columns:e,column:i,source:t})}dispatchColumnVisibleEvent(e,t){if(!e.length)return;const i=1===e.length?e[0]:null,n=this.getCommonValue(e,r=>r.isVisible());this.eventService.dispatchEvent({type:f.EVENT_COLUMN_VISIBLE,visible:n,columns:e,column:i,source:t})}autoSizeColumn(e,t,i){e&&this.autoSizeColumns({columns:[e],skipHeader:i,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,i){const n=new Set;let r;this.getGridColumns(e).forEach(a=>{let l=a.getParent();for(;l&&l!=i;)l.isPadding()||n.add(l),l=l.getParent()});for(const a of n){for(const l of this.ctrlsService.getHeaderRowContainerCtrls())if(r=l.getHeaderCtrlForColumn(a),r)break;r&&r.resizeLeafColumnsToFit(t)}return[]}autoSizeAllColumns(e,t){if(this.shouldQueueResizeOperations)return void this.resizeOperationQueue.push(()=>this.autoSizeAllColumns(e,t));const i=this.getAllDisplayedColumns();this.autoSizeColumns({columns:i,skipHeader:t,source:e})}getColumnsFromTree(e){const t=[],i=n=>{for(let s=0;s<n.length;s++){const r=n[s];r instanceof ze?t.push(r):r instanceof Et&&i(r.getChildren())}};return i(e),t}getAllDisplayedTrees(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null}getPrimaryColumnTree(){return this.primaryColumnTree}getHeaderRowCount(){return this.gridHeaderRowCount}getDisplayedTreeLeft(){return this.displayedTreeLeft}getDisplayedTreeRight(){return this.displayedTreeRight}getDisplayedTreeCentre(){return this.displayedTreeCentre}isColumnDisplayed(e){return this.getAllDisplayedColumns().indexOf(e)>=0}getAllDisplayedColumns(){return this.displayedColumns}getViewportColumns(){return this.viewportColumns}getDisplayedLeftColumnsForRow(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsLeft):this.displayedColumnsLeft}getDisplayedRightColumnsForRow(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsRight):this.displayedColumnsRight}isColSpanActive(){return this.colSpanActive}getDisplayedColumnsForRow(e,t,i,n){const s=[];let r=null;for(let o=0;o<t.length;o++){const a=t[o],l=t.length-o,d=Math.min(a.getColSpan(e),l),c=[a];if(d>1){const p=d-1;for(let m=1;m<=p;m++)c.push(t[o+m]);o+=p}let u;i?(u=!1,c.forEach(p=>{i(p)&&(u=!0)})):u=!0,u&&(0===s.length&&r&&n&&n(a)&&s.push(r),s.push(a)),r=a}return s}getViewportCenterColumnsForRow(e){if(!this.colSpanActive)return this.viewportColumnsCenter;const i=this.isColumnVirtualisationSuppressed()?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedColumnsCenter,i,n=>{const s=n.getLeft();return R(s)&&s>this.viewportLeft})}isColumnAtEdge(e,t){const i=this.getAllDisplayedColumns();if(!i.length)return!1;const n="first"===t;let s;if(e instanceof Lt){const r=e.getDisplayedLeafColumns();if(!r.length)return!1;s=n?r[0]:Ae(r)}else s=e;return(n?i[0]:Ae(i))===s}getAriaColumnIndex(e){let t;return t=e instanceof Lt?e.getLeafColumns()[0]:e,this.ariaOrderColumns.indexOf(t)+1}isColumnInHeaderViewport(e){return!!e.isAutoHeaderHeight()||this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,i=t+e.getActualWidth(),n=this.viewportLeft-200,s=this.viewportRight+200;return!(t<n&&i<n||t>s&&i>s)}getDisplayedColumnsLeftWidth(){return this.getWidthOfColsInList(this.displayedColumnsLeft)}getDisplayedColumnsRightWidth(){return this.getWidthOfColsInList(this.displayedColumnsRight)}updatePrimaryColumnList(e,t,i,n,s,r){if(!e||dn(e))return;let o=!1;e.forEach(l=>{if(!l)return;const d=this.getPrimaryColumn(l);if(d){if(i){if(t.indexOf(d)>=0)return;t.push(d)}else{if(t.indexOf(d)<0)return;ji(t,d)}n(d),o=!0}}),o&&(this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(r),this.eventService.dispatchEvent({type:s,columns:t,column:1===t.length?t[0]:null,source:r}))}setRowGroupColumns(e,t){this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,f.EVENT_COLUMN_ROW_GROUP_CHANGED,!0,this.setRowGroupActive.bind(this),t)}setRowGroupActive(e,t,i){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,i),e&&!this.gridOptionsService.get("suppressRowGroupHidesColumns")&&this.setColumnsVisible([t],!1,i),!e&&!this.gridOptionsService.get("suppressMakeColumnVisibleAfterUnGroup")&&this.setColumnsVisible([t],!0,i))}addRowGroupColumns(e,t){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),f.EVENT_COLUMN_ROW_GROUP_CHANGED,t)}removeRowGroupColumns(e,t){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),f.EVENT_COLUMN_ROW_GROUP_CHANGED,t)}addPivotColumns(e,t){this.updatePrimaryColumnList(e,this.pivotColumns,!0,i=>i.setPivotActive(!0,t),f.EVENT_COLUMN_PIVOT_CHANGED,t)}setPivotColumns(e,t){this.setPrimaryColumnList(e,this.pivotColumns,f.EVENT_COLUMN_PIVOT_CHANGED,!0,(i,n)=>{n.setPivotActive(i,t)},t)}removePivotColumns(e,t){this.updatePrimaryColumnList(e,this.pivotColumns,!1,i=>i.setPivotActive(!1,t),f.EVENT_COLUMN_PIVOT_CHANGED,t)}setPrimaryColumnList(e,t,i,n,s,r){if(!this.gridColumns)return;const o=new Map;t.forEach((a,l)=>o.set(a,l)),t.length=0,R(e)&&e.forEach(a=>{const l=this.getPrimaryColumn(a);l&&t.push(l)}),t.forEach((a,l)=>{const d=o.get(a);void 0!==d?n&&d!==l||o.delete(a):o.set(a,0)}),(this.primaryColumns||[]).forEach(a=>{const l=t.indexOf(a)>=0;s(l,a)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(r),this.dispatchColumnChangedEvent(i,[...o.keys()],r)}setValueColumns(e,t){this.setPrimaryColumnList(e,this.valueColumns,f.EVENT_COLUMN_VALUE_CHANGED,!1,this.setValueActive.bind(this),t)}setValueActive(e,t,i){if(e!==t.isValueActive()&&(t.setValueActive(e,i),e&&!t.getAggFunc())){const n=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(n)}}addValueColumns(e,t){this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),f.EVENT_COLUMN_VALUE_CHANGED,t)}removeValueColumns(e,t){this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),f.EVENT_COLUMN_VALUE_CHANGED,t)}normaliseColumnWidth(e,t){const i=e.getMinWidth();R(i)&&t<i&&(t=i);const n=e.getMaxWidth();return R(n)&&e.isGreaterThanMax(t)&&(t=n),t}getPrimaryOrGridColumn(e){return this.getPrimaryColumn(e)||this.getGridColumn(e)}setColumnWidths(e,t,i,n){const s=[];e.forEach(r=>{const o=this.getPrimaryOrGridColumn(r.key);if(o&&(s.push({width:r.newWidth,ratios:[1],columns:[o]}),"shift"===this.gridOptionsService.get("colResizeDefault")&&(t=!t),t)){const l=this.getDisplayedColAfter(o);if(!l)return;const d=o.getActualWidth()-r.newWidth,c=l.getActualWidth()+d;s.push({width:c,ratios:[1],columns:[l]})}}),0!==s.length&&this.resizeColumnSets({resizeSets:s,finished:i,source:n})}checkMinAndMaxWidthsForSet(e){const{columns:t,width:i}=e;let n=0,s=0,r=!0;return t.forEach(l=>{const d=l.getMinWidth();n+=d||0;const c=l.getMaxWidth();R(c)&&c>0?s+=c:r=!1}),i>=n&&(!r||i<=s)}resizeColumnSets(e){const{resizeSets:t,finished:i,source:n}=e;if(t&&!t.every(c=>this.checkMinAndMaxWidthsForSet(c)))return void(i&&this.dispatchColumnResizedEvent(t&&t.length>0?t[0].columns:null,i,n));const r=[],o=[];t.forEach(c=>{const{width:u,columns:p,ratios:m}=c,v={},C={};p.forEach(w=>o.push(w));let b=!0,y=0;for(;b;){if(y++,y>1e3){console.error("AG Grid: infinite loop in resizeColumnSets");break}b=!1;const w=[];let E=0,D=u;p.forEach((L,k)=>{C[L.getId()]?D-=v[L.getId()]:(w.push(L),E+=m[k])});const M=1/E;w.forEach((L,k)=>{let xe;k===w.length-1?xe=D:(xe=Math.round(m[k]*u*M),D-=xe);const ft=L.getMinWidth(),jt=L.getMaxWidth();R(ft)&&xe<ft?(xe=ft,C[L.getId()]=!0,b=!0):R(jt)&&jt>0&&xe>jt&&(xe=jt,C[L.getId()]=!0,b=!0),v[L.getId()]=xe})}p.forEach(w=>{const E=v[w.getId()];w.getActualWidth()!==E&&(w.setActualWidth(E,n),r.push(w))})});const a=r.length>0;let l=[];a&&(l=this.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0}),this.setLeftValues(n),this.updateBodyWidths(),this.checkViewportColumns());const d=o.concat(l);(a||i)&&this.dispatchColumnResizedEvent(d,i,n,l)}setColumnAggFunc(e,t,i){if(!e)return;const n=this.getPrimaryColumn(e);n&&(n.setAggFunc(t),this.dispatchColumnChangedEvent(f.EVENT_COLUMN_VALUE_CHANGED,[n],i))}moveRowGroupColumn(e,t,i){if(this.isRowGroupEmpty())return;const n=this.rowGroupColumns[e],s=this.rowGroupColumns.slice(e,t);this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(t,0,n),this.eventService.dispatchEvent({type:f.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:s,column:1===s.length?s[0]:null,source:i})}moveColumns(e,t,i,n=!0){if(!this.gridColumns)return;if(this.columnAnimationService.start(),t>this.gridColumns.length-e.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+t),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");const s=this.getGridColumns(e);this.doesMovePassRules(s,t)&&(r_(this.gridColumns,s,t),this.updateDisplayedColumns(i),this.dispatchColumnMovedEvent({movedColumns:s,source:i,toIndex:t,finished:n}),this.columnAnimationService.finish())}doesMovePassRules(e,t){const i=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(i)}doesOrderPassRules(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))}getProposedColumnOrder(e,t){const i=this.gridColumns.slice();return r_(i,e,t),i}sortColumnsLikeGridColumns(e){!e||e.length<=1||e.filter(i=>this.gridColumns.indexOf(i)<0).length>0||e.sort((i,n)=>this.gridColumns.indexOf(i)-this.gridColumns.indexOf(n))}doesMovePassLockedPositions(e){let t=0,i=!0;return e.forEach(s=>{const r=(s=>s?!0===s||"left"===s?0:2:1)(s.getColDef().lockPosition);r<t&&(i=!1),t=r}),i}doesMovePassMarryChildren(e){let t=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,i=>{if(!(i instanceof Et))return;const n=i,s=n.getColGroupDef();if(!s||!s.marryChildren)return;const o=[];n.getLeafColumns().forEach(u=>{const p=e.indexOf(u);o.push(p)}),Math.max.apply(Math,o)-Math.min.apply(Math,o)>n.getLeafColumns().length-1&&(t=!1)}),t}moveColumnByIndex(e,t,i){this.gridColumns&&this.moveColumns([this.gridColumns[e]],t,i)}getColumnDefs(){if(!this.primaryColumns)return;const e=this.primaryColumns.slice();return this.gridColsArePrimary?e.sort((t,i)=>this.gridColumns.indexOf(t)-this.gridColumns.indexOf(i)):this.lastPrimaryOrder&&e.sort((t,i)=>this.lastPrimaryOrder.indexOf(t)-this.lastPrimaryOrder.indexOf(i)),this.columnDefFactory.buildColumnDefs(e,this.rowGroupColumns,this.pivotColumns)}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}updateBodyWidths(){const e=this.getWidthOfColsInList(this.displayedColumnsCenter),t=this.getWidthOfColsInList(this.displayedColumnsLeft),i=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==i)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=i,this.eventService.dispatchEvent({type:f.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED}),this.eventService.dispatchEvent({type:f.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED}))}getValueColumns(){return this.valueColumns?this.valueColumns:[]}getPivotColumns(){return this.pivotColumns?this.pivotColumns:[]}isPivotActive(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode}getRowGroupColumns(){return this.rowGroupColumns?this.rowGroupColumns:[]}getDisplayedCenterColumns(){return this.displayedColumnsCenter}getDisplayedLeftColumns(){return this.displayedColumnsLeft}getDisplayedRightColumns(){return this.displayedColumnsRight}getDisplayedColumns(e){switch(e){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}}getAllPrimaryColumns(){return this.primaryColumns?this.primaryColumns:null}getSecondaryColumns(){return this.secondaryColumns?this.secondaryColumns:null}getAllColumnsForQuickFilter(){return this.columnsForQuickFilter}getAllGridColumns(){var e;return null!=(e=this.gridColumns)?e:[]}isEmpty(){return dn(this.gridColumns)}isRowGroupEmpty(){return dn(this.rowGroupColumns)}setColumnsVisible(e,t=!1,i){this.applyColumnState({state:e.map(n=>({colId:"string"==typeof n?n:n.getColId(),hide:!t}))},i)}setColumnsPinned(e,t,i){if(!this.gridColumns)return;if(this.gridOptionsService.isDomLayout("print"))return void console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'");let n;this.columnAnimationService.start(),n=!0===t||"left"===t?"left":"right"===t?"right":null,this.actionOnGridColumns(e,s=>s.getPinned()!==n&&(s.setPinned(n),!0),i,()=>({type:f.EVENT_COLUMN_PINNED,pinned:n,column:null,columns:null,source:i})),this.columnAnimationService.finish()}actionOnGridColumns(e,t,i,n){if(dn(e))return;const s=[];if(e.forEach(r=>{if(!r)return;const o=this.getGridColumn(r);o&&!1!==t(o)&&s.push(o)}),s.length&&(this.updateDisplayedColumns(i),R(n)&&n)){const r=n();r.columns=s,r.column=1===s.length?s[0]:null,this.eventService.dispatchEvent(r)}}getDisplayedColBefore(e){const t=this.getAllDisplayedColumns(),i=t.indexOf(e);return i>0?t[i-1]:null}getDisplayedColAfter(e){const t=this.getAllDisplayedColumns(),i=t.indexOf(e);return i<t.length-1?t[i+1]:null}getDisplayedGroupAfter(e){return this.getDisplayedGroupAtDirection(e,"After")}getDisplayedGroupBefore(e){return this.getDisplayedGroupAtDirection(e,"Before")}getDisplayedGroupAtDirection(e,t){const i=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),n=e.getDisplayedLeafColumns(),s="After"===t?Ae(n):n[0],r=`getDisplayedCol${t}`;for(;;){const o=this[r](s);if(!o)return null;const a=this.getColumnGroupAtLevel(o,i);if(a!==e)return a}}getColumnGroupAtLevel(e,t){let n,s,i=e.getParent();for(;n=i.getProvidedColumnGroup().getLevel(),s=i.getPaddingLevel(),!(n+s<=t);)i=i.getParent();return i}isPinningLeft(){return this.displayedColumnsLeft.length>0}isPinningRight(){return this.displayedColumnsRight.length>0}getPrimaryAndSecondaryAndAutoColumns(){return[].concat(this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[])}createStateItemFromColumn(e){const t=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,i=e.isPivotActive()?this.pivotColumns.indexOf(e):null,n=e.isValueActive()?e.getAggFunc():null,s=null!=e.getSort()?e.getSort():null,r=null!=e.getSortIndex()?e.getSortIndex():null,o=null!=e.getFlex()&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:s,sortIndex:r,aggFunc:n,rowGroup:e.isRowGroupActive(),rowGroupIndex:t,pivot:e.isPivotActive(),pivotIndex:i,flex:o}}getColumnState(){if(Y(this.primaryColumns)||!this.isAlive())return[];const t=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(t),t}orderColumnStateList(e){const t=Gr(this.gridColumns.map((i,n)=>[i.getColId(),n]));e.sort((i,n)=>(t.has(i.colId)?t.get(i.colId):-1)-(t.has(n.colId)?t.get(n.colId):-1))}resetColumnState(e){if(dn(this.primaryColumns))return;const t=this.getColumnsFromTree(this.primaryColumnTree),i=[];let n=1e3,s=1e3,r=[];this.groupAutoColumns&&(r=r.concat(this.groupAutoColumns)),t&&(r=r.concat(t)),r.forEach(o=>{const a=this.getColumnStateFromColDef(o);Y(a.rowGroupIndex)&&a.rowGroup&&(a.rowGroupIndex=n++),Y(a.pivotIndex)&&a.pivot&&(a.pivotIndex=s++),i.push(a)}),this.applyColumnState({state:i,applyOrder:!0},e)}getColumnStateFromColDef(e){const t=(v,C)=>v??C??null,i=e.getColDef(),n=t(i.sort,i.initialSort),s=t(i.sortIndex,i.initialSortIndex),r=t(i.hide,i.initialHide),o=t(i.pinned,i.initialPinned),a=t(i.width,i.initialWidth),l=t(i.flex,i.initialFlex);let d=t(i.rowGroupIndex,i.initialRowGroupIndex),c=t(i.rowGroup,i.initialRowGroup);null==d&&(null==c||0==c)&&(d=null,c=null);let u=t(i.pivotIndex,i.initialPivotIndex),p=t(i.pivot,i.initialPivot);null==u&&(null==p||0==p)&&(u=null,p=null);const m=t(i.aggFunc,i.initialAggFunc);return{colId:e.getColId(),sort:n,sortIndex:s,hide:r,pinned:o,width:a,flex:l,rowGroup:c,rowGroupIndex:d,pivot:p,pivotIndex:u,aggFunc:m}}applyColumnState(e,t){if(dn(this.primaryColumns))return!1;if(e&&e.state&&!e.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const i=(r,o,a)=>{const l=this.compareColumnStatesAndDispatchEvents(t);this.autoGroupsNeedBuilding=!0;const d=o.slice(),c={},u={},p=[],m=[];let v=0;const C=this.rowGroupColumns.slice(),b=this.pivotColumns.slice();r.forEach(D=>{const M=D.colId||"";if(M.startsWith(Vl))return p.push(D),void m.push(D);const k=a(M);k?(this.syncColumnWithStateItem(k,D,e.defaultState,c,u,!1,t),ji(d,k)):(m.push(D),v+=1)});const y=D=>this.syncColumnWithStateItem(D,null,e.defaultState,c,u,!1,t);d.forEach(y);const w=(D,M,L,k)=>{const te=D[L.getId()],xe=D[k.getId()],ft=null!=te,jt=null!=xe;if(ft&&jt)return te-xe;if(ft)return-1;if(jt)return 1;const kn=M.indexOf(L),ei=M.indexOf(k),fh=kn>=0;return fh&&ei>=0?kn-ei:fh?-1:1};this.rowGroupColumns.sort(w.bind(this,c,C)),this.pivotColumns.sort(w.bind(this,u,b)),this.updateGridColumns();const E=this.groupAutoColumns?this.groupAutoColumns.slice():[];return p.forEach(D=>{const M=this.getAutoColumn(D.colId);ji(E,M),this.syncColumnWithStateItem(M,D,e.defaultState,null,null,!0,t)}),E.forEach(y),this.applyOrderAfterApplyState(e),this.updateDisplayedColumns(t),this.dispatchEverythingChanged(t),l(),{unmatchedAndAutoStates:m,unmatchedCount:v}};this.columnAnimationService.start();let{unmatchedAndAutoStates:n,unmatchedCount:s}=i(e.state||[],this.primaryColumns||[],r=>this.getPrimaryColumn(r));return(n.length>0||R(e.defaultState))&&(s=i(n,this.secondaryColumns||[],r=>this.getSecondaryColumn(r)).unmatchedCount),this.columnAnimationService.finish(),0===s}applyOrderAfterApplyState(e){if(!e.applyOrder||!e.state)return;let t=[];const i={};e.state.forEach(s=>{if(!s.colId||i[s.colId])return;const r=this.gridColumnsMap[s.colId];r&&(t.push(r),i[s.colId]=!0)});let n=0;this.gridColumns.forEach(s=>{const r=s.getColId();null==i[r]&&(r.startsWith(Vl)?gu(t,s,n++):t.push(s))}),t=this.placeLockedColumns(t),this.doesMovePassMarryChildren(t)?this.gridColumns=t:console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.")}compareColumnStatesAndDispatchEvents(e){const t={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},i=this.getColumnState(),n={};return i.forEach(s=>{n[s.colId]=s}),()=>{const s=this.getPrimaryAndSecondaryAndAutoColumns(),r=(C,b,y,w)=>{if(Ds(b.map(w),y.map(w)))return;const L=new Set(b);y.forEach(xe=>{L.delete(xe)||L.add(xe)});const k=[...L];this.eventService.dispatchEvent({type:C,columns:k,column:1===k.length?k[0]:null,source:e})},o=C=>{const b=[];return s.forEach(y=>{const w=n[y.getColId()];w&&C(w,y)&&b.push(y)}),b},a=C=>C.getColId();r(f.EVENT_COLUMN_ROW_GROUP_CHANGED,t.rowGroupColumns,this.rowGroupColumns,a),r(f.EVENT_COLUMN_PIVOT_CHANGED,t.pivotColumns,this.pivotColumns,a);const d=o((C,b)=>{const y=null!=C.aggFunc,w=y!=b.isValueActive(),E=y&&C.aggFunc!=b.getAggFunc();return w||E});d.length>0&&this.dispatchColumnChangedEvent(f.EVENT_COLUMN_VALUE_CHANGED,d,e),this.dispatchColumnResizedEvent(o((C,b)=>C.width!=b.getActualWidth()),!0,e),this.dispatchColumnPinnedEvent(o((C,b)=>C.pinned!=b.getPinned()),e),this.dispatchColumnVisibleEvent(o((C,b)=>C.hide==b.isVisible()),e);const v=o((C,b)=>C.sort!=b.getSort()||C.sortIndex!=b.getSortIndex());v.length>0&&this.sortController.dispatchSortChangedEvents(e,v),this.normaliseColumnMovedEventForColumnState(i,e)}}getCommonValue(e,t){if(!e||0==e.length)return;const i=t(e[0]);for(let n=1;n<e.length;n++)if(i!==t(e[n]))return;return i}normaliseColumnMovedEventForColumnState(e,t){const i=this.getColumnState(),n={};i.forEach(l=>n[l.colId]=l);const s={};e.forEach(l=>{n[l.colId]&&(s[l.colId]=!0)});const r=e.filter(l=>s[l.colId]),o=i.filter(l=>s[l.colId]),a=[];o.forEach((l,d)=>{const c=r&&r[d];if(c&&c.colId!==l.colId){const u=this.getGridColumn(c.colId);u&&a.push(u)}}),a.length&&this.dispatchColumnMovedEvent({movedColumns:a,source:t,finished:!0})}syncColumnWithStateItem(e,t,i,n,s,r,o){if(!e)return;const a=(E,D)=>{const M={value1:void 0,value2:void 0};let L=!1;return t&&(void 0!==t[E]&&(M.value1=t[E],L=!0),R(D)&&void 0!==t[D]&&(M.value2=t[D],L=!0)),!L&&i&&(void 0!==i[E]&&(M.value1=i[E]),R(D)&&void 0!==i[D]&&(M.value2=i[D])),M},l=a("hide").value1;void 0!==l&&e.setVisible(!l,o);const d=a("pinned").value1;void 0!==d&&e.setPinned(d);const c=this.columnUtils.calculateColMinWidth(e.getColDef()),u=a("flex").value1;if(void 0!==u&&e.setFlex(u),null==u){const E=a("width").value1;null!=E&&null!=c&&E>=c&&e.setActualWidth(E,o)}const p=a("sort").value1;void 0!==p&&e.setSort("desc"===p||"asc"===p?p:void 0,o);const m=a("sortIndex").value1;if(void 0!==m&&e.setSortIndex(m),r||!e.isPrimary())return;const v=a("aggFunc").value1;void 0!==v&&("string"==typeof v?(e.setAggFunc(v),e.isValueActive()||(e.setValueActive(!0,o),this.valueColumns.push(e))):(R(v)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,o),ji(this.valueColumns,e))));const{value1:C,value2:b}=a("rowGroup","rowGroupIndex");(void 0!==C||void 0!==b)&&("number"==typeof b||C?(e.isRowGroupActive()||(e.setRowGroupActive(!0,o),this.rowGroupColumns.push(e)),n&&"number"==typeof b&&(n[e.getId()]=b)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,o),ji(this.rowGroupColumns,e)));const{value1:y,value2:w}=a("pivot","pivotIndex");(void 0!==y||void 0!==w)&&("number"==typeof w||y?(e.isPivotActive()||(e.setPivotActive(!0,o),this.pivotColumns.push(e)),s&&"number"==typeof w&&(s[e.getId()]=w)):e.isPivotActive()&&(e.setPivotActive(!1,o),ji(this.pivotColumns,e)))}getGridColumns(e){return this.getColumns(e,this.getGridColumn.bind(this))}getColumns(e,t){const i=[];return e&&e.forEach(n=>{const s=t(n);s&&i.push(s)}),i}getColumnWithValidation(e){if(null==e)return null;const t=this.getGridColumn(e);return t||console.warn("AG Grid: could not find column "+e),t}getPrimaryColumn(e){return this.primaryColumns?this.getColumn(e,this.primaryColumns,this.primaryColumnsMap):null}getGridColumn(e){return this.getColumn(e,this.gridColumns,this.gridColumnsMap)}lookupGridColumn(e){return this.gridColumnsMap[e]}getSecondaryColumn(e){return this.secondaryColumns?this.getColumn(e,this.secondaryColumns,this.secondaryColumnsMap):null}getColumn(e,t,i){if(!e||!i)return null;if("string"==typeof e&&i[e])return i[e];for(let n=0;n<t.length;n++)if(this.columnsMatch(t[n],e))return t[n];return this.getAutoColumn(e)}getSourceColumnsForGroupColumn(e){const t=e.getColDef().showRowGroup;if(!t)return null;if(!0===t)return this.rowGroupColumns.slice(0);const i=this.getPrimaryColumn(t);return i?[i]:null}getAutoColumn(e){return this.groupAutoColumns&&R(this.groupAutoColumns)&&!Y(this.groupAutoColumns)&&this.groupAutoColumns.find(t=>this.columnsMatch(t,e))||null}columnsMatch(e,t){const i=e===t,n=e.getColDef()===t,s=e.getColId()==t;return i||n||s}getDisplayNameForColumn(e,t,i=!1){if(!e)return null;const n=this.getHeaderName(e.getColDef(),e,null,null,t);return i?this.wrapHeaderNameWithAggFunc(e,n):n}getDisplayNameForProvidedColumnGroup(e,t,i){const n=t?t.getColGroupDef():null;return n?this.getHeaderName(n,null,e,t,i):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,i,n,s){const r=e.headerValueGetter;if(r){const o=this.gridOptionsService.addGridCommonParams({colDef:e,column:t,columnGroup:i,providedColumnGroup:n,location:s});return"function"==typeof r?r(o):"string"==typeof r?this.expressionService.evaluate(r,o):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}return null!=e.headerName?e.headerName:e.field?ZL(e.field):""}wrapHeaderNameWithAggFunc(e,t){if(this.gridOptionsService.get("suppressAggFuncInHeader"))return t;const i=e.getColDef().pivotValueColumn;let r,s=null;if(R(i)){const o=this.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn")&&1===this.valueColumns.length,a=void 0!==e.getColDef().pivotTotalColumnIds;if(o&&!a)return t;s=i?i.getAggFunc():null,r=!0}else{const o=e.isValueActive(),a=this.pivotMode||!this.isRowGroupEmpty();o&&a?(s=e.getAggFunc(),r=!0):r=!1}if(r){const o="string"==typeof s?s:"func";return`${this.localeService.getLocaleTextFunc()(o,o)}(${t})`}return t}getColumnGroup(e,t){if(!e)return null;if(e instanceof Lt)return e;const i=this.getAllDisplayedTrees(),n="number"==typeof t;let s=null;return this.columnUtils.depthFirstAllColumnTreeSearch(i,r=>{if(r instanceof Lt){const o=r;let a;a=n?e===o.getGroupId()&&t===o.getPartId():e===o.getGroupId(),a&&(s=o)}}),s}isReady(){return this.ready}extractValueColumns(e,t){this.valueColumns=this.extractColumns(t,this.valueColumns,(i,n)=>i.setValueActive(n,e),()=>{},()=>{},i=>{const n=i.aggFunc;return null===n||""===n?null:void 0!==n?!!n:void 0},i=>null!=i.initialAggFunc&&""!=i.initialAggFunc),this.valueColumns.forEach(i=>{const n=i.getColDef();null!=n.aggFunc&&""!=n.aggFunc?i.setAggFunc(n.aggFunc):i.getAggFunc()||i.setAggFunc(n.initialAggFunc)})}extractRowGroupColumns(e,t){this.rowGroupColumns=this.extractColumns(t,this.rowGroupColumns,(i,n)=>i.setRowGroupActive(n,e),i=>i.rowGroupIndex,i=>i.initialRowGroupIndex,i=>i.rowGroup,i=>i.initialRowGroup)}extractColumns(e=[],t=[],i,n,s,r,o){const a=[],l=[];(this.primaryColumns||[]).forEach(u=>{const p=e.indexOf(u)<0,m=u.getColDef(),v=ym(r(m)),C=ym(o(m)),b=kr(n(m)),y=kr(s(m));let w;w=void 0!==v?v:void 0!==b?null!==b&&b>=0:p?void 0!==C?C:void 0!==y&&null!=y&&y>=0:t.indexOf(u)>=0,w&&((p?null!=b||null!=y:null!=b)?a.push(u):l.push(u))});const d=u=>{const p=n(u.getColDef()),m=s(u.getColDef());return p??m};a.sort((u,p)=>{const m=d(u),v=d(p);return m===v?0:m<v?-1:1});const c=[].concat(a);return t.forEach(u=>{l.indexOf(u)>=0&&c.push(u)}),l.forEach(u=>{c.indexOf(u)<0&&c.push(u)}),t.forEach(u=>{c.indexOf(u)<0&&i(u,!1)}),c.forEach(u=>{t.indexOf(u)<0&&i(u,!0)}),c}extractPivotColumns(e,t){this.pivotColumns=this.extractColumns(t,this.pivotColumns,(i,n)=>i.setPivotActive(n,e),i=>i.pivotIndex,i=>i.initialPivotIndex,i=>i.pivot,i=>i.initialPivot)}resetColumnGroupState(e){if(!this.primaryColumnTree)return;const t=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,i=>{if(i instanceof Et){const n=i.getColGroupDef(),s={groupId:i.getGroupId(),open:n?n.openByDefault:void 0};t.push(s)}}),this.setColumnGroupState(t,e)}getColumnGroupState(){const e=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,t=>{t instanceof Et&&e.push({groupId:t.getGroupId(),open:t.isExpanded()})}),e}setColumnGroupState(e,t){if(!this.gridBalancedTree)return;this.columnAnimationService.start();const i=[];e.forEach(n=>{const r=n.open,o=this.getProvidedColumnGroup(n.groupId);o&&o.isExpanded()!==r&&(this.logger.log("columnGroupOpened("+o.getGroupId()+","+r+")"),o.setExpanded(r),i.push(o))}),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t),i.length&&this.eventService.dispatchEvent({type:f.EVENT_COLUMN_GROUP_OPENED,columnGroup:1===Et.length?i[0]:void 0,columnGroups:i}),this.columnAnimationService.finish()}setColumnGroupOpened(e,t,i){let n;n=e instanceof Et?e.getId():e||"",this.setColumnGroupState([{groupId:n,open:t}],i)}getProvidedColumnGroup(e){"string"!=typeof e&&console.error("AG Grid: group key must be a string");let t=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,i=>{i instanceof Et&&i.getId()===e&&(t=i)}),t}calculateColumnsForDisplay(){let e;return e=this.pivotMode&&Y(this.secondaryColumns)?this.gridColumns.filter(t=>{const i=this.groupAutoColumns&&un(this.groupAutoColumns,t),n=this.valueColumns&&un(this.valueColumns,t);return i||n}):this.gridColumns.filter(t=>this.groupAutoColumns&&un(this.groupAutoColumns,t)||t.isVisible()),e}checkColSpanActiveInCols(e){let t=!1;return e.forEach(i=>{R(i.getColDef().colSpan)&&(t=!0)}),t}calculateColumnsForGroupDisplay(){this.groupDisplayColumns=[],this.groupDisplayColumnsMap={},this.gridColumns.forEach(t=>{const i=t.getColDef(),n=i.showRowGroup;i&&R(n)&&(this.groupDisplayColumns.push(t),"string"==typeof n?this.groupDisplayColumnsMap[n]=t:!0===n&&this.getRowGroupColumns().forEach(s=>{this.groupDisplayColumnsMap[s.getId()]=t}))})}getGroupDisplayColumns(){return this.groupDisplayColumns}getGroupDisplayColumnForGroup(e){return this.groupDisplayColumnsMap[e]}updateDisplayedColumns(e){const t=this.calculateColumnsForDisplay();this.buildDisplayedTrees(t),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)}isSecondaryColumnsPresent(){return R(this.secondaryColumns)}setSecondaryColumns(e,t){if(!this.gridColumns)return;const i=e;if(i||!Y(this.secondaryColumns)){if(i){this.processSecondaryColumnDefinitions(e);const n=this.columnFactory.createColumnTree(e,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0,t);this.destroyOldColumns(this.secondaryBalancedTree,n.columnTree),this.secondaryBalancedTree=n.columnTree,this.secondaryHeaderRowCount=n.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(s=>this.secondaryColumnsMap[s.getId()]=s),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(t)}}processSecondaryColumnDefinitions(e){const t=this.gridOptionsService.get("processPivotResultColDef"),i=this.gridOptionsService.get("processPivotResultColGroupDef");if(!t&&!i)return;const n=s=>{s.forEach(r=>{if(R(r.children)){const a=r;i&&i(a),n(a.children)}else t&&t(r)})};e&&n(e)}updateGridColumns(){const e=this.gridBalancedTree;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.createGroupAutoColumnsIfNeeded()){const n=Gr(this.groupAutoColumns.map(s=>[s,!0]));this.lastPrimaryOrder&&(this.lastPrimaryOrder=this.lastPrimaryOrder.filter(s=>!n.has(s)),this.lastPrimaryOrder=[...this.groupAutoColumns,...this.lastPrimaryOrder]),this.lastSecondaryOrder&&(this.lastSecondaryOrder=this.lastSecondaryOrder.filter(s=>!n.has(s)),this.lastSecondaryOrder=[...this.groupAutoColumns,...this.lastSecondaryOrder])}let i;if(this.secondaryColumns&&this.secondaryBalancedTree){const n=this.secondaryColumns.some(s=>void 0!==this.gridColumnsMap[s.getColId()]);this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,n&&(i=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,i=this.lastPrimaryOrder);this.addAutoGroupToGridColumns(),this.orderGridColsLike(i),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(n=>this.gridColumnsMap[n.getId()]=n),this.setAutoHeightActive(),Ds(e,this.gridBalancedTree)||this.eventService.dispatchEvent({type:f.EVENT_GRID_COLUMNS_CHANGED})}setAutoHeightActive(){this.autoHeightActive=this.gridColumns.filter(e=>e.isAutoHeight()).length>0,this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,this.gridOptionsService.isRowModelType("clientSide")||this.gridOptionsService.isRowModelType("serverSide")||$("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))}orderGridColsLike(e){if(Y(e))return;const t=Gr(e.map((l,d)=>[l,d]));let i=!0;if(this.gridColumns.forEach(l=>{t.has(l)&&(i=!1)}),i)return;const n=Gr(this.gridColumns.map(l=>[l,!0])),s=e.filter(l=>n.has(l)),r=Gr(s.map(l=>[l,!0])),o=this.gridColumns.filter(l=>!r.has(l)),a=s.slice();o.forEach(l=>{let d=l.getOriginalParent();if(!d)return void a.push(l);const c=[];for(;!c.length&&d;)d.getLeafColumns().forEach(v=>{const C=a.indexOf(v)>=0,b=c.indexOf(v)<0;C&&b&&c.push(v)}),d=d.getOriginalParent();if(!c.length)return void a.push(l);const u=c.map(m=>a.indexOf(m)),p=Math.max(...u);gu(a,l,p+1)}),this.gridColumns=a}isPrimaryColumnGroupsPresent(){return this.primaryHeaderRowCount>1}refreshQuickFilterColumns(){var e;let t=null!=(e=this.isPivotMode()?this.secondaryColumns:this.primaryColumns)?e:[];this.groupAutoColumns&&(t=t.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gridOptionsService.get("includeHiddenColumnsInQuickFilter")?t:t.filter(i=>i.isVisible()||i.isRowGroupActive())}placeLockedColumns(e){const t=[],i=[],n=[];return e.forEach(s=>{const r=s.getColDef().lockPosition;"right"===r?n.push(s):"left"===r||!0===r?t.push(s):i.push(s)}),[...t,...i,...n]}addAutoGroupToGridColumns(){if(Y(this.groupAutoColumns))return this.destroyOldColumns(this.groupAutoColsBalancedTree),void(this.groupAutoColsBalancedTree=null);this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;const e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,e),this.groupAutoColsBalancedTree=e,this.gridBalancedTree=e.concat(this.gridBalancedTree)}clearDisplayedAndViewportColumns(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.ariaOrderColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""}updateGroupsAndDisplayedColumns(e){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(e),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths(),this.eventService.dispatchEvent({type:f.EVENT_DISPLAYED_COLUMNS_CHANGED})}deriveDisplayedColumns(e){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinColumnsAriaOrder(),this.joinDisplayedColumns(),this.setLeftValues(e),this.displayedAutoHeightCols=this.displayedColumns.filter(t=>t.isAutoHeight())}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}joinColumnsAriaOrder(){const e=this.getAllGridColumns(),t=[],i=[],n=[];for(const s of e){const r=s.getPinned();r?!0===r||"left"===r?t.push(s):n.push(s):i.push(s)}this.ariaOrderColumns=t.concat(i).concat(n)}joinDisplayedColumns(){this.displayedColumns=this.gridOptionsService.get("enableRtl")?this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)}setLeftValues(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()}setLeftValuesOfColumns(e){if(!this.primaryColumns)return;const t=this.getPrimaryAndSecondaryAndAutoColumns().slice(0),i=this.gridOptionsService.get("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(n=>{if(i){let s=this.getWidthOfColsInList(n);n.forEach(r=>{s-=r.getActualWidth(),r.setLeft(s,e)})}else{let s=0;n.forEach(r=>{r.setLeft(s,e),s+=r.getActualWidth()})}UL(t,n)}),t.forEach(n=>{n.setLeft(null,e)})}setLeftValuesOfGroups(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(e=>{e.forEach(t=>{t instanceof Lt&&t.checkLeft()})})}derivedDisplayedColumnsFromDisplayedTree(e,t){t.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(e,i=>{i instanceof ze&&t.push(i)})}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||0===this.viewportRight}extractViewportColumns(){this.isColumnVirtualisationSuppressed()?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)}getVirtualHeaderGroupRow(e,t){let i;switch(e){case"left":i=this.viewportRowLeft[t];break;case"right":i=this.viewportRowRight[t];break;default:i=this.viewportRowCenter[t]}return Y(i)&&(i=[]),i}calculateHeaderRows(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};const e={};this.headerViewportColumns.forEach(i=>e[i.getId()]=!0);const t=(i,n,s)=>{let r=!1;for(let o=0;o<i.length;o++){const a=i[o];let l=!1;if(a instanceof ze)l=!0===e[a.getId()];else{const c=a.getDisplayedChildren();c&&(l=t(c,n,s+1))}l&&(r=!0,n[s]||(n[s]=[]),n[s].push(a))}return r};t(this.displayedTreeLeft,this.viewportRowLeft,0),t(this.displayedTreeRight,this.viewportRowRight,0),t(this.displayedTreeCentre,this.viewportRowCenter,0)}extractViewport(){this.extractViewportColumns();const t=this.viewportColumns.map(n=>`${n.getId()}-${n.getPinned()||"normal"}`).join("#"),i=this.viewportColumnsHash!==t;return i&&(this.viewportColumnsHash=t,this.calculateHeaderRows()),i}refreshFlexedColumns(e={}){var t;const i=e.source?e.source:"flex";if(null!=e.viewportWidth&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];let n=-1;if(e.resizingCols){const p=new Set(e.resizingCols);let m=this.displayedColumnsCenter;for(let v=m.length-1;v>=0;v--)if(p.has(m[v])){n=v;break}}let s=0,r=[],o=0,a=0;for(let p=0;p<this.displayedColumnsCenter.length;p++)this.displayedColumnsCenter[p].getFlex()&&p>n?(r.push(this.displayedColumnsCenter[p]),a+=this.displayedColumnsCenter[p].getFlex(),o+=null!=(t=this.displayedColumnsCenter[p].getMinWidth())?t:0):s+=this.displayedColumnsCenter[p].getActualWidth();if(!r.length)return[];let l=[];s+o>this.flexViewportWidth&&(r.forEach(p=>{var m;return p.setActualWidth(null!=(m=p.getMinWidth())?m:0,i)}),l=r,r=[]);const d=[];let c;e:for(;;){c=this.flexViewportWidth-s;const p=c/a;for(let m=0;m<r.length;m++){const v=r[m],C=p*v.getFlex();let b=0;const y=v.getMinWidth(),w=v.getMaxWidth();if(R(y)&&C<y?b=y:R(w)&&C>w&&(b=w),b){v.setActualWidth(b,i),n_(r,v),a-=v.getFlex(),l.push(v),s+=v.getActualWidth();continue e}d[m]=Math.round(C)}break}let u=c;return r.forEach((p,m)=>{p.setActualWidth(Math.min(d[m],u),i),l.push(p),u-=d[m]}),e.skipSetLeft||this.setLeftValues(i),e.updateBodyWidths&&this.updateBodyWidths(),e.fireResizedEvent&&this.dispatchColumnResizedEvent(l,!0,i,r),r}sizeColumnsToFit(e,t="sizeColumnsToFit",i,n){var s,r,o,a,l;if(this.shouldQueueResizeOperations)return void this.resizeOperationQueue.push(()=>this.sizeColumnsToFit(e,t,i,n));const d={};n&&(null==(s=n?.columnLimits)||s.forEach(y=>{var w=y,{key:E}=w,D=((e,t)=>{var i={};for(var n in e)EL.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&wm)for(var n of wm(e))t.indexOf(n)<0&&DL.call(e,n)&&(i[n]=e[n]);return i})(w,["key"]);d["string"==typeof E?E:E.getColId()]=D}));const c=this.getAllDisplayedColumns(),u=e===this.getWidthOfColsInList(c);if(e<=0||!c.length||u)return;const p=[],m=[];c.forEach(y=>{!0===y.getColDef().suppressSizeToFit?m.push(y):p.push(y)});const v=p.slice(0);let C=!1;const b=y=>{ji(p,y),m.push(y)};for(p.forEach(y=>{var w,E;y.resetActualWidth(t);const D=d?.[y.getId()],M=null!=(w=D?.minWidth)?w:n?.defaultMinWidth,L=null!=(E=D?.maxWidth)?E:n?.defaultMaxWidth,k=y.getActualWidth();"number"==typeof M&&k<M?y.setActualWidth(M,t,!0):"number"==typeof L&&k>L&&y.setActualWidth(L,t,!0)});!C;){C=!0;const y=e-this.getWidthOfColsInList(m);if(y<=0)p.forEach(w=>{var E,D;const M=null!=(D=null==(E=d?.[w.getId()])?void 0:E.minWidth)?D:n?.defaultMinWidth;"number"!=typeof M?w.setMinimum(t):w.setActualWidth(M,t,!0)});else{const w=y/this.getWidthOfColsInList(p);let E=y;for(let D=p.length-1;D>=0;D--){const M=p[D],L=d?.[M.getId()],k=null!=(r=L?.minWidth)?r:n?.defaultMinWidth,te=null!=(o=L?.maxWidth)?o:n?.defaultMaxWidth,xe=null!=(a=M.getMinWidth())?a:0,ft=null!=(l=M.getMaxWidth())?l:Number.MAX_VALUE,jt="number"==typeof k&&k>xe?k:M.getMinWidth(),kn="number"==typeof te&&te<ft?te:M.getMaxWidth();let ei=Math.round(M.getActualWidth()*w);R(jt)&&ei<jt?(ei=jt,b(M),C=!1):R(kn)&&ei>kn?(ei=kn,b(M),C=!1):0===D&&(ei=E),M.setActualWidth(ei,t,!0),E-=ei}}}v.forEach(y=>{y.fireColumnWidthChangedEvent(t)}),this.setLeftValues(t),this.updateBodyWidths(),!i&&this.dispatchColumnResizedEvent(v,!0,t)}buildDisplayedTrees(e){const t=[],i=[],n=[];e.forEach(r=>{switch(r.getPinned()){case"left":t.push(r);break;case"right":i.push(r);break;default:n.push(r)}});const s=new YL;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(t,s,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(i,s,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(n,s,null,this.displayedTreeCentre),this.updateDisplayedMap()}updateDisplayedMap(){this.displayedColumnsAndGroupsMap={};const e=t=>{this.displayedColumnsAndGroupsMap[t.getUniqueId()]=t};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,e),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,e),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,e)}isDisplayed(e){return this.displayedColumnsAndGroupsMap[e.getUniqueId()]===e}updateOpenClosedVisibilityInColumnGroups(){const e=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(e,t=>{t instanceof Lt&&t.calculateDisplayedColumns()})}getGroupAutoColumns(){return this.groupAutoColumns}createGroupAutoColumnsIfNeeded(){const e=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;const t=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),i=this.pivotMode?this.gridOptionsService.get("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn();if(!(this.rowGroupColumns.length>0||this.gridOptionsService.get("treeData"))||i||t)this.groupAutoColumns=null;else{const r=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);if(!this.autoColsEqual(r,this.groupAutoColumns)||e)return this.groupAutoColumns=r,!0}return!1}isGroupSuppressAutoColumn(){return"custom"===this.gridOptionsService.get("groupDisplayType")||"custom"===this.gridOptionsService.get("treeDataDisplayType")}autoColsEqual(e,t){return Ds(e,t,(i,n)=>i.getColId()===n.getColId())}getWidthOfColsInList(e){return e.reduce((t,i)=>t+i.getActualWidth(),0)}getFirstDisplayedColumn(){const e=this.gridOptionsService.get("enableRtl"),t=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];e&&t.reverse();for(let i=0;i<t.length;i++){const n=this[t[i]]();if(n.length)return e?Ae(n):n[0]}return null}setColumnHeaderHeight(e,t){e.setAutoHeaderHeight(t)&&this.eventService.dispatchEvent({type:f.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:e,columns:[e],source:"autosizeColumnHeaderHeight"})}getColumnGroupHeaderRowHeight(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()}getColumnHeaderRowHeight(){const e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),t=this.getAllDisplayedColumns().filter(i=>i.isAutoHeaderHeight()).map(i=>i.getAutoHeaderHeight()||0);return Math.max(e,...t)}getHeaderHeight(){var e;return null!=(e=this.gridOptionsService.get("headerHeight"))?e:this.environment.getFromTheme(25,"headerHeight")}getFloatingFiltersHeight(){var e;return null!=(e=this.gridOptionsService.get("floatingFiltersHeight"))?e:this.getHeaderHeight()}getGroupHeaderHeight(){var e;return null!=(e=this.gridOptionsService.get("groupHeaderHeight"))?e:this.getHeaderHeight()}getPivotHeaderHeight(){var e;return null!=(e=this.gridOptionsService.get("pivotHeaderHeight"))?e:this.getHeaderHeight()}getPivotGroupHeaderHeight(){var e;return null!=(e=this.gridOptionsService.get("pivotGroupHeaderHeight"))?e:this.getGroupHeaderHeight()}queueResizeOperations(){this.shouldQueueResizeOperations=!0}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}resetColumnDefIntoColumn(e,t){const i=e.getUserProvidedColDef();if(!i)return!1;const n=this.columnFactory.addColumnDefaultAndTypes(i,e.getColId());return e.setColDef(n,i,t),!0}isColumnGroupingLocked(e){const t=this.gridOptionsService.get("groupLockGroupColumns");return!(!e.isRowGroupActive()||0===t)&&(-1===t||t>this.rowGroupColumns.findIndex(n=>n.getColId()===e.getColId()))}generateColumnStateForRowGroupAndPivotIndexes(e,t){let i={};const n=(s,r,o,a,l,d)=>{if(!r.length||!this.primaryColumns)return[];const c=Object.keys(s),u=new Set(c),p=new Set(c),m=new Set(r.map(M=>{const L=M.getColId();return p.delete(L),L}).concat(c)),v=[],C={};let b=0;for(let M=0;M<this.primaryColumns.length;M++){const L=this.primaryColumns[M].getColId();m.has(L)&&(v.push(L),C[L]=b++)}let y=1e3,w=!1,E=0;const D=M=>{const L=C[M];for(let k=E;k<L;k++){const te=v[k];p.has(te)&&(s[te][l]=y++,p.delete(te))}E=L};r.forEach(M=>{const L=M.getColId();if(u.has(L))D(L),s[L][l]=y++;else{const k=M.getColDef();(null===k[l]||void 0===k[l]&&null==k[d])&&(w||(k[o]||void 0===k[o]&&k[a]?D(L):(p.forEach(ft=>{s[ft][l]=y+C[ft]}),y+=v.length,w=!0)),i[L]||(i[L]={colId:L}),i[L][l]=y++)}})};return n(e,this.rowGroupColumns,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),n(t,this.pivotColumns,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(i)}onColumnsReady(){const e=this.gridOptionsService.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if("fitGridWidth"===t){const{columnLimits:i,defaultMinWidth:n,defaultMaxWidth:s}=e,r=i?.map(({colId:o,minWidth:a,maxWidth:l})=>({key:o,minWidth:a,maxWidth:l}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:n,defaultMaxWidth:s,columnLimits:r})}else"fitProvidedWidth"===t&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}onFirstDataRendered(){const e=this.gridOptionsService.get("autoSizeStrategy");if("fitCellContents"!==e?.type)return;const{colIds:t,skipHeader:i}=e;setTimeout(()=>{t?this.autoSizeColumns({columns:t,skipHeader:i,source:"autosizeColumns"}):this.autoSizeAllColumns("autosizeColumns",i)})}};function Gl(e){return"gridOptionsUpdated"===e?"gridOptionsChanged":e}h([g("expressionService")],Wt.prototype,"expressionService",2),h([g("columnFactory")],Wt.prototype,"columnFactory",2),h([g("displayedGroupCreator")],Wt.prototype,"displayedGroupCreator",2),h([g("ctrlsService")],Wt.prototype,"ctrlsService",2),h([g("autoWidthCalculator")],Wt.prototype,"autoWidthCalculator",2),h([g("columnUtils")],Wt.prototype,"columnUtils",2),h([g("columnAnimationService")],Wt.prototype,"columnAnimationService",2),h([g("autoGroupColService")],Wt.prototype,"autoGroupColService",2),h([De("aggFuncService")],Wt.prototype,"aggFuncService",2),h([De("valueCache")],Wt.prototype,"valueCache",2),h([De("animationFrameService")],Wt.prototype,"animationFrameService",2),h([g("sortController")],Wt.prototype,"sortController",2),h([g("columnDefFactory")],Wt.prototype,"columnDefFactory",2),h([I],Wt.prototype,"init",1),h([Fi],Wt.prototype,"destroyColumns",1),h([Zn(0,Tn("loggerFactory"))],Wt.prototype,"setBeans",1),Wt=h([V("columnModel")],Wt);var d_=class extends A{calculateColMinWidth(e){return null!=e.minWidth?e.minWidth:this.environment.getMinColWidth()}calculateColMaxWidth(e){return null!=e.maxWidth?e.maxWidth:Number.MAX_SAFE_INTEGER}calculateColInitialWidth(e){const t=this.calculateColMinWidth(e),i=this.calculateColMaxWidth(e);let n;const s=kr(e.width),r=kr(e.initialWidth);return n=null!=s?s:null!=r?r:200,Math.max(Math.min(n,i),t)}getOriginalPathForColumn(e,t){const i=[];let n=!1;const s=(r,o)=>{for(let a=0;a<r.length;a++){if(n)return;const l=r[a];l instanceof Et?(s(l.getChildren(),o+1),i[o]=l):l===e&&(n=!0)}};return s(t,0),n?i:null}depthFirstOriginalTreeSearch(e,t,i){t&&t.forEach(n=>{n instanceof Et&&this.depthFirstOriginalTreeSearch(n,n.getChildren(),i),i(n,e)})}depthFirstAllColumnTreeSearch(e,t){e&&e.forEach(i=>{i instanceof Lt&&this.depthFirstAllColumnTreeSearch(i.getChildren(),t),t(i)})}depthFirstDisplayedColumnTreeSearch(e,t){e&&e.forEach(i=>{i instanceof Lt&&this.depthFirstDisplayedColumnTreeSearch(i.getDisplayedChildren(),t),t(i)})}};d_=h([V("columnUtils")],d_);var c_=class extends A{createDisplayedGroups(e,t,i,n){const s=this.mapOldGroupsById(n),r=[];let o=e;for(;o.length;){const a=o;o=[];let l=0;const d=c=>{const u=l;l=c;const p=a[u],v=(p instanceof Lt?p.getProvidedColumnGroup():p).getOriginalParent();if(null==v){for(let b=u;b<c;b++)r.push(a[b]);return}const C=this.createColumnGroup(v,t,s,i);for(let b=u;b<c;b++)C.addChild(a[b]);o.push(C)};for(let c=1;c<a.length;c++){const u=a[c],m=(u instanceof Lt?u.getProvidedColumnGroup():u).getOriginalParent(),v=a[l];m!==(v instanceof Lt?v.getProvidedColumnGroup():v).getOriginalParent()&&d(c)}l<a.length&&d(a.length)}return this.setupParentsIntoColumns(r,null),r}createColumnGroup(e,t,i,n){const s=e.getGroupId(),r=t.getInstanceIdForKey(s);let a=i[Lt.createUniqueId(s,r)];return a&&a.getProvidedColumnGroup()!==e&&(a=null),R(a)?a.reset():(a=new Lt(e,s,r,n),this.context.createBean(a)),a}mapOldGroupsById(e){const t={},i=n=>{n.forEach(s=>{if(s instanceof Lt){const r=s;t[s.getUniqueId()]=r,i(r.getChildren())}})};return e&&i(e),t}setupParentsIntoColumns(e,t){e.forEach(i=>{if(i.setParent(t),i instanceof Lt){const n=i;this.setupParentsIntoColumns(n.getChildren(),n)}})}};c_=h([V("displayedGroupCreator")],c_);var xX={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,excludeHiddenColumnsFromQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,enableChartToolPanelsButton:!0,suppressChartToolPanelsButton:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressParentsInRowNodes:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,suppressAggAtRootLevel:!0,removePivotHeaderRowWhenSingleValueColumn:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,functionsPassive:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0},Xt=class{};Xt.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode"],Xt.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy"],Xt.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],Xt.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"],Xt.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilterAllLevels","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents"],Xt.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher"],Xt.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems"],Xt.FUNCTION_PROPERTIES=[...Xt.FUNCTIONAL_PROPERTIES,...Xt.CALLBACK_PROPERTIES],Xt.ALL_PROPERTIES=[...Xt.ARRAY_PROPERTIES,...Xt.OBJECT_PROPERTIES,...Xt.STRING_PROPERTIES,...Xt.NUMBER_PROPERTIES,...Xt.FUNCTION_PROPERTIES,...Xt.BOOLEAN_PROPERTIES];var xs=Xt,Dt=class Vg{static getCallbackForEvent(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substring(1)}static getGridOptionKeys(){return this.ALL_PROPERTIES_AND_CALLBACKS}static combineAttributesAndGridOptions(t,i){"object"!=typeof t&&(t={});const n=z({},t);return Vg.getGridOptionKeys().forEach(r=>{const o=i[r];typeof o<"u"&&o!==Vg.VUE_OMITTED_PROPERTY&&(n[r]=o)}),n}static processOnChange(t,i){if(!t)return;const n={};let s=!1;if(Object.keys(t).filter(o=>Vg.ALL_PROPERTIES_AND_CALLBACKS_SET.has(o)).forEach(o=>{n[o]=t[o],s=!0}),!s)return;i.__internalUpdateGridOptions(n);const r={type:f.EVENT_COMPONENT_STATE_CHANGED};pi(n,(o,a)=>{r[o]=a}),i.dispatchEvent(r)}};Dt.EVENTS=Io(f),Dt.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY",Dt.EXCLUDED_INTERNAL_EVENTS=[f.EVENT_SCROLLBAR_WIDTH_CHANGED,f.EVENT_CHECKBOX_CHANGED,f.EVENT_HEIGHT_SCALE_CHANGED,f.EVENT_BODY_HEIGHT_CHANGED,f.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,f.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,f.EVENT_SCROLL_VISIBILITY_CHANGED,f.EVENT_COLUMN_HOVER_CHANGED,f.EVENT_FLASH_CELLS,f.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,f.EVENT_DISPLAYED_ROWS_CHANGED,f.EVENT_LEFT_PINNED_WIDTH_CHANGED,f.EVENT_RIGHT_PINNED_WIDTH_CHANGED,f.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,f.EVENT_STORE_UPDATED,f.EVENT_COLUMN_PANEL_ITEM_DRAG_START,f.EVENT_COLUMN_PANEL_ITEM_DRAG_END,f.EVENT_FILL_START,f.EVENT_FILL_END,f.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,f.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,f.EVENT_FULL_WIDTH_ROW_FOCUSED,f.EVENT_HEADER_HEIGHT_CHANGED,f.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,f.EVENT_CELL_FOCUS_CLEARED,f.EVENT_GRID_STYLES_CHANGED,f.EVENT_FILTER_DESTROYED,f.EVENT_ROW_DATA_UPDATE_STARTED,f.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,f.EVENT_DATA_TYPES_INFERRED,f.EVENT_FIELD_VALUE_CHANGED,f.EVENT_FIELD_PICKER_VALUE_SELECTED,f.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,f.EVENT_SUPPRESS_MENU_HIDE_CHANGED,f.EVENT_SUPPRESS_FIELD_DOT_NOTATION,f.EVENT_ROW_COUNT_READY,f.EVENT_SIDE_BAR_UPDATED],Dt.PUBLIC_EVENTS=Dt.EVENTS.filter(e=>!un(Dt.EXCLUDED_INTERNAL_EVENTS,e)),Dt.EVENT_CALLBACKS=Dt.EVENTS.map(e=>Dt.getCallbackForEvent(e)),Dt.STRING_PROPERTIES=xs.STRING_PROPERTIES,Dt.OBJECT_PROPERTIES=xs.OBJECT_PROPERTIES,Dt.ARRAY_PROPERTIES=xs.ARRAY_PROPERTIES,Dt.NUMBER_PROPERTIES=xs.NUMBER_PROPERTIES,Dt.BOOLEAN_PROPERTIES=xs.BOOLEAN_PROPERTIES,Dt.FUNCTION_PROPERTIES=xs.FUNCTION_PROPERTIES,Dt.ALL_PROPERTIES=xs.ALL_PROPERTIES,Dt.ALL_PROPERTIES_AND_CALLBACKS=[...Dt.ALL_PROPERTIES,...Dt.EVENT_CALLBACKS],Dt.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(Dt.ALL_PROPERTIES_AND_CALLBACKS);var Fm=Dt,u_=class extends A{constructor(){super(...arguments),this.componentsMappedByName={}}setupComponents(e){e&&e.forEach(t=>this.addComponent(t))}addComponent(e){const i=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[i]=e.componentClass}getComponentClass(e){return this.componentsMappedByName[e]}};u_=h([V("agStackComponentsRegistry")],u_);var eN={};function An(e,t,i){null==i||"string"==typeof i&&""==i?h_(e,t):Mn(e,t,i)}function Mn(e,t,i){e.setAttribute(tN(t),i.toString())}function h_(e,t){e.removeAttribute(tN(t))}function tN(e){return`aria-${e}`}function ht(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function iN(e){let t;return t="asc"===e?"ascending":"desc"===e?"descending":"mixed"===e?"other":"none",t}function RX(e){return parseInt(e.getAttribute("aria-level"),10)}function nN(e){return parseInt(e.getAttribute("aria-posinset"),10)}function sN(e){return e.getAttribute("aria-label")}function is(e,t){An(e,"label",t)}function Om(e,t){An(e,"labelledby",t)}function TX(e,t){An(e,"describedby",t)}function p_(e,t){An(e,"live",t)}function rN(e,t){An(e,"atomic",t)}function oN(e,t){An(e,"relevant",t)}function aN(e,t){An(e,"level",t)}function f_(e,t){An(e,"disabled",t)}function Cu(e,t){An(e,"hidden",t)}function m_(e,t){An(e,"activedescendant",t)}function or(e,t){Mn(e,"expanded",t)}function lN(e){h_(e,"expanded")}function Pm(e,t){Mn(e,"setsize",t)}function Lm(e,t){Mn(e,"posinset",t)}function dN(e,t){Mn(e,"multiselectable",t)}function cN(e,t){Mn(e,"rowcount",t)}function g_(e,t){Mn(e,"rowindex",t)}function uN(e,t){Mn(e,"colcount",t)}function v_(e,t){Mn(e,"colindex",t)}function hN(e,t){Mn(e,"colspan",t)}function pN(e,t){Mn(e,"sort",t)}function fN(e){h_(e,"sort")}function Hl(e,t){An(e,"selected",t)}function AX(e,t){Mn(e,"checked",void 0===t?"mixed":t)}function C_(e,t){An(e,"controls",t.id),Om(t,e.id)}function Nm(e,t){return void 0===t?e("ariaIndeterminate","indeterminate"):!0===t?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}Zt(eN,{getAriaCheckboxStateName:()=>Nm,getAriaLabel:()=>sN,getAriaLevel:()=>RX,getAriaPosInSet:()=>nN,getAriaSortState:()=>iN,removeAriaExpanded:()=>lN,removeAriaSort:()=>fN,setAriaActiveDescendant:()=>m_,setAriaAtomic:()=>rN,setAriaChecked:()=>AX,setAriaColCount:()=>uN,setAriaColIndex:()=>v_,setAriaColSpan:()=>hN,setAriaControls:()=>C_,setAriaDescribedBy:()=>TX,setAriaDisabled:()=>f_,setAriaExpanded:()=>or,setAriaHidden:()=>Cu,setAriaLabel:()=>is,setAriaLabelledBy:()=>Om,setAriaLevel:()=>aN,setAriaLive:()=>p_,setAriaMultiSelectable:()=>dN,setAriaPosInSet:()=>Lm,setAriaRelevant:()=>oN,setAriaRole:()=>ht,setAriaRowCount:()=>cN,setAriaRowIndex:()=>g_,setAriaSelected:()=>Hl,setAriaSetSize:()=>Pm,setAriaSort:()=>pN});var b_,km,w_,y_,__,S_,E_,D_,mN={};function Rs(){return void 0===b_&&(b_=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),b_}function x_(){if(void 0===km)if(Rs()){const e=navigator.userAgent.match(/version\/(\d+)/i);e&&(km=null!=e[1]?parseFloat(e[1]):0)}else km=0;return km}function Vm(){if(void 0===w_){const e=window;w_=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return w_}function R_(){return void 0===y_&&(y_=/(firefox)/i.test(navigator.userAgent)),y_}function T_(){return void 0===__&&(__=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),__}function ar(){return void 0===S_&&(S_=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),S_}function A_(){return!Rs()||x_()>=15}function Gm(e){if(!e)return null;const t=e.tabIndex,i=e.getAttribute("tabIndex");return-1!==t||null!==i&&(""!==i||R_())?t.toString():null}function gN(){if(!document.body)return-1;let e=1e6;const t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,i=document.createElement("div");for(document.body.appendChild(i);;){const n=2*e;if(i.style.height=n+"px",n>t||i.clientHeight!==n)break;e=n}return document.body.removeChild(i),e}function vN(){var e,t,i;return null!=(i=null==(e=document.body)?void 0:e.clientWidth)?i:window.innerHeight||(null==(t=document.documentElement)?void 0:t.clientWidth)||-1}function CN(){var e,t,i;return null!=(i=null==(e=document.body)?void 0:e.clientHeight)?i:window.innerHeight||(null==(t=document.documentElement)?void 0:t.clientHeight)||-1}function bN(){return null==D_&&wN(),D_}function wN(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let i=t.offsetWidth-t.clientWidth;0===i&&0===t.clientWidth&&(i=null),t.parentNode&&t.parentNode.removeChild(t),null!=i&&(D_=i,E_=0===i)}function M_(){return null==E_&&wN(),E_}Zt(mN,{browserSupportsPreventScroll:()=>A_,getBodyHeight:()=>CN,getBodyWidth:()=>vN,getMaxDivHeight:()=>gN,getSafariVersion:()=>x_,getScrollbarWidth:()=>bN,getTabIndex:()=>Gm,isBrowserChrome:()=>Vm,isBrowserFirefox:()=>R_,isBrowserSafari:()=>Rs,isIOSUserAgent:()=>ar,isInvisibleScrollbar:()=>M_,isMacOsUserAgent:()=>T_});var yN={};Zt(yN,{dateToFormattedString:()=>Ul,parseDateTimeFromString:()=>$i,serialiseDate:()=>In});var _N={};function Bl(e,t){return e.toString().padStart(t,"0")}function SN(e,t){const i=[];for(let n=e;n<=t;n++)i.push(n);return i}function MX(e){return"string"==typeof e&&(e=parseInt(e,10)),"number"==typeof e?Math.floor(e):null}function IX(e,t){let i="";for(let n=0;n<t;n++)i+=String.fromCharCode(255&e),e>>>=8;return i}function FX(e,t,i){return"number"!=typeof e?"":I_(Math.round(100*e)/100,t,i)}function I_(e,t,i){return"number"!=typeof e?"":e.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${t}`)}function OX(e){return null==e?null:e.reduce((t,i)=>t+i,0)}function In(e,t=!0,i="-"){if(!e)return null;let n=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(s=>Bl(s,2)).join(i);return t&&(n+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(s=>Bl(s,2)).join(":")),n}Zt(_N,{cleanNumber:()=>MX,createArrayOfNumbers:()=>SN,decToHex:()=>IX,formatNumberCommas:()=>I_,formatNumberTwoDecimalPlacesAndCommas:()=>FX,padStartWidthZeros:()=>Bl,sum:()=>OX});var F_=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function Ul(e,t="YYYY-MM-DD"){const i=Bl(e.getFullYear(),4),n=["January","February","March","April","May","June","July","August","September","October","November","December"],s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r={YYYY:()=>i.slice(i.length-4,i.length),YY:()=>i.slice(i.length-2,i.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>n[e.getMonth()],MMM:()=>n[e.getMonth()].slice(0,3),MM:()=>Bl(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${F_(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${F_(e.getDate())}`,DD:()=>Bl(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>s[e.getDay()],ddd:()=>s[e.getDay()].slice(0,3),dd:()=>s[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${F_(e.getDay())}`,d:()=>`${e.getDay()}`},o=new RegExp(Object.keys(r).join("|"),"g");return t.replace(o,a=>a in r?r[a]():a)}function $i(e){if(!e)return null;const[t,i]=e.split(" ");if(!t)return null;const n=t.split("-").map(u=>parseInt(u,10));if(3!==n.filter(u=>!isNaN(u)).length)return null;const[s,r,o]=n,a=new Date(s,r-1,o);if(a.getFullYear()!==s||a.getMonth()!==r-1||a.getDate()!==o)return null;if(!i||"00:00:00"===i)return a;const[l,d,c]=i.split(":").map(u=>parseInt(u,10));return l>=0&&l<24&&a.setHours(l),d>=0&&d<60&&a.setMinutes(d),c>=0&&c<60&&a.setSeconds(c),a}var Hm,EN={};function O_(e,t,i){const n=e.parentElement;let s=n&&n.firstChild;for(;s;)t&&s.classList.toggle(t,s===e),i&&s.classList.toggle(i,s!==e),s=s.nextSibling}Zt(EN,{FOCUSABLE_EXCLUDE:()=>P_,FOCUSABLE_SELECTOR:()=>DN,addOrRemoveAttribute:()=>Ts,addStylesToElement:()=>B_,bindCellRendererToHtmlElement:()=>z_,clearElement:()=>It,copyNodeList:()=>MN,ensureDomOrder:()=>G_,formatSize:()=>Bm,getAbsoluteHeight:()=>N_,getAbsoluteWidth:()=>wu,getElementRectWithOffset:()=>k_,getElementSize:()=>Hr,getInnerHeight:()=>bu,getInnerWidth:()=>Lo,getScrollLeft:()=>_u,insertWithDomOrder:()=>RN,isElementChildOfClass:()=>Po,isFocusableFormField:()=>L_,isHorizontalScrollShowing:()=>TN,isInDOM:()=>V_,isNodeOrElement:()=>Du,isRtlNegativeScroll:()=>yu,isVerticalScrollShowing:()=>AN,isVisible:()=>hn,iterateNamedNodeMap:()=>IN,loadTemplate:()=>qi,nodeListForEach:()=>U_,radioCssClass:()=>O_,removeFromParent:()=>ns,setDisabled:()=>zl,setDisplayed:()=>we,setDomChildOrder:()=>H_,setElementHeight:()=>PX,setElementWidth:()=>Eu,setFixedHeight:()=>No,setFixedWidth:()=>Fn,setScrollLeft:()=>Su,setVisible:()=>xN});var DN="[tabindex], input, select, button, textarea, [href]",P_="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function L_(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,n=t.call(e,"input, select, button, textarea"),s=t.call(e,P_),r=hn(e);return n&&!s&&r}function we(e,t,i={}){const{skipAriaHidden:n}=i;e.classList.toggle("ag-hidden",!t),n||Cu(e,!t)}function xN(e,t,i={}){const{skipAriaHidden:n}=i;e.classList.toggle("ag-invisible",!t),n||Cu(e,!t)}function zl(e,t){const i="disabled",n=t?s=>s.setAttribute(i,""):s=>s.removeAttribute(i);n(e),U_(e.querySelectorAll("input"),s=>n(s))}function Po(e,t,i){let n=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,"number"==typeof i){if(++n>i)break}else if(e===i)break}return!1}function Hr(e){const{height:t,width:i,borderTopWidth:n,borderRightWidth:s,borderBottomWidth:r,borderLeftWidth:o,paddingTop:a,paddingRight:l,paddingBottom:d,paddingLeft:c,marginTop:u,marginRight:p,marginBottom:m,marginLeft:v,boxSizing:C}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(i||"0"),borderTopWidth:parseFloat(n||"0"),borderRightWidth:parseFloat(s||"0"),borderBottomWidth:parseFloat(r||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(d||"0"),paddingLeft:parseFloat(c||"0"),marginTop:parseFloat(u||"0"),marginRight:parseFloat(p||"0"),marginBottom:parseFloat(m||"0"),marginLeft:parseFloat(v||"0"),boxSizing:C}}function bu(e){const t=Hr(e);return"border-box"===t.boxSizing?t.height-t.paddingTop-t.paddingBottom:t.height}function Lo(e){const t=Hr(e);return"border-box"===t.boxSizing?t.width-t.paddingLeft-t.paddingRight:t.width}function N_(e){const t=Hr(e);return Math.ceil(e.offsetHeight+(t.marginBottom+t.marginTop))}function wu(e){const t=Hr(e);return Math.ceil(e.offsetWidth+(t.marginLeft+t.marginRight))}function k_(e){const t=e.getBoundingClientRect(),{borderTopWidth:i,borderLeftWidth:n,borderRightWidth:s,borderBottomWidth:r}=Hr(e);return{top:t.top+(i||0),left:t.left+(n||0),right:t.right+(s||0),bottom:t.bottom+(r||0)}}function yu(){if("boolean"==typeof Hm)return Hm;const e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(e),e.scrollLeft=1,Hm=0===Math.floor(e.scrollLeft),document.body.removeChild(e),Hm}function _u(e,t){let i=e.scrollLeft;return t&&(i=Math.abs(i),Vm()&&!yu()&&(i=e.scrollWidth-e.clientWidth-i)),i}function Su(e,t,i){i&&(yu()?t*=-1:(Rs()||Vm())&&(t=e.scrollWidth-e.clientWidth-t)),e.scrollLeft=t}function It(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function ns(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function V_(e){return!!e.offsetParent}function hn(e){return e.checkVisibility?e.checkVisibility({checkVisibilityCSS:!0}):!(!V_(e)||"visible"!==window.getComputedStyle(e).visibility)}function qi(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function G_(e,t,i){i&&i.nextSibling===t||(i?i.nextSibling?e.insertBefore(t,i.nextSibling):e.appendChild(t):e.firstChild&&e.firstChild!==t&&e.insertAdjacentElement("afterbegin",t))}function H_(e,t){for(let i=0;i<t.length;i++){const n=t[i],s=e.children[i];s!==n&&e.insertBefore(n,s)}}function RN(e,t,i){i?i.insertAdjacentElement("afterend",t):e.firstChild?e.insertAdjacentElement("afterbegin",t):e.appendChild(t)}function B_(e,t){if(t)for(const[i,n]of Object.entries(t)){if(!i||!i.length||null==n)continue;const s=XL(i),r=n.toString(),o=r.replace(/\s*!important/g,"");e.style.setProperty(s,o,o.length!=r.length?"important":void 0)}}function TN(e){return e.clientWidth<e.scrollWidth}function AN(e){return e.clientHeight<e.scrollHeight}function Eu(e,t){"flex"===t?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):Fn(e,t)}function Fn(e,t){t=Bm(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function PX(e,t){"flex"===t?(e.style.removeProperty("height"),e.style.removeProperty("minHeight"),e.style.removeProperty("maxHeight"),e.style.flex="1 1 auto"):No(e,t)}function No(e,t){t=Bm(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function Bm(e){return"number"==typeof e?`${e}px`:e}function Du(e){return e instanceof Node||e instanceof HTMLElement}function MN(e){if(null==e)return[];const t=[];return U_(e,i=>t.push(i)),t}function IN(e,t){if(e)for(let i=0;i<e.length;i++){const n=e[i];t(n.name,n.value)}}function Ts(e,t,i){null==i?e.removeAttribute(t):e.setAttribute(t,i.toString())}function U_(e,t){if(null!=e)for(let i=0;i<e.length;i++)t(e[i])}function z_(e,t){e.then(i=>{const n=i.getGui();null!=n&&("object"==typeof n?t.appendChild(n):t.innerHTML=n)})}var FN={};function ON(e,t,i){const n={},s=e.filter(r=>!t.some(o=>o===r));return s.length>0&&s.forEach(r=>n[r]=xu(r,i).values),n}function xu(e,t,i,n){let s=t.map((a,l)=>({value:a,relevance:LX(e.toLowerCase(),a.toLocaleLowerCase()),idx:l}));if(s.sort((a,l)=>l.relevance-a.relevance),i&&(s=s.filter(a=>0!==a.relevance)),s.length>0&&n&&n>0){const l=s[0].relevance*n;s=s.filter(d=>l-d.relevance<0)}const r=[],o=[];for(const a of s)r.push(a.value),o.push(a.idx);return{values:r,indices:o}}function LX(e,t){const i=e.replace(/\s/g,""),n=t.replace(/\s/g,"");let s=0,r=-1;for(let o=0;o<i.length;o++){const a=n.indexOf(i[o],r+1);-1!==a&&(r=a,s+=100-100*r/1e4*100)}return s}Zt(FN,{fuzzyCheckStrings:()=>ON,fuzzySuggestions:()=>xu});var PN={};Zt(PN,{createIcon:()=>On,createIconNoSpan:()=>ct,iconNameClassMap:()=>LN});var LN={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus"};function On(e,t,i){const n=ct(e,t,i);if(n){const{className:r}=n;if("string"==typeof r&&r.indexOf("ag-icon")>-1||"object"==typeof r&&r["ag-icon"])return n}const s=document.createElement("span");return s.appendChild(n),s}function ct(e,t,i,n){let s=null;const r=i&&i.getColDef().icons;if(r&&(s=r[e]),t&&!s){const o=t.get("icons");o&&(s=o[e])}if(!s){const o=document.createElement("span");let a=LN[e];return a||(n?a=e:(console.warn(`AG Grid: Did not find icon ${e}`),a="")),o.setAttribute("class",`ag-icon ag-icon-${a}`),o.setAttribute("unselectable","on"),ht(o,"presentation"),o}{let o;if("function"==typeof s)o=s();else{if("string"!=typeof s)throw new Error("icon from grid options needs to be a string or a function");o=s}if("string"==typeof o)return qi(o);if(Du(o))return o;console.warn("AG Grid: iconRenderer should return back a string or a dom object")}}var NN={};Zt(NN,{isDeleteKey:()=>GN,isEventFromPrintableCharacter:()=>Um,isUserSuppressingHeaderKeyboardEvent:()=>kN,isUserSuppressingKeyboardEvent:()=>zm,normaliseQwertyAzerty:()=>VN});var S=class{};S.BACKSPACE="Backspace",S.TAB="Tab",S.ENTER="Enter",S.ESCAPE="Escape",S.SPACE=" ",S.LEFT="ArrowLeft",S.UP="ArrowUp",S.RIGHT="ArrowRight",S.DOWN="ArrowDown",S.DELETE="Delete",S.F2="F2",S.PAGE_UP="PageUp",S.PAGE_DOWN="PageDown",S.PAGE_HOME="Home",S.PAGE_END="End",S.A="KeyA",S.C="KeyC",S.D="KeyD",S.V="KeyV",S.X="KeyX",S.Y="KeyY",S.Z="KeyZ";var NX=65,kX=67,VX=86,GX=68,HX=90,BX=89;function Um(e){return!(e.altKey||e.ctrlKey||e.metaKey)&&1===e.key.length}function zm(e,t,i,n,s){const r=n?n.getColDef().suppressKeyboardEvent:void 0;if(!r)return!1;const o=e.addGridCommonParams({event:t,editing:s,column:n,node:i,data:i.data,colDef:n.getColDef()});return!(!r||!r(o))}function kN(e,t,i,n){const s=n.getDefinition(),r=s&&s.suppressHeaderKeyboardEvent;return!!R(r)&&!!r(e.addGridCommonParams({colDef:s,column:n,headerRowIndex:i,event:t}))}function VN(e){const{keyCode:t}=e;let i;switch(t){case NX:i=S.A;break;case kX:i=S.C;break;case VX:i=S.V;break;case GX:i=S.D;break;case HX:i=S.Z;break;case BX:i=S.Y;break;default:i=e.code}return i}function GN(e,t=!1){return e===S.DELETE||!t&&e===S.BACKSPACE&&T_()}var HN={};function W_(e,t,i){if(0===i)return!1;const n=Math.abs(e.clientX-t.clientX),s=Math.abs(e.clientY-t.clientY);return Math.max(n,s)<=i}Zt(HN,{areEventsNear:()=>W_});var BN={};function UX(e,t){if(!e)return!1;const i=(o,a)=>{const l=t[o.id],d=t[a.id],c=void 0!==l,u=void 0!==d;return c&&u?l-d:c||u?c?1:-1:o.__objectId-a.__objectId};let n,s,r=!1;for(let o=0;o<e.length-1;o++)if(n=e[o],s=e[o+1],i(n,s)>0){r=!0;break}return!!r&&(e.sort(i),!0)}Zt(BN,{sortRowNodesByOrder:()=>UX});var UN={};function j_(e){const t=new Set;return e.forEach(i=>t.add(i)),t}Zt(UN,{convertToSet:()=>j_});var fe=z(z(z(z(z(z(z(z(z(z(z(z(z(z(z(z(z(z({},eN),GL),mN),yN),EN),VL),ML),FN),RL),PN),NN),JL),HN),_N),TL),BN),UN),QL),Wl=class{constructor(e=0,t=1){this.nextValue=e,this.step=t}next(){const e=this.nextValue;return this.nextValue+=this.step,e}peek(){return this.nextValue}skip(e){this.nextValue+=e}},Ki=class Gg{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(i=>this.onDone(i),i=>this.onReject(i))}static all(t){return new Gg(i=>{let n=t.length;const s=new Array(n);t.forEach((r,o)=>{r.then(a=>{s[o]=a,n--,0===n&&i(s)})})})}static resolve(t=null){return new Gg(i=>i(t))}then(t){return new Gg(i=>{1===this.status?i(t(this.resolution)):this.waiters.push(n=>i(t(n)))})}resolveNow(t,i){return 1===this.status?i(this.resolution):t}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(i=>i(t))}onReject(t){console.warn("TBI")}},Ru=class ga extends A{constructor(t,i,n,s){super(),this.parentComp=t,this.tooltipShowDelayOverride=i,this.tooltipHideDelayOverride=n,this.shouldDisplayTooltip=s,this.SHOW_QUICK_TOOLTIP_DIFF=1e3,this.FADE_OUT_TOOLTIP_TIMEOUT=1e3,this.INTERACTIVE_HIDE_DELAY=100,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}postConstruct(){this.gridOptionsService.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gridOptionsService.get("tooltipMouseTrack");const t=this.parentComp.getGui();0===this.tooltipTrigger&&(this.addManagedListener(t,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(t,"mouseleave",this.onMouseLeave.bind(this))),1===this.tooltipTrigger&&(this.addManagedListener(t,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(t,"focusout",this.onFocusOut.bind(this))),this.addManagedListener(t,"mousemove",this.onMouseMove.bind(this)),this.interactionEnabled||(this.addManagedListener(t,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(t,"keydown",this.onKeyDown.bind(this)))}getGridOptionsTooltipDelay(t){const i=this.gridOptionsService.get(t);return i<0&&$(`${t} should not be lower than 0`),Math.max(200,i)}getTooltipDelay(t){var i,n;return"show"===t?null!=(i=this.tooltipShowDelayOverride)?i:this.getGridOptionsTooltipDelay("tooltipShowDelay"):null!=(n=this.tooltipHideDelayOverride)?n:this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const t=this.gridOptionsService.get("tooltipTrigger");return t&&"hover"!==t?1:0}onMouseEnter(t){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!ar()&&(ga.isLocked?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(t)},this.INTERACTIVE_HIDE_DELAY):this.prepareToShowTooltip(t))}onMouseMove(t){this.lastMouseEvent&&(this.lastMouseEvent=t),this.tooltipMouseTrack&&2===this.state&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(t){var i;const n=t.relatedTarget,s=this.parentComp.getGui(),r=null==(i=this.tooltipComp)?void 0:i.getGui();this.isInteractingWithTooltip||s.contains(n)||this.interactionEnabled&&r?.contains(n)||this.setToDoNothing()}onKeyDown(){this.setToDoNothing()}prepareToShowTooltip(t){if(0!=this.state||ga.isLocked)return;let i=0;t&&(i=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=t||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),i),this.state=1}isLastTooltipHiddenRecently(){return(new Date).getTime()-ga.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF}setToDoNothing(){2===this.state&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const t=z({},this.parentComp.getTooltipParams());if(!R(t.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip())return void this.setToDoNothing();this.state=2,this.tooltipInstanceCount++;const i=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(t).newAgStackInstance().then(i)}hideTooltip(t){if(!t&&this.isInteractingWithTooltip)return;this.tooltipComp&&(this.destroyTooltipComp(),ga.lastTooltipHideTime=(new Date).getTime());const i={type:f.EVENT_TOOLTIP_HIDE,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(i),this.state=0}newTooltipComponentCallback(t,i){if(2!==this.state||this.tooltipInstanceCount!==t)return void this.getContext().destroyBean(i);const s=i.getGui();this.tooltipComp=i,s.classList.contains("ag-tooltip")||s.classList.add("ag-tooltip-custom"),0===this.tooltipTrigger&&s.classList.add("ag-tooltip-animate"),this.interactionEnabled&&s.classList.add("ag-tooltip-interactive");const r=this.localeService.getLocaleTextFunc(),o=this.popupService.addPopup({eChild:s,ariaLabel:r("ariaLabelTooltip","Tooltip")});o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltip(),1===this.tooltipTrigger&&(this.onBodyScrollEventCallback=this.addManagedListener(this.eventService,f.EVENT_BODY_SCROLL,this.setToDoNothing.bind(this)),this.onColumnMovedEventCallback=this.addManagedListener(this.eventService,f.EVENT_COLUMN_MOVED,this.setToDoNothing.bind(this))),this.interactionEnabled&&(0===this.tooltipTrigger?(this.tooltipMouseEnterListener=this.addManagedListener(s,"mouseenter",this.onTooltipMouseEnter.bind(this))||null,this.tooltipMouseLeaveListener=this.addManagedListener(s,"mouseleave",this.onTooltipMouseLeave.bind(this))||null):(this.tooltipFocusInListener=this.addManagedListener(s,"focusin",this.onTooltipFocusIn.bind(this))||null,this.tooltipFocusOutListener=this.addManagedListener(s,"focusout",this.onTooltipFocusOut.bind(this))||null));const a={type:f.EVENT_TOOLTIP_SHOW,tooltipGui:s,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(a),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isInteractingWithTooltip=!1,this.lockService()}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}onTooltipFocusOut(t){var i;const n=this.parentComp.getGui(),s=null==(i=this.tooltipComp)?void 0:i.getGui(),r=t.relatedTarget;s?.contains(r)||(this.isInteractingWithTooltip=!1,n.contains(r)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const t={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(ot(z({},t),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(ot(z({},t),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const t=this.tooltipPopupDestroyFunc,i=this.tooltipComp;window.setTimeout(()=>{t(),this.getContext().destroyBean(i)},0===this.tooltipTrigger?this.FADE_OUT_TOOLTIP_TIMEOUT:0),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(t=>{t&&t()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){ga.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},this.INTERACTIVE_HIDE_DELAY)}unlockService(){ga.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};Ru.isLocked=!1,h([g("popupService")],Ru.prototype,"popupService",2),h([g("userComponentFactory")],Ru.prototype,"userComponentFactory",2),h([I],Ru.prototype,"postConstruct",1);var $X=Ru,lr=class extends A{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshToolTip()}setBrowserTooltip(e){const t="title",i=this.ctrl.getGui();i&&(null!=e&&""!=e?i.setAttribute(t,e):i.removeAttribute(t))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){var e,t,i,n;null==this.tooltipManager&&(this.tooltipManager=this.createBean(new $X({getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()},null==(t=(e=this.ctrl).getTooltipShowDelayOverride)?void 0:t.call(e),null==(n=(i=this.ctrl).getTooltipHideDelayOverride)?void 0:n.call(i),this.ctrl.shouldDisplayTooltip),this.beans.context))}refreshToolTip(){this.browserTooltips=this.beans.gridOptionsService.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){const e=this.ctrl,t=e.getColumn?e.getColumn():void 0,i=e.getColDef?e.getColDef():void 0,n=e.getRowNode?e.getRowNode():void 0;return{location:e.getLocation(),colDef:i,column:t,rowIndex:e.getRowIndex?e.getRowIndex():void 0,node:n,data:n?n.data:void 0,value:this.getTooltipText(),valueFormatted:e.getValueFormatted?e.getValueFormatted():void 0,hideTooltipCallback:()=>{var s;return null==(s=this.tooltipManager)?void 0:s.hideTooltip(!0)}}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}};h([g("beans")],lr.prototype,"beans",2),h([I],lr.prototype,"postConstruct",1);var qX=new Wl,Tu=class rE extends A{constructor(t){super(),this.displayed=!0,this.visible=!0,this.compId=qX.next(),this.cssClassManager=new class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){const t=(e||"").split(" ");if(t.length>1)t.forEach(n=>this.addCssClass(n));else if(!0!==this.cssClassStates[e]&&e.length){const n=this.getGui();n&&n.classList.add(e),this.cssClassStates[e]=!0}}removeCssClass(e){const t=(e||"").split(" ");if(t.length>1)t.forEach(n=>this.removeCssClass(n));else if(!1!==this.cssClassStates[e]&&e.length){const n=this.getGui();n&&n.classList.remove(e),this.cssClassStates[e]=!1}}containsCssClass(e){const t=this.getGui();return!!t&&t.classList.contains(e)}addOrRemoveCssClass(e,t){if(e){if(e.indexOf(" ")>=0){const n=(e||"").split(" ");if(n.length>1)return void n.forEach(s=>this.addOrRemoveCssClass(s,t))}if(this.cssClassStates[e]!==t&&e.length){const n=this.getGui();n&&n.classList.toggle(e,t),this.cssClassStates[e]=t}}}}(()=>this.eGui),t&&this.setTemplate(t)}preConstructOnComponent(){this.usingBrowserTooltips=this.gridOptionsService.get("enableBrowserTooltips")}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(t){const{newTooltipText:i,showDelayOverride:n,hideDelayOverride:s,location:r,shouldDisplayTooltip:o}=t||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==i&&(this.tooltipText=i),null!=i&&(this.tooltipFeature=this.createBean(new lr({getTooltipValue:()=>this.tooltipText,getGui:()=>this.getGui(),getLocation:()=>r??"UNKNOWN",getTooltipShowDelayOverride:null!=n?()=>n:void 0,getTooltipHideDelayOverride:null!=s?()=>s:void 0,shouldDisplayTooltip:o})))}createChildComponentsFromTags(t,i){MN(t.childNodes).forEach(s=>{if(!(s instanceof HTMLElement))return;const r=this.createComponentFromElement(s,o=>{o.getGui()&&this.copyAttributesFromNode(s,o.getGui())},i);if(r){if(r.addItems&&s.children.length){this.createChildComponentsFromTags(s,i);const o=Array.prototype.slice.call(s.children);r.addItems(o)}this.swapComponentForNode(r,t,s)}else s.childNodes&&this.createChildComponentsFromTags(s,i)})}createComponentFromElement(t,i,n){const s=t.nodeName,r=n?n[t.getAttribute("ref")]:void 0,o=this.agStackComponentsRegistry.getComponentClass(s);if(o){rE.elementGettingCreated=t;const a=new o(r);return a.setParentComponent(this),this.createBean(a,null,i),a}return null}copyAttributesFromNode(t,i){IN(t.attributes,(n,s)=>i.setAttribute(n,s))}swapComponentForNode(t,i,n){const s=t.getGui();i.replaceChild(s,n),i.insertBefore(document.createComment(n.nodeName),s),this.addDestroyFunc(this.destroyBean.bind(this,t)),this.swapInComponentForQuerySelectors(t,n)}swapInComponentForQuerySelectors(t,i){const n=this;this.iterateOverQuerySelectors(s=>{n[s.attributeName]===i&&(n[s.attributeName]=t)})}iterateOverQuerySelectors(t){let i=Object.getPrototypeOf(this);for(;null!=i;){const n=i.__agComponentMetaData,s=Em(i.constructor);n&&n[s]&&n[s].querySelectors&&n[s].querySelectors.forEach(r=>t(r)),i=Object.getPrototypeOf(i)}}activateTabIndex(t){const i=this.gridOptionsService.get("tabIndex");t||(t=[]),t.length||t.push(this.getGui()),t.forEach(n=>n.setAttribute("tabindex",i.toString()))}setTemplate(t,i){const n=qi(t);this.setTemplateFromElement(n,i)}setTemplateFromElement(t,i){this.eGui=t,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),i)}createChildComponentsPreConstruct(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())}wireQuerySelectors(){if(!this.eGui)return;const t=this;this.iterateOverQuerySelectors(i=>{const n=r=>t[i.attributeName]=r;if(i.refSelector&&this.getAttribute("ref")===i.refSelector)n(this.eGui);else{const r=this.eGui.querySelector(i.querySelector);r&&n(r.__agComponent||r)}})}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(t){this.parentComponent=t}getParentComponent(){return this.parentComponent}setGui(t){this.eGui=t}queryForHtmlElement(t){return this.eGui.querySelector(t)}queryForHtmlInputElement(t){return this.eGui.querySelector(t)}appendChild(t,i){null!=t&&(i||(i=this.eGui),Du(t)?i.appendChild(t):i.appendChild(t.getGui()))}isDisplayed(){return this.displayed}setVisible(t,i={}){if(t!==this.visible){this.visible=t;const{skipAriaHidden:n}=i;xN(this.eGui,t,{skipAriaHidden:n})}}setDisplayed(t,i={}){if(t!==this.displayed){this.displayed=t;const{skipAriaHidden:n}=i;we(this.eGui,t,{skipAriaHidden:n}),this.dispatchEvent({type:rE.EVENT_DISPLAYED_CHANGED,visible:this.displayed})}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const t=this.eGui;t&&t.__agComponent&&(t.__agComponent=void 0),super.destroy()}addGuiEventListener(t,i,n){this.eGui.addEventListener(t,i,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(t,i))}addCssClass(t){this.cssClassManager.addCssClass(t)}removeCssClass(t){this.cssClassManager.removeCssClass(t)}containsCssClass(t){return this.cssClassManager.containsCssClass(t)}addOrRemoveCssClass(t,i){this.cssClassManager.addOrRemoveCssClass(t,i)}getAttribute(t){const{eGui:i}=this;return i?i.getAttribute(t):null}getRefElement(t){return this.queryForHtmlElement(`[ref="${t}"]`)}};Tu.EVENT_DISPLAYED_CHANGED="displayedChanged",h([g("agStackComponentsRegistry")],Tu.prototype,"agStackComponentsRegistry",2),h([LL],Tu.prototype,"preConstructOnComponent",1),h([LL],Tu.prototype,"createChildComponentsPreConstruct",1);var ee=Tu;function N(e){return zN.bind(this,`[ref=${e}]`,e)}function zN(e,t,i,n,s){null!==e?"number"!=typeof s?function KX(e,t,i){const n=function YX(e,t){return e.__agComponentMetaData||(e.__agComponentMetaData={}),e.__agComponentMetaData[t]||(e.__agComponentMetaData[t]={}),e.__agComponentMetaData[t]}(e,Em(e.constructor));n[t]||(n[t]=[]),n[t].push(i)}(i,"querySelectors",{attributeName:n,querySelector:e,refSelector:t}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}var $_=class extends ee{constructor(){super('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')}destroy(){super.destroy()}init(e){this.params=e;const t=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${i("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){null!=e?this.params.parentFilterInstance(t=>{if(t.getModelAsString){const i=t.getModelAsString(e);this.eFloatingFilterText.setValue(i)}}):this.eFloatingFilterText.setValue("")}onParamsUpdated(e){this.refresh(e)}refresh(e){this.init(e)}};h([N("eFloatingFilterText")],$_.prototype,"eFloatingFilterText",2),h([g("columnModel")],$_.prototype,"columnModel",2);var WN=class{constructor(e,t,i,n){this.alive=!0,this.context=e,this.eParent=n,t.getDateCompDetails(i).newAgStackInstance().then(o=>{this.alive?(this.dateComp=o,o&&(n.appendChild(o.getGui()),o.afterGuiAttached&&o.afterGuiAttached(),this.tempValue&&o.setDate(this.tempValue),null!=this.disabled&&this.setDateCompDisabled(this.disabled))):e.destroyBean(o)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}setDisabled(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}setDisplayed(e){we(this.eParent,e)}setInputPlaceholder(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}setInputAriaLabel(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}afterGuiAttached(e){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(e)}updateParams(e){var t,i;let n=!1;null!=(t=this.dateComp)&&t.refresh&&"function"==typeof this.dateComp.refresh&&null!==this.dateComp.refresh(e)&&(n=!0),!n&&null!=(i=this.dateComp)&&i.onParamsUpdated&&"function"==typeof this.dateComp.onParamsUpdated&&null!==this.dateComp.onParamsUpdated(e)&&$("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}setDateCompDisabled(e){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(e)}},jN=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(e=>{"string"!=typeof e&&([["displayKey"],["displayName"],["predicate","test"]].every(n=>!!n.some(s=>null!=e[s])||(console.warn(`AG Grid: ignoring FilterOptionDef as it doesn't contain one of '${n}'`),!1))?this.customFilterOptions[e.displayKey]=e:this.filterOptions=this.filterOptions.filter(n=>n===e)||[])})}selectDefaultItem(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){const t=this.filterOptions[0];"string"==typeof t?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(e){return this.customFilterOptions[e]}},$N={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},Wm=class U1 extends A{constructor(t,i={}){super(),this.eFocusableElement=t,this.callbacks=i,this.callbacks=z({shouldStopEventPropagation:()=>!1,onTabKeyDown:n=>{if(n.defaultPrevented)return;const s=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,n.shiftKey);s&&(s.focus(),n.preventDefault())}},i)}postConstruct(){this.eFocusableElement.classList.add(U1.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)}addKeyDownListeners(t){this.addManagedListener(t,"keydown",i=>{if(!i.defaultPrevented&&!ts(i)){if(this.callbacks.shouldStopEventPropagation(i))return void es(i);i.key===S.TAB?this.callbacks.onTabKeyDown(i):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(i)}})}};Wm.FOCUS_MANAGED_CLASS="ag-focus-managed",h([g("focusService")],Wm.prototype,"focusService",2),h([I],Wm.prototype,"postConstruct",1);var Br=Wm,qN="ag-resizer-wrapper",QX=`<div class="${qN}">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>`,jl=class extends A{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,i=t/2-this.getWidth()/2,n=e/2-this.getHeight()/2;this.offsetElement(i,n)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:i,width:n,minHeight:s,height:r,x:o,y:a}=this.config;this.offsetParent||this.setOffsetParent();let l=0,d=0;const c=hn(this.element);if(c){const u=this.findBoundaryElement(),p=window.getComputedStyle(u);if(null!=p.minWidth){const m=u.offsetWidth-this.element.offsetWidth;d=parseInt(p.minWidth,10)-m}if(null!=p.minHeight){const m=u.offsetHeight-this.element.offsetHeight;l=parseInt(p.minHeight,10)-m}}if(this.minHeight=s||l,this.minWidth=i||d,n&&this.setWidth(n),r&&this.setHeight(r),(!n||!r)&&this.refreshSize(),e)this.center();else if(o||a)this.offsetElement(o,a);else if(c&&t){let u=this.boundaryEl,p=!0;if(u||(u=this.findBoundaryElement(),p=!1),u){const m=parseFloat(u.style.top),v=parseFloat(u.style.left);p?this.offsetElement(isNaN(v)?0:v,isNaN(m)?0:m):this.setPosition(v,m)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const i=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(i),this.moveElementDragListener=i):(this.dragService.removeDragSource(i),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),"boolean"==typeof e){if(!1===e)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{const n=!!e[t],s=this.getResizerElement(t),r={dragStartPixels:0,eElement:s,onDragStart:o=>this.onResizeStart(o,t),onDragging:this.onResize.bind(this),onDragStop:o=>this.onResizeEnd(o,t)};(n||!this.isAlive()&&!n)&&(n?(this.dragService.addDragSource(r),this.resizeListeners.push(r),s.style.pointerEvents="all"):s.style.pointerEvents="none",this.resizable[t]=n)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;-1!==t&&(this.element.style.width=`${t}px`),-1!==e&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,i=this.element;let n=!1;if("string"==typeof e&&-1!==e.indexOf("%"))No(i,e),e=N_(i),n=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const s=this.getAvailableHeight();s&&e>s&&(e=s)}this.getHeight()!==e&&(n?(i.style.maxHeight="unset",i.style.minHeight="unset"):t?No(i,e):(i.style.height=`${e}px`,i.style.flex="0 0 auto",this.lastSize.height="number"==typeof e?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:i}=this.offsetParent;if(!i)return null;const n=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),r=e?this.position.y:n.top,o=e?0:s.top;let a=0;if(t){const d=this.element.parentElement;if(d){const{bottom:c}=d.getBoundingClientRect();a=c-n.bottom}}return i+o-r-a}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:i}=this.config;let n=!1;if("string"==typeof e&&-1!==e.indexOf("%"))Fn(t,e),e=wu(t),n=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:s}=this.offsetParent,r=i?this.position.x:this.element.getBoundingClientRect().left;s&&e+r>s&&(e=s-r)}this.getWidth()!==e&&(n?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?Fn(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width="number"==typeof e?e:parseFloat(e)))}offsetElement(e=0,t=0){const{forcePopupParentAsOffsetParent:i}=this.config,n=i?this.boundaryEl:this.element;n&&(this.popupService.positionPopup({ePopup:n,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(n.style.left),parseFloat(n.style.top)))}constrainSizeToAvailableHeight(e){this.config.forcePopupParentAsOffsetParent&&(e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),()=>{const i=this.getAvailableHeight();this.element.style.setProperty("max-height",`${i}px`)}):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0)))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:i,isTop:n,anywhereWithin:s,topBuffer:r}=e,o=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(t,!!i,!!s,o)?0:o,movementY:this.shouldSkipY(t,!!n,r,a)?0:a}}shouldSkipX(e,t,i,n){const s=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:s.left;let l=a<=0&&r.left>=e.clientX||r.right<=e.clientX&&r.right<=o.right;return!!l||(l=t?n<0&&e.clientX>a+r.left||n>0&&e.clientX<a+r.left:i?n<0&&e.clientX>o.right||n>0&&e.clientX<a+r.left:n<0&&e.clientX>o.right||n>0&&e.clientX<o.right,l)}shouldSkipY(e,t,i=0,n){const s=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:s.top;let l=a<=0&&r.top>=e.clientY||r.bottom<=e.clientY&&r.bottom<=o.bottom;return!!l||(l=t?n<0&&e.clientY>a+r.top+i||n>0&&e.clientY<a+r.top:n<0&&e.clientY>o.bottom||n>0&&e.clientY<o.bottom,l)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const i=(new DOMParser).parseFromString(QX,"text/html").body;e.appendChild(i.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${qN}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:i,forcePopupParentAsOffsetParent:n}=this.config;!i&&!n&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(i=>!i.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,i=0;for(let n=0;n<e.length;n++){const s=e[n],r=!!s.style.flex&&"0 0 auto"!==s.style.flex;if(s===this.element)continue;let o=this.minHeight||0,a=this.minWidth||0;if(r){const l=window.getComputedStyle(s);l.minHeight&&(o=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else o=s.offsetHeight,a=s.offsetWidth;t+=o,i+=a}return{height:t,width:i}}applySizeToSiblings(e){let t=null;const i=this.getSiblings();if(i){for(let n=0;n<i.length;n++){const s=i[n];s!==t&&(e?s.style.height=`${s.offsetHeight}px`:s.style.width=`${s.offsetWidth}px`,s.style.flex="0 0 auto",s===this.element&&(t=i[n+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:i}=this.config,{isTop:n,isRight:s,isBottom:r,isLeft:o}=this.currentResizer,a=s||o,l=r||n,{movementX:d,movementY:c}=this.calculateMouseMovement({e,isLeft:o,isTop:n}),u=this.position.x,p=this.position.y;let m=0,v=0;if(a&&d){const C=o?-1:1,b=this.getWidth(),y=b+d*C;let w=!1;o&&(m=b-y,(u+m<=0||y<=this.minWidth)&&(w=!0,m=0)),w||this.setWidth(y)}if(l&&c){const C=n?-1:1,b=this.getHeight(),y=b+c*C;let w=!1;n?(v=b-y,(p+v<=0||y<=this.minHeight)&&(w=!0,v=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&b<y&&this.getMinSizeOfSiblings().height+y>this.element.parentElement.offsetHeight&&(w=!0),w||this.setHeight(y)}this.updateDragStartPosition(e.clientX,e.clientY),((t||i)&&m||v)&&this.offsetElement(u+m,p+v)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:i}=this.position;let n;this.config.calculateTopBuffer&&(n=this.config.calculateTopBuffer());const{movementX:s,movementY:r}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:n});this.offsetElement(t+s,i+r),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.offsetParent=this.config.forcePopupParentAsOffsetParent?this.popupService.getPopupParent():this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if("static"!==window.getComputedStyle(e).position)return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}};h([g("popupService")],jl.prototype,"popupService",2),h([g("resizeObserverService")],jl.prototype,"resizeObserverService",2),h([g("dragService")],jl.prototype,"dragService",2);var jm=class gh extends ee{constructor(t){super(),this.filterNameKey=t,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.buttonListeners=[]}postConstruct(){this.resetTemplate(),this.createManagedBean(new Br(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new jl(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(t){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(t){let i=this.getGui();i&&i.removeEventListener("submit",this.onFormSubmit);const n=`\n            <form class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" ref="eFilterBody">\n                    ${this.createBodyTemplate()}\n                </div>\n            </form>`;this.setTemplate(n,t),i=this.getGui(),i&&i.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(t){this.setParams(t),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(t){this.providedFilterParams=t,this.applyActive=gh.isUseApplyButton(t),this.resetButtonsPanel()}updateParams(t){this.providedFilterParams=t,this.applyActive=gh.isUseApplyButton(t),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(){const{buttons:t}=this.providedFilterParams,i=t&&t.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(It(this.eButtonsPanel),this.buttonListeners.forEach(r=>r?.()),this.buttonListeners=[]):i&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!i)return void(this.eButtonsPanel&&ns(this.eButtonsPanel));const n=document.createDocumentFragment(),s=r=>{let o,a;switch(r){case"apply":o=this.translate("applyFilter"),a=c=>this.onBtApply(!1,!1,c);break;case"clear":o=this.translate("clearFilter"),a=()=>this.onBtClear();break;case"reset":o=this.translate("resetFilter"),a=()=>this.onBtReset();break;case"cancel":o=this.translate("cancelFilter"),a=c=>{this.onBtCancel(c)};break;default:return void console.warn("AG Grid: Unknown button type specified")}const d=qi(`<button\n                    type="${"apply"===r?"submit":"button"}"\n                    ref="${r}FilterButton"\n                    class="ag-button ag-standard-button ag-filter-apply-panel-button"\n                >${o}\n                </button>`);this.buttonListeners.push(this.addManagedListener(d,"click",a)),n.append(d)};j_(t).forEach(r=>s(r)),this.eButtonsPanel.append(n),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const t=gh.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),i=Ii(this.checkApplyDebounce.bind(this),t);this.onBtApplyDebounce=()=>{this.debouncePending=!0,i()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(t){return(null!=t?this.setModelIntoUi(t):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(t){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(t)})}handleCancelEnd(t){this.providedFilterParams.closeOnApply&&this.close(t)}resetUiToActiveModel(t,i){const n=()=>{this.onUiChanged(!1,"prevent"),i?.()};null!=t?this.setModelIntoUi(t).then(n):this.resetUiToDefaults().then(n)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(t="api"){const i=this.getModelFromUi();if(!this.isModelValid(i))return!1;const n=this.appliedModel;return this.appliedModel=i,!this.areModelsEqual(n,i)}isModelValid(t){return!0}onFormSubmit(t){t.preventDefault()}onBtApply(t=!1,i=!1,n){n&&n.preventDefault(),this.applyModel(i?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:t,afterDataChange:i,source:"columnFilter"});const{closeOnApply:s}=this.providedFilterParams;s&&this.applyActive&&!t&&!i&&this.close(n)}onNewRowsLoaded(){}close(t){if(!this.hidePopup)return;const n=t&&t.key;let s;("Enter"===n||"Space"===n)&&(s={keyboardEvent:t}),this.hidePopup(s),this.hidePopup=null}onUiChanged(t=!1,i){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const n=this.isModelValid(this.getModelFromUi()),s=this.getRefElement("applyFilterButton");s&&zl(s,!n)}t&&!i||"immediately"===i?this.onBtApply(t):(!this.applyActive&&!i||"debounce"===i)&&this.onBtApplyDebounce()}afterGuiAttached(t){t&&(this.hidePopup=t.hidePopup),this.refreshFilterResizer(t?.container)}refreshFilterResizer(t){if(!this.positionableFeature||"toolPanel"===t)return;const i="floatingFilter"===t||"columnFilter"===t,{positionableFeature:n,gridOptionsService:s}=this;i?(n.restoreLastSize(),n.setResizable(s.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}static getDebounceMs(t,i){return gh.isUseApplyButton(t)?(null!=t.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=t.debounceMs?t.debounceMs:i}static isUseApplyButton(t){return!!t.buttons&&t.buttons.indexOf("apply")>=0}refresh(t){return this.providedFilterParams=t,!0}destroy(){const t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(t){return this.localeService.getLocaleTextFunc()(t,$N[t])}getCellValue(t){return this.providedFilterParams.getValue(t)}getPositionableElement(){return this.eFilterBody}};h([g("rowModel")],jm.prototype,"rowModel",2),h([N("eFilterBody")],jm.prototype,"eFilterBody",2),h([I],jm.prototype,"postConstruct",1);var $m=jm,q_=class extends ee{constructor(e,t){super(t),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:i,labelAlignment:n,disabled:s}=this.config;null!=s&&this.setDisabled(s),null!=e&&this.setLabelSeparator(e),null!=t&&this.setLabel(t),null!=i&&this.setLabelWidth(i),this.setLabelAlignment(n||this.labelAlignment),this.refreshLabel()}refreshLabel(){It(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(we(this.eLabel,!1),ht(this.eLabel,"presentation")):(we(this.eLabel,!0),ht(this.eLabel,null))}setLabelSeparator(e){return this.labelSeparator===e||(this.labelSeparator=e,null!=this.label&&this.refreshLabel()),this}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(e){return this.label===e||(this.label=e,this.refreshLabel()),this}setLabelAlignment(e){const i=this.getGui().classList;return i.toggle("ag-label-align-left","left"===e),i.toggle("ag-label-align-right","right"===e),i.toggle("ag-label-align-top","top"===e),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return null==this.label||Eu(this.eLabel,e),this}setDisabled(e){e=!!e;const t=this.getGui();return zl(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}};h([I],q_.prototype,"postConstruct",1);var KN=class extends q_{constructor(e,t,i){super(e,t),this.className=i}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:i}=this.config;null!=e&&this.setWidth(e),null!=t&&this.setValue(t),null!=i&&this.onValueChange(i),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId();null!==sN(e)?Om(e,""):Om(e,t??"")}setAriaLabel(e){return is(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListener(this,f.EVENT_FIELD_VALUE_CHANGED,()=>e(this.getValue())),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return Fn(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e||(this.previousValue=this.value,this.value=e,t||this.dispatchEvent({type:f.EVENT_FIELD_VALUE_CHANGED})),this}},ko=class extends KN{constructor(e){if(super(e,e?.template||'\n    <div class="ag-picker-field" role="presentation">\n        <div ref="eLabel"></div>\n            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">\n            <div ref="eDisplayField" class="ag-picker-field-display"></div>\n            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n        </div>\n    </div>',e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:i,variableWidth:n,minPickerWidth:s,maxPickerWidth:r}=e;null!=t&&(this.pickerGap=t),this.variableWidth=!!n,null!=i&&this.setPickerMaxHeight(i),null!=s&&this.setPickerMinWidth(s),null!=r&&this.setPickerMaxWidth(r)}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedListener(t,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(this.eLabel,"mousedown",this.onLabelOrWrapperMouseDown.bind(this)),this.addManagedListener(this.eWrapper,"mousedown",this.onLabelOrWrapperMouseDown.bind(this));const{pickerIcon:i,inputWidth:n}=this.config;if(i){const s=ct(i,this.gridOptionsService);s&&this.eIcon.appendChild(s)}null!=n&&this.setInputWidth(n)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gridOptionsService.get("tabIndex").toString()),or(e,!1),this.ariaRole&&ht(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&e?.target===t)return;e.preventDefault(),this.getFocusableElement().focus()}this.skipClick?this.skipClick=!1:this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case S.UP:case S.DOWN:case S.ENTER:case S.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case S.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker())}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.gridOptionsService.getDocument(),t=this.pickerComponent.getGui();this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")||(this.destroyMouseWheelFunc=this.addManagedListener(this.eventService,f.EVENT_BODY_SCROLL,()=>{this.hidePicker()}));const i=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:n,pickerAriaLabelValue:s,modalPicker:r=!0}=this.config,o={modal:r,eChild:t,closeOnEsc:!0,closedCallback:()=>{const m=e.activeElement===e.body;this.beforeHidePicker(),m&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:i(n,s)},a=this.popupService.addPopup(o),{maxPickerHeight:l,minPickerWidth:d,maxPickerWidth:c,variableWidth:u}=this;u?(d&&(t.style.minWidth=d),t.style.width=Bm(wu(this.eWrapper)),c&&(t.style.maxWidth=c)):Eu(t,c??wu(this.eWrapper));const p=l??`${bu(this.popupService.getPopupParent())}px`;return t.style.setProperty("max-height",p),t.style.position="absolute",this.alignPickerToComponent(),a.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerType:e}=this.config,{pickerGap:t}=this,i=this.gridOptionsService.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:i,keepWithinBounds:!0,nudgeY:t})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){this.isAlive()&&(or(this.getAriaElement(),e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e))}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){var t;null!=(t=this.pickerComponent)&&t.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(e){return Eu(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return"number"==typeof e&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return"number"==typeof e&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return"number"==typeof e&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}};h([g("popupService")],ko.prototype,"popupService",2),h([N("eLabel")],ko.prototype,"eLabel",2),h([N("eWrapper")],ko.prototype,"eWrapper",2),h([N("eDisplayField")],ko.prototype,"eDisplayField",2),h([N("eIcon")],ko.prototype,"eIcon",2);var qm=class Hg extends ee{constructor(t="default",i=!1){super(`<div class="ag-list ag-${t}-list" role="listbox"></div>`),this.cssIdentifier=t,this.unFocusable=i,this.options=[],this.itemEls=[]}init(){const t=this.getGui();this.addManagedListener(t,"mouseleave",()=>this.clearHighlighted()),!this.unFocusable&&this.addManagedListener(t,"keydown",this.handleKeyDown.bind(this))}handleKeyDown(t){const i=t.key;switch(i){case S.ENTER:if(this.highlightedEl){const r=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(r)}else this.setValue(this.getValue());break;case S.DOWN:case S.UP:const n=i===S.DOWN;let s;if(t.preventDefault(),this.highlightedEl){let o=this.itemEls.indexOf(this.highlightedEl)+(n?1:-1);o=Math.min(Math.max(o,0),this.itemEls.length-1),s=this.itemEls[o]}else s=this.itemEls[n?0:this.itemEls.length-1];this.highlightItem(s)}}addOptions(t){return t.forEach(i=>this.addOption(i)),this}addOption(t){const{value:i,text:n}=t,s=n||i;return this.options.push({value:i,text:s}),this.renderOption(i,s),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(t=>{ns(t)}),this.itemEls=[]}updateIndices(){const t=this.getGui().querySelectorAll(".ag-list-item");t.forEach((i,n)=>{Lm(i,n+1),Pm(i,t.length)})}renderOption(t,i){const n=this.gridOptionsService.getDocument(),s=n.createElement("div");ht(s,"option"),s.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const r=n.createElement("span");s.appendChild(r),r.innerText=i,this.unFocusable||(s.tabIndex=-1),this.itemEls.push(s),this.addManagedListener(s,"mousemove",()=>this.highlightItem(s)),this.addManagedListener(s,"mousedown",o=>{o.preventDefault(),this.setValue(t)}),this.createManagedBean(new lr({getTooltipValue:()=>i,getGui:()=>s,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>r.scrollWidth>r.clientWidth})),this.getGui().appendChild(s)}setValue(t,i){if(this.value===t)return this.fireItemSelected(),this;if(null==t)return this.reset(i),this;const n=this.options.findIndex(s=>s.value===t);if(-1!==n){const s=this.options[n];this.value=s.value,this.displayValue=s.text,this.highlightItem(this.itemEls[n]),i||this.fireChangeEvent()}return this}setValueByIndex(t){return this.setValue(this.options[t].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const t=this.options.findIndex(i=>i.value===this.value);-1!==t&&this.highlightItem(this.itemEls[t])}reset(t){this.value=null,this.displayValue=null,this.clearHighlighted(),t||this.fireChangeEvent()}highlightItem(t){if(!hn(t))return;this.clearHighlighted(),this.highlightedEl=t,this.highlightedEl.classList.add(Hg.ACTIVE_CLASS),Hl(this.highlightedEl,!0);const i=this.getGui(),n=i.getBoundingClientRect(),s=n.top+i.scrollTop,r=n.height,{offsetTop:o,offsetHeight:a}=t;(o+a>s+r||o<s)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){!this.highlightedEl||!hn(this.highlightedEl)||(this.highlightedEl.classList.remove(Hg.ACTIVE_CLASS),Hl(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchEvent({type:f.EVENT_FIELD_VALUE_CHANGED}),this.fireItemSelected()}fireItemSelected(){this.dispatchEvent({type:Hg.EVENT_ITEM_SELECTED})}};qm.EVENT_ITEM_SELECTED="selectedItem",qm.ACTIVE_CLASS="ag-active-item",h([I],qm.prototype,"init",1);var YN=qm,QN=class z1 extends ko{constructor(t){super(z({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox"},t))}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex");const{options:t,value:i,placeholder:n}=this.config;null!=t&&this.addOptions(t),null!=i&&this.setValue(i,!0),n&&null==i&&(this.eDisplayField.textContent=n),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))}onWrapperFocusOut(t){this.eWrapper.contains(t.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new YN("select",!0)),this.listComponent.setParentComponent(this);const t=this.listComponent.getAriaElement(),i=`ag-select-list-${this.listComponent.getCompId()}`;t.setAttribute("id",i),C_(this.getAriaElement(),t),this.listComponent.addManagedListener(this.listComponent,YN.EVENT_ITEM_SELECTED,()=>{this.hidePicker(),this.dispatchEvent({type:z1.EVENT_ITEM_SELECTED})}),this.listComponent.addManagedListener(this.listComponent,f.EVENT_FIELD_VALUE_CHANGED,()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())})}createPickerComponent(){return this.listComponent}onKeyDown(t){var i;const{key:n}=t;n===S.TAB?this.hidePicker():!this.isPickerDisplayed||n!==S.ENTER&&n!==S.UP&&n!==S.DOWN?super.onKeyDown(t):null==(i=this.listComponent)||i.handleKeyDown(t)}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(t){return t.forEach(i=>this.addOption(i)),this}addOption(t){return this.listComponent.addOption(t),this}clearOptions(){var t;return null==(t=this.listComponent)||t.clearOptions(),this}setValue(t,i,n){if(this.value===t||!this.listComponent)return this;if(n||this.listComponent.setValue(t,!0),this.listComponent.getValue()===this.getValue())return this;let r=this.listComponent.getDisplayValue();return null==r&&this.config.placeholder&&(r=this.config.placeholder),this.eDisplayField.innerHTML=r,this.setTooltip({newTooltipText:r??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(t,i)}destroy(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),super.destroy()}};QN.EVENT_ITEM_SELECTED="selectedItem";var Km=QN,ss=class extends KN{constructor(e,t,i="text",n="input"){super(e,`\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <${n} ref="eInput" class="ag-input-field-input"></${n}>\n                </div>\n            </div>`,t),this.inputType=i,this.displayFieldTag=n}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{inputName:e,inputWidth:t}=this.config;null!=e&&this.setInputName(e),null!=t&&this.setInputWidth(t),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedListener(this.eInput,"input",e=>this.setValue(e.target.value))}setInputType(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return Eu(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){return this.eInput.maxLength=e,this}setInputPlaceholder(e){return Ts(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return is(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return zl(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){return Ts(this.eInput,"autocomplete",!0===e?null:"string"==typeof e?e:"off"),this}};h([N("eLabel")],ss.prototype,"eLabel",2),h([N("eWrapper")],ss.prototype,"eWrapper",2),h([N("eInput")],ss.prototype,"eInput",2);var Ym=class extends ss{constructor(e,t="ag-checkbox",i="checkbox"){super(e,t,i),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;"boolean"==typeof e&&this.setReadOnly(e),"boolean"==typeof t&&this.setPassive(t)}addInputListeners(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))}getNextValue(){return void 0===this.selected||!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){return this.getInputElement().name=e,this}isSelected(){return this.selected}setSelected(e,t){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected="boolean"==typeof e?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=void 0===e,t||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(e,t,i){this.dispatchEvent({type:f.EVENT_FIELD_VALUE_CHANGED,selected:e,previousValue:t,event:i});const n=this.getInputElement();this.eventService.dispatchEvent({type:f.EVENT_CHECKBOX_CHANGED,id:n.id,name:n.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),i=this.selected=e.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,t,e)}refreshSelectedClass(e){this.eWrapper.classList.toggle("ag-checked",!0===e),this.eWrapper.classList.toggle("ag-indeterminate",null==e)}},ZN=class extends Ym{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedListener(this.eventService,f.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))}onChange(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}},K_=class{constructor(e,t,i){this.localeService=e,this.optionsFactory=t,this.valueFormatter=i}getModelAsString(e){if(!e)return null;const t=null!=e.operator,i=this.localeService.getLocaleTextFunc();if(t){const n=e;let{conditions:s}=n;if(!s){const{condition1:a,condition2:l}=n;s=[a,l]}const r=s.map(a=>this.getModelAsString(a)),o="AND"===n.operator?"andCondition":"orCondition";return r.join(` ${i(o,$N[o])} `)}if(e.type===pt.BLANK||e.type===pt.NOT_BLANK)return i(e.type,e.type);{const n=e,s=this.optionsFactory.getCustomOption(n.type),{displayKey:r,displayName:o,numberOfInputs:a}=s||{};return r&&o&&0===a?(i(r,o),o):this.conditionToString(n,s)}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){var t;return this.valueFormatter?null!=(t=this.valueFormatter(e??null))?t:"":String(e)}},Oi=class gd extends $m{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(t){const i=this.optionsFactory.getCustomOption(t);if(i){const{numberOfInputs:s}=i;return s??1}return t&&[gd.EMPTY,gd.NOT_BLANK,gd.BLANK].indexOf(t)>=0?0:t===gd.IN_RANGE?2:1}onFloatingFilterChanged(t,i){this.setTypeFromFloatingFilter(t),this.setValueFromFloatingFilter(i),this.onUiChanged(!0)}setTypeFromFloatingFilter(t){this.eTypes.forEach((i,n)=>{i.setValue(0===n?t:this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){const t=this.getUiCompleteConditions();return 0===t.length?null:this.maxNumConditions>1&&t.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:t[0],condition2:t[1],conditions:t}:t[0]}getConditionTypes(){return this.eTypes.map(t=>t.getValue())}getConditionType(t){return this.eTypes[t].getValue()}getJoinOperator(){return 0===this.eJoinOperatorsOr.length?this.defaultJoinOperator:!0===this.eJoinOperatorsOr[0].getValue()?"OR":"AND"}areModelsEqual(t,i){if(!t&&!i)return!0;if(!t&&i||t&&!i)return!1;const n=!t.operator,s=!i.operator;if(!n&&s||n&&!s)return!1;let o;return o=n?this.areSimpleModelsEqual(t,i):t.operator===i.operator&&Ds(t.conditions,i.conditions,(d,c)=>this.areSimpleModelsEqual(d,c)),o}shouldRefresh(t){var i,n,s;const r=this.getModel(),o=r?null!=(i=r.conditions)?i:[r]:null,a=null!=(s=null==(n=t.filterOptions)?void 0:n.map(d=>"string"==typeof d?d:d.displayKey))?s:this.getDefaultFilterOptions();return!(o&&!o.every(d=>void 0!==a.find(c=>c===d.type))||"number"==typeof t.maxNumConditions&&o&&o.length>t.maxNumConditions)}refresh(t){return!(!this.shouldRefresh(t)||!super.refresh(t)||(this.setParams(t),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),0))}setModelIntoUi(t){if(t.operator){let n=t;n.conditions||(n.conditions=[n.condition1,n.condition2]);const s=this.validateAndUpdateConditions(n.conditions),r=this.getNumConditions();if(s<r)this.removeConditionsAndOperators(s);else if(s>r)for(let a=r;a<s;a++)this.createJoinOperatorPanel(),this.createOption();const o="OR"===n.operator;this.eJoinOperatorsAnd.forEach(a=>a.setValue(!o,!0)),this.eJoinOperatorsOr.forEach(a=>a.setValue(o,!0)),n.conditions.forEach((a,l)=>{this.eTypes[l].setValue(a.type,!0),this.setConditionIntoUi(a,l)})}else{const n=t;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(n.type,!0),this.setConditionIntoUi(n,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),Ki.resolve()}validateAndUpdateConditions(t){let i=t.length;return i>this.maxNumConditions&&(t.splice(this.maxNumConditions),$('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),i=this.maxNumConditions),i}doesFilterPass(t){var i;const n=this.getModel();if(null==n)return!0;const{operator:s}=n,r=[];return s?r.push(...null!=(i=n.conditions)?i:[]):r.push(n),r[s&&"OR"===s?"some":"every"](a=>this.individualConditionPasses(t,a))}setParams(t){super.setParams(t),this.setNumConditions(t),this.defaultJoinOperator=this.getDefaultJoinOperator(t.defaultJoinOperator),this.filterPlaceholder=t.filterPlaceholder,this.optionsFactory=new jN,this.optionsFactory.init(t,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(t){var i,n;null!=t.suppressAndOrCondition&&$('Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.'),null!=t.alwaysShowBothConditions&&$('Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.'),this.maxNumConditions=null!=(i=t.maxNumConditions)?i:t.suppressAndOrCondition?1:2,this.maxNumConditions<1&&($('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=null!=(n=t.numAlwaysVisibleConditions)?n:t.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&($('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&($('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const t=this.createManagedBean(new Km);this.eTypes.push(t),t.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(t.getGui());const i=this.createValueElement();this.eConditionBodies.push(i),this.eFilterBody.appendChild(i),this.putOptionsIntoDropdown(t),this.resetType(t);const n=this.getNumConditions()-1;this.forEachPositionInput(n,s=>this.resetInput(s)),this.addChangedListeners(t,n)}createJoinOperatorPanel(){const t=document.createElement("div");this.eJoinOperatorPanels.push(t),t.classList.add("ag-filter-condition");const i=this.createJoinOperator(this.eJoinOperatorsAnd,t,"and"),n=this.createJoinOperator(this.eJoinOperatorsOr,t,"or");this.eFilterBody.appendChild(t);const s=this.eJoinOperatorPanels.length-1,r=this.joinOperatorId++;this.resetJoinOperatorAnd(i,s,r),this.resetJoinOperatorOr(n,s,r),this.isReadOnly()||(i.onValueChange(this.listener),n.onValueChange(this.listener))}createJoinOperator(t,i,n){const s=this.createManagedBean(new ZN);return t.push(s),s.addCssClass("ag-filter-condition-operator"),s.addCssClass(`ag-filter-condition-operator-${n}`),i.appendChild(s.getGui()),s}getDefaultJoinOperator(t){return"AND"===t||"OR"===t?t:"AND"}createFilterListOptions(){const t=this.optionsFactory.getFilterOptions();this.filterListOptions=t.map(i=>"string"==typeof i?this.createBoilerplateListOption(i):this.createCustomListOption(i))}putOptionsIntoDropdown(t){this.filterListOptions.forEach(i=>{t.addOption(i)}),t.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(t){return{value:t,text:this.translate(t)}}createCustomListOption(t){const{displayKey:i}=t,n=this.optionsFactory.getCustomOption(t.displayKey);return{value:i,text:n?this.localeService.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(i)}}isAllowTwoConditions(){return this.maxNumConditions>=2}createBodyTemplate(){return""}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const t=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,t)}updateNumConditions(){var t;let i=-1,n=!0;for(let s=0;s<this.getNumConditions();s++)this.isConditionUiComplete(s)?i=s:n=!1;if(this.shouldAddNewConditionAtEnd(n))this.createJoinOperatorPanel(),this.createOption();else{const s=null!=(t=this.lastUiCompletePosition)?t:this.getNumConditions()-2;if(i<s){this.removeConditionsAndOperators(s+1);const r=i+1,o=s-r;o>0&&this.removeConditionsAndOperators(r,o),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=i}updateConditionStatusesAndValues(t,i){this.eTypes.forEach((s,r)=>{const o=this.isConditionDisabled(r,t);s.setDisabled(o||this.filterListOptions.length<=1),1===r&&(zl(this.eJoinOperatorPanels[0],o),this.eJoinOperatorsAnd[0].setDisabled(o),this.eJoinOperatorsOr[0].setDisabled(o))}),this.eConditionBodies.forEach((s,r)=>{we(s,this.isConditionBodyVisible(r))});const n="OR"===(i??this.getJoinOperator());this.eJoinOperatorsAnd.forEach((s,r)=>{s.setValue(!n,!0)}),this.eJoinOperatorsOr.forEach((s,r)=>{s.setValue(n,!0)}),this.forEachInput((s,r,o,a)=>{this.setElementDisplayed(s,r<a),this.setElementDisabled(s,this.isConditionDisabled(o,t))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(t){return t&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(t,i){if(t>=this.getNumConditions())return;this.removeComponents(this.eTypes,t,i),this.removeElements(this.eConditionBodies,t,i),this.removeValueElements(t,i);const n=Math.max(t-1,0);this.removeElements(this.eJoinOperatorPanels,n,i),this.removeComponents(this.eJoinOperatorsAnd,n,i),this.removeComponents(this.eJoinOperatorsOr,n,i)}removeElements(t,i,n){this.removeItems(t,i,n).forEach(r=>ns(r))}removeComponents(t,i,n){this.removeItems(t,i,n).forEach(r=>{ns(r.getGui()),this.destroyBean(r)})}removeItems(t,i,n){return null==n?t.splice(i):t.splice(i,n)}afterGuiAttached(t){if(super.afterGuiAttached(t),this.resetPlaceholder(),!t?.suppressFocus)if(this.isReadOnly())this.eFilterBody.focus();else{const i=this.getInputs(0)[0];if(!i)return;i instanceof ss&&i.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const t=this.getModel();this.resetUiToActiveModel(t);let i=-1,n=-1,s=!1;const r=this.getJoinOperator();for(let a=this.getNumConditions()-1;a>=0;a--)if(this.isConditionUiComplete(a))-1===i&&(i=a,n=a);else{const d=a<i;(a>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(a-1)||d)&&(this.removeConditionsAndOperators(a,1),s=!0,d&&n--)}let o=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),o=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),o=!0),o&&this.updateConditionStatusesAndValues(n,r),s&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n}getPlaceholderText(t,i){let n=this.translate(t);if(Dm(this.filterPlaceholder)){const s=this.filterPlaceholder,r=this.eTypes[i].getValue();n=s({filterOptionKey:r,filterOption:this.translate(r),placeholder:n})}else"string"==typeof this.filterPlaceholder&&(n=this.filterPlaceholder);return n}resetPlaceholder(){const t=this.localeService.getLocaleTextFunc();this.forEachInput((i,n,s,r)=>{if(!(i instanceof ss))return;const o=0===n&&r>1?"inRangeStart":0===n?"filterOoo":"inRangeEnd",a=0===n&&r>1?t("ariaFilterFromValue","Filter from value"):0===n?t("ariaFilterValue","Filter Value"):t("ariaFilterToValue","Filter to Value");i.setInputPlaceholder(this.getPlaceholderText(o,s)),i.setInputAriaLabel(a)})}setElementValue(t,i,n){t instanceof ss&&t.setValue(null!=i?String(i):null,!0)}setElementDisplayed(t,i){t instanceof ee&&we(t.getGui(),i)}setElementDisabled(t,i){t instanceof ee&&zl(t.getGui(),i)}attachElementOnChange(t,i){t instanceof ss&&t.onValueChange(i)}forEachInput(t){this.getConditionTypes().forEach((i,n)=>{this.forEachPositionTypeInput(n,i,t)})}forEachPositionInput(t,i){const n=this.getConditionType(t);this.forEachPositionTypeInput(t,n,i)}forEachPositionTypeInput(t,i,n){const s=this.getNumberOfInputs(i),r=this.getInputs(t);for(let o=0;o<r.length;o++){const a=r[o];null!=a&&n(a,o,t,s)}}isConditionDisabled(t,i){return!!this.isReadOnly()||0!==t&&t>i+1}isConditionBodyVisible(t){const i=this.getConditionType(t);return this.getNumberOfInputs(i)>0}isConditionUiComplete(t){return!(t>=this.getNumConditions()||this.getConditionType(t)===gd.EMPTY||this.getValues(t).some(n=>null==n))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const t=[];for(let i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)&&t.push(this.createCondition(i));return t}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let t=this.getNumConditions();t<this.numAlwaysVisibleConditions;t++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(t){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(i=>this.resetType(i)),this.eJoinOperatorsAnd.forEach((i,n)=>this.resetJoinOperatorAnd(i,n,this.joinOperatorId+n)),this.eJoinOperatorsOr.forEach((i,n)=>this.resetJoinOperatorOr(i,n,this.joinOperatorId+n)),this.joinOperatorId++,this.forEachInput(i=>this.resetInput(i)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,t||this.onUiChanged(),Ki.resolve()}resetType(t){const n=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");t.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(n).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(t,i,n){this.resetJoinOperator(t,i,this.isDefaultOperator("AND"),this.translate("andCondition"),n)}resetJoinOperatorOr(t,i,n){this.resetJoinOperator(t,i,this.isDefaultOperator("OR"),this.translate("orCondition"),n)}resetJoinOperator(t,i,n,s,r){this.updateJoinOperatorDisabled(t.setValue(n,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${r}`).setLabel(s),i)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((t,i)=>this.updateJoinOperatorDisabled(t,i)),this.eJoinOperatorsOr.forEach((t,i)=>this.updateJoinOperatorDisabled(t,i))}updateJoinOperatorDisabled(t,i){t.setDisabled(this.isReadOnly()||i>0)}resetInput(t){this.setElementValue(t,null),this.setElementDisabled(t,this.isReadOnly())}setConditionIntoUi(t,i){const n=this.mapValuesFromModel(t);this.forEachInput((s,r,o,a)=>{o===i&&this.setElementValue(s,null!=n[r]?n[r]:null)})}setValueFromFloatingFilter(t){this.forEachInput((i,n,s,r)=>{this.setElementValue(i,0===n&&0===s?t:null,!0)})}isDefaultOperator(t){return t===this.defaultJoinOperator}addChangedListeners(t,i){this.isReadOnly()||(t.onValueChange(this.listener),this.forEachPositionInput(i,n=>{this.attachElementOnChange(n,this.listener)}))}individualConditionPasses(t,i){const n=this.getCellValue(t.node),s=this.mapValuesFromModel(i),r=this.optionsFactory.getCustomOption(i.type);return this.evaluateCustomFilter(r,s,n)??(null==n?this.evaluateNullValue(i.type):this.evaluateNonNullValue(s,n,i,t))}evaluateCustomFilter(t,i,n){if(null==t)return;const{predicate:s}=t;return null==s||i.some(r=>null==r)?void 0:s(i,n)}isBlank(t){return null==t||"string"==typeof t&&0===t.trim().length}hasInvalidInputs(){return!1}};Oi.EMPTY="empty",Oi.BLANK="blank",Oi.NOT_BLANK="notBlank",Oi.EQUALS="equals",Oi.NOT_EQUAL="notEqual",Oi.LESS_THAN="lessThan",Oi.LESS_THAN_OR_EQUAL="lessThanOrEqual",Oi.GREATER_THAN="greaterThan",Oi.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",Oi.IN_RANGE="inRange",Oi.CONTAINS="contains",Oi.NOT_CONTAINS="notContains",Oi.STARTS_WITH="startsWith",Oi.ENDS_WITH="endsWith";var pt=Oi,kt=class $t extends pt{setParams(t){super.setParams(t),this.scalarFilterParams=t}evaluateNullValue(t){switch(t){case $t.EQUALS:case $t.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case $t.GREATER_THAN:case $t.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case $t.LESS_THAN:case $t.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case $t.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case $t.BLANK:return!0;case $t.NOT_BLANK:return!1}return!1}evaluateNonNullValue(t,i,n){const s=this.comparator(),r=null!=t[0]?s(t[0],i):0;switch(n.type){case $t.EQUALS:return 0===r;case $t.NOT_EQUAL:return 0!==r;case $t.GREATER_THAN:return r>0;case $t.GREATER_THAN_OR_EQUAL:return r>=0;case $t.LESS_THAN:return r<0;case $t.LESS_THAN_OR_EQUAL:return r<=0;case $t.IN_RANGE:{const o=s(t[1],i);return this.scalarFilterParams.inRangeInclusive?r>=0&&o<=0:r>0&&o<0}case $t.BLANK:return this.isBlank(i);case $t.NOT_BLANK:return!this.isBlank(i);default:return console.warn('AG Grid: Unexpected type of filter "'+n.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}},ek=class extends K_{constructor(e,t,i){super(t,i),this.dateFilterParams=e}conditionToString(e,t){const{type:i}=e,{numberOfInputs:n}=t||{},s=i==pt.IN_RANGE||2===n,r=$i(e.dateFrom),o=$i(e.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;return s?`${null!==r?Ul(r,a):"null"}-${null!==o?Ul(o,a):"null"}`:null!=r?Ul(r,a):`${i}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},Y_=class W1 extends kt{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=1e3,this.maxValidYear=1/0,this.minValidDate=null,this.maxValidDate=null}afterGuiAttached(t){super.afterGuiAttached(t),this.dateConditionFromComps[0].afterGuiAttached(t)}mapValuesFromModel(t){const{dateFrom:i,dateTo:n,type:s}=t||{};return[i&&$i(i)||null,n&&$i(n)||null].slice(0,this.getNumberOfInputs(s))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(t,i){return null==i||i<t?-1:i>t?1:0}setParams(t){this.dateFilterParams=t,super.setParams(t);const i=(n,s)=>{if(null!=t[n]){if(!isNaN(t[n]))return null==t[n]?s:Number(t[n]);console.warn(`AG Grid: DateFilter ${n} is not a number`)}return s};this.minValidYear=i("minValidYear",1e3),this.maxValidYear=i("maxValidYear",1/0),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.minValidDate=t.minValidDate?t.minValidDate instanceof Date?t.minValidDate:$i(t.minValidDate):null,this.maxValidDate=t.maxValidDate?t.maxValidDate instanceof Date?t.maxValidDate:$i(t.maxValidDate):null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&console.warn("AG Grid: DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new ek(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(t){const i=new WN(this.getContext(),this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},t);return this.addDestroyFunc(()=>i.destroy()),i}setElementValue(t,i){t.setDate(i)}setElementDisplayed(t,i){t.setDisplayed(i)}setElementDisabled(t,i){t.setDisabled(i)}getDefaultFilterOptions(){return W1.DEFAULT_FILTER_OPTIONS}createValueElement(){const t=document.createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t}createFromToElement(t,i,n,s){const r=document.createElement("div");r.classList.add(`ag-filter-${s}`),r.classList.add(`ag-filter-date-${s}`),i.push(r),t.appendChild(r),n.push(this.createDateCompWrapper(r))}removeValueElements(t,i){this.removeDateComps(this.dateConditionFromComps,t,i),this.removeDateComps(this.dateConditionToComps,t,i),this.removeItems(this.eConditionPanelsFrom,t,i),this.removeItems(this.eConditionPanelsTo,t,i)}removeDateComps(t,i,n){this.removeItems(t,i,n).forEach(r=>r.destroy())}isValidDateValue(t){if(null===t)return!1;if(this.minValidDate){if(t<this.minValidDate)return!1}else if(t.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(t>this.maxValidDate)return!1}else if(t.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(t){if(!super.isConditionUiComplete(t))return!1;let i=!0;return this.forEachInput((n,s,r,o)=>{r!==t||!i||s>=o||(i=i&&this.isValidDateValue(n.getDate()))}),i}areSimpleModelsEqual(t,i){return t.dateFrom===i.dateFrom&&t.dateTo===i.dateTo&&t.type===i.type}getFilterType(){return"date"}createCondition(t){const i=this.getConditionType(t),n={},s=this.getValues(t);return s.length>0&&(n.dateFrom=In(s[0])),s.length>1&&(n.dateTo=In(s[1])),z({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:i},n)}resetPlaceholder(){const t=this.localeService.getLocaleTextFunc(),i=this.translate("dateFormatOoo"),n=t("ariaFilterValue","Filter Value");this.forEachInput(s=>{s.setInputPlaceholder(i),s.setInputAriaLabel(n)})}getInputs(t){return t>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[t],this.dateConditionToComps[t]]}getValues(t){const i=[];return this.forEachPositionInput(t,(n,s,r,o)=>{s<o&&i.push(n.getDate())}),i}translate(t){return super.translate(t===kt.LESS_THAN?"before":t===kt.GREATER_THAN?"after":t)}getModelAsString(t){var i;return null!=(i=this.filterModelFormatter.getModelAsString(t))?i:""}};Y_.DEFAULT_FILTER_OPTIONS=[kt.EQUALS,kt.NOT_EQUAL,kt.LESS_THAN,kt.GREATER_THAN,kt.IN_RANGE,kt.BLANK,kt.NOT_BLANK],h([g("userComponentFactory")],Y_.prototype,"userComponentFactory",2);var tk=Y_,ik=class extends ee{getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(e){return e&&e.afterFloatingFilter}isEventFromDataChange(e){return e?.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(e){if(!e)return void(this.lastType=this.optionsFactory.getDefaultOption());let i;i=e.operator?e.conditions[0]:e,this.lastType=i.type}canWeEditAfterModelFromParentFilter(e){return e?!e.operator&&this.isTypeEditable(e.type):this.isTypeEditable(this.lastType)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){this.optionsFactory=new jN,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),t||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;const i=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(i)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.setSimpleParams(e)}doesFilterHaveSingleInput(e){const t=this.optionsFactory.getCustomOption(e),{numberOfInputs:i}=t||{};return null==i||1==i}isTypeEditable(e){const t=[pt.IN_RANGE,pt.EMPTY,pt.BLANK,pt.NOT_BLANK];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&t.indexOf(e)<0}},Qm=class extends ik{constructor(){super('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')}getDefaultFilterOptions(){return tk.DEFAULT_FILTER_OPTIONS}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new ek(this.filterParams,this.localeService,this.optionsFactory);const t=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);this.setEditable(t),t?(this.dateComp.setDate(e?$i(e.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null))}setEditable(e){we(this.eDateWrapper,e),we(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){const t=In(this.dateComp.getDate());this.params.parentFilterInstance(i=>{if(i){const n=$i(t);i.onFloatingFilterChanged(this.getLastType()||null,n)}})}getDateComponentParams(){const e=$m.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:Ii(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new WN(this.getContext(),this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper),this.addDestroyFunc(()=>this.dateComp.destroy())}updateDateComponent(){const e=this.gridOptionsService.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)}getFilterModelFormatter(){return this.filterModelFormatter}};h([g("userComponentFactory")],Qm.prototype,"userComponentFactory",2),h([N("eReadOnlyText")],Qm.prototype,"eReadOnlyText",2),h([N("eDateWrapper")],Qm.prototype,"eDateWrapper",2);var nk=class extends ee{constructor(){super('\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')}destroy(){super.destroy()}init(e){this.params=e,this.setParams(e);const t=this.gridOptionsService.getDocument(),i=this.eDateInput.getInputElement();this.addManagedListener(i,"mousedown",()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||i.focus()}),this.addManagedListener(i,"input",n=>{n.target===t.activeElement&&(this.eDateInput.isDisabled()||this.params.onDateChanged())})}setParams(e){const t=this.eDateInput.getInputElement(),i=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=i&&Rs(),t.type=i?"date":"text";const{minValidYear:n,maxValidYear:s,minValidDate:r,maxValidDate:o}=e.filterParams||{};if(r&&n&&$("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),o&&s&&$("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),r&&o){const[a,l]=[r,o].map(d=>d instanceof Date?d:$i(d));a&&l&&a.getTime()>l.getTime()&&$("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}r?t.min=r instanceof Date?Ul(r):r:n&&(t.min=`${n}-01-01`),o?t.max=o instanceof Date?Ul(o):o:s&&(t.max=`${s}-12-31`)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.params=e,this.setParams(e)}getDate(){return $i(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(In(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(e){return e.filterParams&&null!=e.filterParams.browserDatePicker?e.filterParams.browserDatePicker:Vm()||R_()||Rs()&&x_()>=14.1}};h([N("eDateInput")],nk.prototype,"eDateInput",2);var Vo=class extends ss{constructor(e,t="ag-text-field",i="text"){super(e,t,i)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){return this.eInput.value!==e&&(this.eInput.value=R(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`);this.addManagedListener(this.eInput,"keydown",i=>{Um(i)&&i.key&&!e.test(i.key)&&i.preventDefault()}),this.addManagedListener(this.eInput,"paste",i=>{var n;const s=null==(n=i.clipboardData)?void 0:n.getData("text");s&&s.split("").some(r=>!e.test(r))&&i.preventDefault()})}},Q_=class extends Vo{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListener(this.eInput,"blur",()=>{const s=parseFloat(this.eInput.value),r=isNaN(s)?"":this.normalizeValue(s.toString());this.value!==r&&this.setValue(r)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any";const{precision:e,min:t,max:i,step:n}=this.config;"number"==typeof e&&this.setPrecision(e),"number"==typeof t&&this.setMin(t),"number"==typeof i&&this.setMax(i),"number"==typeof n&&this.setStep(n)}onWheel(e){document.activeElement===this.eInput&&e.preventDefault()}normalizeValue(e){if(""===e)return"";null!=this.precision&&(e=this.adjustPrecision(e));const t=parseFloat(e);return null!=this.min&&t<this.min?e=this.min.toString():null!=this.max&&t>this.max&&(e=this.max.toString()),e}adjustPrecision(e,t){if(null==this.precision)return e;if(t){const n=parseFloat(e).toFixed(this.precision);return parseFloat(n).toString()}const i=String(e).split(".");if(i.length>1){if(i[1].length<=this.precision)return e;if(this.precision>0)return`${i[0]}.${i[1].slice(0,this.precision)}`}return i[0]}setMin(e){return this.min===e||(this.min=e,Ts(this.eInput,"min",e)),this}setMax(e){return this.max===e||(this.max=e,Ts(this.eInput,"max",e)),this}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e||(this.step=e,Ts(this.eInput,"step",e)),this}setValue(e,t){return this.setValueOrInputValue(i=>super.setValue(i,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,i){if(R(i)){let n=this.isScientificNotation(i);if(n&&this.eInput.validity.valid)return e(i);if(n||(n=(i=this.adjustPrecision(i))!=this.normalizeValue(i)),n)return t(i)}return e(i)}getValue(){if(!this.eInput.validity.valid)return;const e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):super.getValue()}isScientificNotation(e){return"string"==typeof e&&e.includes("e")}},sk=class extends K_{conditionToString(e,t){const{numberOfInputs:i}=t||{};return e.type==pt.IN_RANGE||2===i?`${this.formatValue(e.filter)}-${this.formatValue(e.filterTo)}`:null!=e.filter?this.formatValue(e.filter):`${e.type}`}};function Z_(e){const{allowedCharPattern:t}=e??{};return t??null}var rk=class j1 extends kt{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(t){return this.numberFilterParams.allowedCharPattern===t.allowedCharPattern&&super.refresh(t)}mapValuesFromModel(t){const{filter:i,filterTo:n,type:s}=t||{};return[this.processValue(i),this.processValue(n)].slice(0,this.getNumberOfInputs(s))}getDefaultDebounceMs(){return 500}comparator(){return(t,i)=>t===i?0:t<i?1:-1}setParams(t){this.numberFilterParams=t,super.setParams(t),this.filterModelFormatter=new sk(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return j1.DEFAULT_FILTER_OPTIONS}setElementValue(t,i,n){const s=!n&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(i??null):i;super.setElementValue(t,s)}createValueElement(){const t=Z_(this.numberFilterParams),i=document.createElement("div");return i.classList.add("ag-filter-body"),ht(i,"presentation"),this.createFromToElement(i,this.eValuesFrom,"from",t),this.createFromToElement(i,this.eValuesTo,"to",t),i}createFromToElement(t,i,n,s){const r=this.createManagedBean(s?new Vo({allowedCharPattern:s}):new Q_);r.addCssClass(`ag-filter-${n}`),r.addCssClass("ag-filter-filter"),i.push(r),t.appendChild(r.getGui())}removeValueElements(t,i){this.removeComponents(this.eValuesFrom,t,i),this.removeComponents(this.eValuesTo,t,i)}getValues(t){const i=[];return this.forEachPositionInput(t,(n,s,r,o)=>{s<o&&i.push(this.processValue(this.stringToFloat(n.getValue())))}),i}areSimpleModelsEqual(t,i){return t.filter===i.filter&&t.filterTo===i.filterTo&&t.type===i.type}getFilterType(){return"number"}processValue(t){return null==t||isNaN(t)?null:t}stringToFloat(t){if("number"==typeof t)return t;let i=Es(t);return null!=i&&""===i.trim()&&(i=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(i):null==i||"-"===i.trim()?null:parseFloat(i)}createCondition(t){const i=this.getConditionType(t),n={filterType:this.getFilterType(),type:i},s=this.getValues(t);return s.length>0&&(n.filter=s[0]),s.length>1&&(n.filterTo=s[1]),n}getInputs(t){return t>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[t],this.eValuesTo[t]]}getModelAsString(t){var i;return null!=(i=this.filterModelFormatter.getModelAsString(t))?i:""}hasInvalidInputs(){let t=!1;return this.forEachInput(i=>{i.getInputElement().validity.valid||(t=!0)}),t}};rk.DEFAULT_FILTER_OPTIONS=[kt.EQUALS,kt.NOT_EQUAL,kt.GREATER_THAN,kt.GREATER_THAN_OR_EQUAL,kt.LESS_THAN,kt.LESS_THAN_OR_EQUAL,kt.IN_RANGE,kt.BLANK,kt.NOT_BLANK];var ok=rk,ak=class extends K_{conditionToString(e,t){const{numberOfInputs:i}=t||{};return e.type==pt.IN_RANGE||2===i?`${e.filter}-${e.filterTo}`:null!=e.filter?`${e.filter}`:`${e.type}`}},rs=class vd extends pt{constructor(){super("textFilter"),this.eValuesFrom=[],this.eValuesTo=[]}static trimInput(t){const i=t&&t.trim();return""===i?t:i}getDefaultDebounceMs(){return 500}setParams(t){this.textFilterParams=t,super.setParams(t),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?vd.DEFAULT_FORMATTER:vd.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new ak(this.localeService,this.optionsFactory)}getTextMatcher(){const t=this.textFilterParams.textCustomComparator;return t?(fe.warnOnce("textCustomComparator is deprecated, use textMatcher instead."),({filterOption:i,value:n,filterText:s})=>t(i,n,s)):this.textFilterParams.textMatcher||vd.DEFAULT_MATCHER}createCondition(t){const i=this.getConditionType(t),n={filterType:this.getFilterType(),type:i},s=this.getValuesWithSideEffects(t,!0);return s.length>0&&(n.filter=s[0]),s.length>1&&(n.filterTo=s[1]),n}getFilterType(){return"text"}areSimpleModelsEqual(t,i){return t.filter===i.filter&&t.filterTo===i.filterTo&&t.type===i.type}getInputs(t){return t>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[t],this.eValuesTo[t]]}getValues(t){return this.getValuesWithSideEffects(t,!1)}getValuesWithSideEffects(t,i){const n=[];return this.forEachPositionInput(t,(s,r,o,a)=>{var l;if(r<a){let d=Es(s.getValue());i&&this.textFilterParams.trimInput&&(d=null!=(l=vd.trimInput(d))?l:null,s.setValue(d,!0)),n.push(d)}}),n}getDefaultFilterOptions(){return vd.DEFAULT_FILTER_OPTIONS}createValueElement(){const t=document.createElement("div");return t.classList.add("ag-filter-body"),ht(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from"),this.createFromToElement(t,this.eValuesTo,"to"),t}createFromToElement(t,i,n){const s=this.createManagedBean(new Vo);s.addCssClass(`ag-filter-${n}`),s.addCssClass("ag-filter-filter"),i.push(s),t.appendChild(s.getGui())}removeValueElements(t,i){this.removeComponents(this.eValuesFrom,t,i),this.removeComponents(this.eValuesTo,t,i)}mapValuesFromModel(t){const{filter:i,filterTo:n,type:s}=t||{};return[i||null,n||null].slice(0,this.getNumberOfInputs(s))}evaluateNullValue(t){return!!t&&[pt.NOT_EQUAL,pt.NOT_CONTAINS,pt.BLANK].indexOf(t)>=0}evaluateNonNullValue(t,i,n,s){const r=t.map(v=>this.formatter(v))||[],o=this.formatter(i),{api:a,colDef:l,column:d,columnApi:c,context:u,textFormatter:p}=this.textFilterParams;if(n.type===pt.BLANK)return this.isBlank(i);if(n.type===pt.NOT_BLANK)return!this.isBlank(i);const m={api:a,colDef:l,column:d,columnApi:c,context:u,node:s.node,data:s.data,filterOption:n.type,value:o,textFormatter:p};return r.some(v=>this.matcher(ot(z({},m),{filterText:v})))}getModelAsString(t){var i;return null!=(i=this.filterModelFormatter.getModelAsString(t))?i:""}};rs.DEFAULT_FILTER_OPTIONS=[pt.CONTAINS,pt.NOT_CONTAINS,pt.EQUALS,pt.NOT_EQUAL,pt.STARTS_WITH,pt.ENDS_WITH,pt.BLANK,pt.NOT_BLANK],rs.DEFAULT_FORMATTER=e=>e,rs.DEFAULT_LOWERCASE_FORMATTER=e=>null==e?null:e.toString().toLowerCase(),rs.DEFAULT_MATCHER=({filterOption:e,value:t,filterText:i})=>{if(null==i)return!1;switch(e){case rs.CONTAINS:return t.indexOf(i)>=0;case rs.NOT_CONTAINS:return t.indexOf(i)<0;case rs.EQUALS:return t===i;case rs.NOT_EQUAL:return t!=i;case rs.STARTS_WITH:return 0===t.indexOf(i);case rs.ENDS_WITH:const n=t.lastIndexOf(i);return n>=0&&n===t.length-i.length;default:return!1}};var X_=rs,lk=class extends A{constructor(e){super(),this.params=e,this.valueChangedListener=()=>{}}setupGui(e){var t;this.eFloatingFilterTextInput=this.createManagedBean(new Vo(null==(t=this.params)?void 0:t.config));const i=this.eFloatingFilterTextInput.getGui();e.appendChild(i),this.addManagedListener(i,"input",n=>this.valueChangedListener(n)),this.addManagedListener(i,"keydown",n=>this.valueChangedListener(n))}setEditable(e){this.eFloatingFilterTextInput.setDisabled(!e)}setAutoComplete(e){this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(e,t){this.eFloatingFilterTextInput.setValue(e,t)}setValueChangedListener(e){this.valueChangedListener=e}setParams(e){this.setAriaLabel(e.ariaLabel),void 0!==e.autoComplete&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)}},Au=class extends ik{postConstruct(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>\n        ')}getDefaultDebounceMs(){return 500}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){var t;this.params=e;const i=null!=(t=e.browserAutoComplete)&&t;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:i}),this.applyActive=$m.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){const n=$m.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),s=Ii(this.syncUpWithParentFilter.bind(this),n);this.floatingFilterInputService.setValueChangedListener(s)}}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const t=this.floatingFilterInputService.getValue();It(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(t,!0)}getAriaLabel(e){return`${this.columnModel.getDisplayNameForColumn(e.column,"header",!0)} ${this.localeService.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}syncUpWithParentFilter(e){if(this.applyActive&&e.key!==S.ENTER)return;let i=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(i=X_.trimInput(i),this.floatingFilterInputService.setValue(i,!0)),this.params.parentFilterInstance(n=>{n&&n.onFloatingFilterChanged(this.getLastType()||null,i||null)})}setEditable(e){this.floatingFilterInputService.setEditable(e)}};h([g("columnModel")],Au.prototype,"columnModel",2),h([N("eFloatingFilterInputContainer")],Au.prototype,"eFloatingFilterInputContainer",2),h([I],Au.prototype,"postConstruct",1);var XX=class extends A{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(e){this.eFloatingFilterNumberInput=this.createManagedBean(new Q_),this.eFloatingFilterTextInput=this.createManagedBean(new Vo),this.eFloatingFilterTextInput.setDisabled(!0);const t=this.eFloatingFilterNumberInput.getGui(),i=this.eFloatingFilterTextInput.getGui();e.appendChild(t),e.appendChild(i),this.setupListeners(t,n=>this.valueChangedListener(n)),this.setupListeners(i,n=>this.valueChangedListener(n))}setEditable(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(e){this.valueChangedListener=e}setupListeners(e,t){this.addManagedListener(e,"input",t),this.addManagedListener(e,"keydown",t)}setParams(e){this.setAriaLabel(e.ariaLabel),void 0!==e.autoComplete&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)}},JX=class extends Au{init(e){var t;super.init(e),this.filterModelFormatter=new sk(this.localeService,this.optionsFactory,null==(t=e.filterParams)?void 0:t.numberFormatter)}onParamsUpdated(e){this.refresh(e)}refresh(e){Z_(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return ok.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){return this.allowedCharPattern=Z_(e.filterParams),this.createManagedBean(this.allowedCharPattern?new lk({config:{allowedCharPattern:this.allowedCharPattern}}):new XX)}},eJ=class extends Au{init(e){super.init(e),this.filterModelFormatter=new ak(this.localeService,this.optionsFactory)}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return X_.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new lk)}},Mu=class vh{constructor(t,i=!1){this.destroyFuncs=[],this.touching=!1,this.eventService=new Jn,this.eElement=t,this.preventMouseClick=i;const n=this.onTouchStart.bind(this),s=this.onTouchMove.bind(this),r=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",n,{passive:!0}),this.eElement.addEventListener("touchmove",s,{passive:!0}),this.eElement.addEventListener("touchend",r,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",n,{passive:!0}),this.eElement.removeEventListener("touchmove",s,{passive:!0}),this.eElement.removeEventListener("touchend",r,{passive:!1})})}getActiveTouch(t){for(let i=0;i<t.length;i++)if(t[i].identifier===this.touchStart.identifier)return t[i];return null}addEventListener(t,i){this.eventService.addEventListener(t,i)}removeEventListener(t,i){this.eventService.removeEventListener(t,i)}onTouchStart(t){if(this.touching)return;this.touchStart=t.touches[0],this.touching=!0,this.moved=!1;const i=this.touchStart;window.setTimeout(()=>{this.touching&&this.touchStart===i&&!this.moved&&(this.moved=!0,this.eventService.dispatchEvent({type:vh.EVENT_LONG_TAP,touchStart:this.touchStart,touchEvent:t}))},500)}onTouchMove(t){if(!this.touching)return;const i=this.getActiveTouch(t.touches);i&&!W_(i,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(t){this.touching&&(this.moved||(this.eventService.dispatchEvent({type:vh.EVENT_TAP,touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&t.cancelable&&t.preventDefault(),this.touching=!1)}checkForDoubleTap(){const t=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&t-this.lastTapTime>vh.DOUBLE_TAP_MILLIS?(this.eventService.dispatchEvent({type:vh.EVENT_DOUBLE_TAP,touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=t}destroy(){this.destroyFuncs.forEach(t=>t())}};Mu.EVENT_TAP="tap",Mu.EVENT_DOUBLE_TAP="doubleTap",Mu.EVENT_LONG_TAP="longTap",Mu.DOUBLE_TAP_MILLIS=500;var Jt=Mu,dr=class $1 extends ee{constructor(t){super(),t||this.setTemplate($1.TEMPLATE)}attachCustomElements(t,i,n,s,r){this.eSortOrder=t,this.eSortAsc=i,this.eSortDesc=n,this.eSortMixed=s,this.eSortNone=r}setupSort(t,i=!1){this.column=t,this.suppressOrder=i,this.setupMultiSortIndicator(),this.column.isSortable()&&(this.addInIcon("sortAscending",this.eSortAsc,t),this.addInIcon("sortDescending",this.eSortDesc,t),this.addInIcon("sortUnSort",this.eSortNone,t),this.addManagedPropertyListener("unSortIcon",()=>this.updateIcons()),this.addManagedListener(this.eventService,f.EVENT_NEW_COLUMNS_LOADED,()=>this.updateIcons()),this.addManagedListener(this.eventService,f.EVENT_SORT_CHANGED,()=>this.onSortChanged()),this.addManagedListener(this.eventService,f.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.onSortChanged()),this.onSortChanged())}addInIcon(t,i,n){if(null==i)return;const s=ct(t,this.gridOptionsService,n);s&&i.appendChild(s)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const t=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc&&we(this.eSortAsc,"asc"===t,{skipAriaHidden:!0}),this.eSortDesc&&we(this.eSortDesc,"desc"===t,{skipAriaHidden:!0}),this.eSortNone){const i=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.get("unSortIcon");we(this.eSortNone,!i&&null==t,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const t=this.column.getColDef().showRowGroup;this.gridOptionsService.isColumnsSortingCoupledToGroup()&&t&&(this.addManagedListener(this.eventService,f.EVENT_SORT_CHANGED,()=>this.updateMultiSortIndicator()),this.addManagedListener(this.eventService,f.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.updateMultiSortIndicator()),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const t="mixed"===this.sortController.getDisplaySortForColumn(this.column);we(this.eSortMixed,t,{skipAriaHidden:!0})}}updateSortOrder(){var t;if(!this.eSortOrder)return;const i=this.sortController.getColumnsWithSortingOrdered(),n=null!=(t=this.sortController.getDisplaySortIndexForColumn(this.column))?t:-1,s=i.some(o=>{var a;return null!=(a=this.sortController.getDisplaySortIndexForColumn(o))&&a});we(this.eSortOrder,n>=0&&s,{skipAriaHidden:!0}),n>=0?this.eSortOrder.textContent=(n+1).toString():It(this.eSortOrder)}};dr.TEMPLATE='<span class="ag-sort-indicator-container">\n            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>\n        </span>',h([N("eSortOrder")],dr.prototype,"eSortOrder",2),h([N("eSortAsc")],dr.prototype,"eSortAsc",2),h([N("eSortDesc")],dr.prototype,"eSortDesc",2),h([N("eSortMixed")],dr.prototype,"eSortMixed",2),h([N("eSortNone")],dr.prototype,"eSortNone",2),h([g("columnModel")],dr.prototype,"columnModel",2),h([g("sortController")],dr.prototype,"sortController",2);var J_=dr,fi=class q1 extends ee{constructor(){super(...arguments),this.lastMovingChanged=0}destroy(){super.destroy()}refresh(t){return this.params=t,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&this.shouldSuppressMenuHide()==this.currentSuppressMenuHide&&(this.setDisplayName(t),!0)}workOutTemplate(){var t;let i=null!=(t=this.params.template)?t:q1.TEMPLATE;return i=i&&i.trim?i.trim():i,i}init(t){this.params=t,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(t)}setDisplayName(t){if(this.currentDisplayName!=t.displayName){this.currentDisplayName=t.displayName;const i=Nt(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=i)}}addInIcon(t,i,n){if(null==i)return;const s=ct(t,this.gridOptionsService,n);s&&i.appendChild(s)}setupTap(){const{gridOptionsService:t}=this;if(t.get("suppressTouch"))return;const i=new Jt(this.getGui(),!0),n=this.shouldSuppressMenuHide(),s=n&&R(this.eMenu),r=s?new Jt(this.eMenu,!0):i;if(this.params.enableMenu&&this.addManagedListener(r,Jt[s?"EVENT_TAP":"EVENT_LONG_TAP"],l=>this.params.showColumnMenuAfterMouseClick(l.touchStart)),this.params.enableSorting&&this.addManagedListener(i,Jt.EVENT_TAP,a=>{var l,d;const c=a.touchStart.target;n&&(null!=(l=this.eMenu)&&l.contains(c)||null!=(d=this.eFilterButton)&&d.contains(c))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")}),this.params.enableFilterButton){const o=new Jt(this.eFilterButton,!0);this.addManagedListener(o,"tap",()=>this.params.showFilter(this.eFilterButton)),this.addDestroyFunc(()=>o.destroy())}this.addDestroyFunc(()=>i.destroy()),s&&this.addDestroyFunc(()=>r.destroy())}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return ns(this.eMenu),void(this.eMenu=void 0);const t=this.menuService.isLegacyMenuEnabled();this.addInIcon(t?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!t),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedListener(this.eMenu,"click",()=>this.params.showColumnMenu(this.eMenu)),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(t){var i,n,s,r;const{column:o}=this.params,a=this.menuService.isLegacyMenuEnabled();if(t&&!a){if(this.menuService.isFilterMenuInHeaderEnabled(o))return this.params.showFilter(null!=(n=null!=(i=this.eFilterButton)?i:this.eMenu)?n:this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu(null!=(r=null!=(s=this.eMenu)?s:this.eFilterButton)?r:this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new J_(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListener(this.params.column,ze.EVENT_MOVING_CHANGED,()=>{this.lastMovingChanged=(new Date).getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",i=>{if(!(this.params.column.isMoving()||(new Date).getTime()-this.lastMovingChanged<50)){const l="ctrl"===this.gridOptionsService.get("multiSortKey")?i.ctrlKey||i.metaKey:i.shiftKey;this.params.progressSort(l)}});const t=()=>{if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",this.params.column.isSortAscending()),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",this.params.column.isSortDescending()),this.addOrRemoveCssClass("ag-header-cell-sorted-none",this.params.column.isSortNone()),this.params.column.getColDef().showRowGroup){const i=this.columnModel.getSourceColumnsForGroupColumn(this.params.column),s=!i?.every(r=>this.params.column.getSort()==r.getSort());this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",s)}};this.addManagedListener(this.eventService,f.EVENT_SORT_CHANGED,t),this.addManagedListener(this.eventService,f.EVENT_COLUMN_ROW_GROUP_CHANGED,t)}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){this.eFilterButton&&(this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedListener(this.eFilterButton,"click",()=>this.params.showFilter(this.eFilterButton)):this.eFilterButton=void 0)}configureFilter(t,i,n){if(!t)return ns(i),!1;const{column:s}=this.params;return this.addInIcon("filter",i,s),this.addManagedListener(s,ze.EVENT_FILTER_CHANGED,n),n(),!0}onFilterChangedIcon(){const t=this.params.column.isFilterActive();we(this.eFilter,t,{skipAriaHidden:!0})}onFilterChangedButton(){const t=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",t)}getAnchorElementForMenu(t){var i,n,s,r;return t?null!=(n=null!=(i=this.eFilterButton)?i:this.eMenu)?n:this.getGui():null!=(r=null!=(s=this.eMenu)?s:this.eFilterButton)?r:this.getGui()}};fi.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <span ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation">\n                <span ref="eText" class="ag-header-cell-text"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>\n            </div>\n        </div>',h([g("sortController")],fi.prototype,"sortController",2),h([g("menuService")],fi.prototype,"menuService",2),h([g("columnModel")],fi.prototype,"columnModel",2),h([N("eFilter")],fi.prototype,"eFilter",2),h([N("eFilterButton")],fi.prototype,"eFilterButton",2),h([N("eSortIndicator")],fi.prototype,"eSortIndicator",2),h([N("eMenu")],fi.prototype,"eMenu",2),h([N("eLabel")],fi.prototype,"eLabel",2),h([N("eText")],fi.prototype,"eText",2),h([N("eSortOrder")],fi.prototype,"eSortOrder",2),h([N("eSortAsc")],fi.prototype,"eSortAsc",2),h([N("eSortDesc")],fi.prototype,"eSortDesc",2),h([N("eSortMixed")],fi.prototype,"eSortMixed",2),h([N("eSortNone")],fi.prototype,"eSortNone",2);var eS=fi,Iu=class K1 extends ee{constructor(){super(K1.TEMPLATE)}destroy(){super.destroy()}init(t){this.params=t,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&$("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");const t=s=>{if(ts(s))return;const r=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),r,"uiColumnExpanded")};this.addTouchAndClickListeners(this.eCloseIcon,t),this.addTouchAndClickListeners(this.eOpenIcon,t);const i=s=>{es(s)};this.addManagedListener(this.eCloseIcon,"dblclick",i),this.addManagedListener(this.eOpenIcon,"dblclick",i),this.addManagedListener(this.getGui(),"dblclick",t),this.updateIconVisibility();const n=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(n,Et.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(n,Et.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))}addTouchAndClickListeners(t,i){const n=new Jt(t,!0);this.addManagedListener(n,Jt.EVENT_TAP,i),this.addDestroyFunc(()=>n.destroy()),this.addManagedListener(t,"click",i)}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const i=this.params.columnGroup.isExpanded();we(this.eOpenIcon,i),we(this.eCloseIcon,!i)}else we(this.eOpenIcon,!1),we(this.eCloseIcon,!1)}addInIcon(t,i){const n=ct(t,this.gridOptionsService,null);n&&this.getRefElement(i).appendChild(n)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable())return we(this.eOpenIcon,!1),void we(this.eCloseIcon,!1)}setupLabel(){var t;const{displayName:i,columnGroup:n}=this.params;if(R(i)){const s=Nt(i,!0);this.getRefElement("agLabel").textContent=s}this.addOrRemoveCssClass("ag-sticky-label",!(null!=(t=n.getColGroupDef())&&t.suppressStickyLabel))}};Iu.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',h([g("columnModel")],Iu.prototype,"columnModel",2),h([N("agOpened")],Iu.prototype,"eOpenIcon",2),h([N("agClosed")],Iu.prototype,"eCloseIcon",2);var tJ=Iu,Go=class extends ee{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},tS=class Y1 extends Go{constructor(){super(Y1.TEMPLATE)}init(t){this.params=t,this.focusAfterAttached=t.cellStartedEdit,this.eTextArea.setMaxLength(t.maxLength||200).setCols(t.cols||60).setRows(t.rows||10),R(t.value,!0)&&this.eTextArea.setValue(t.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(t){const i=t.key;(i===S.LEFT||i===S.UP||i===S.RIGHT||i===S.DOWN||t.shiftKey&&i===S.ENTER)&&t.stopPropagation()}afterGuiAttached(){const t=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(t("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const t=this.eTextArea.getValue();return R(t)||R(this.params.value)?this.params.parseValue(t):this.params.value}};tS.TEMPLATE='<div class="ag-large-text">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',h([N("eTextArea")],tS.prototype,"eTextArea",2);var iJ=tS,iS=class extends Go{constructor(){super('<div class="ag-cell-edit-wrapper">\n                <ag-select class="ag-cell-editor" ref="eSelect"></ag-select>\n            </div>'),this.startedByEnter=!1}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:t,valueFormatterService:i,gridOptionsService:n}=this,{values:s,value:r,eventKey:o}=e;if(Y(s))return void console.warn("AG Grid: no values found for select cellEditor");this.startedByEnter=null!=o&&o===S.ENTER;let a=!1;s.forEach(u=>{const p={value:u},m=i.formatValue(e.column,null,u);p.text=null!=m?m:u,t.addOption(p),a=a||r===u}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:l,valueListMaxWidth:d,valueListMaxHeight:c}=e;null!=l&&t.setPickerGap(l),null!=c&&t.setPickerMaxHeight(c),null!=d&&t.setPickerMaxWidth(d),"fullRow"!==n.get("editType")&&this.addManagedListener(this.eSelect,Km.EVENT_ITEM_SELECTED,()=>e.stopEditing())}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}};h([g("valueFormatterService")],iS.prototype,"valueFormatterService",2),h([N("eSelect")],iS.prototype,"eSelect",2);var Fu=class extends Go{constructor(e){super(`\n            <div class="ag-cell-edit-wrapper">\n                ${e.getTemplate()}\n            </div>`),this.cellEditorInput=e}init(e){this.params=e;const t=this.eInput;let i;if(this.cellEditorInput.init(t,e),e.cellStartedEdit){this.focusAfterAttached=!0;const n=e.eventKey;n===S.BACKSPACE||e.eventKey===S.DELETE?i="":n&&1===n.length?i=n:(i=this.cellEditorInput.getStartValue(),n!==S.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,i=this.cellEditorInput.getStartValue();null!=i&&t.setStartValue(i),this.addManagedListener(t.getGui(),"keydown",n=>{const{key:s}=n;(s===S.PAGE_UP||s===S.PAGE_DOWN)&&n.preventDefault()})}afterGuiAttached(){var e,t;const i=this.localeService.getLocaleTextFunc(),n=this.eInput;if(n.setInputAriaLabel(i("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;Rs()||n.getFocusableElement().focus();const s=n.getInputElement();this.highlightAllOnFocus?s.select():null==(t=(e=this.cellEditorInput).setCaret)||t.call(e)}focusIn(){const e=this.eInput,t=e.getFocusableElement(),i=e.getInputElement();t.focus(),i.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}};h([N("eInput")],Fu.prototype,"eInput",2);var dk=class extends Fu{constructor(){super(new class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'}init(e,t){this.eInput=e,this.params=t,null!=t.maxLength&&e.setMaxLength(t.maxLength)}getValue(){const e=this.eInput.getValue();return R(e)||R(this.params.value)?this.params.parseValue(e):this.params.value}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const e=this.eInput.getValue(),t=R(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)}})}},ck=class extends ee{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-change-delta");const i=document.createElement("span");i.setAttribute("class","ag-value-change-value"),e.appendChild(t),e.appendChild(i),this.setTemplateFromElement(e)}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,t){const i=Math.abs(t),n=e.formatValue(i),s=R(n)?n:i,r=t>=0;this.eDelta.textContent=r?"\u2191"+s:"\u2193"+s,this.eDelta.classList.toggle("ag-value-change-delta-up",r),this.eDelta.classList.toggle("ag-value-change-delta-down",!r)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),It(this.eDelta)}refresh(e,t=!1){const i=e.value;return i!==this.lastValue&&(R(e.valueFormatted)?this.eValue.textContent=e.valueFormatted:R(e.value)?this.eValue.textContent=i:It(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering())&&("number"==typeof i&&"number"==typeof this.lastValue&&this.showDelta(e,i-this.lastValue),this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=i,!0)}};h([g("filterManager")],ck.prototype,"filterManager",2);var uk=class extends ee{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-slide-current"),e.appendChild(t),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const t=document.createElement("span");t.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=t,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){let i=e.value;return Y(i)&&(i=""),i!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(t||this.addSlideAnimation(),this.lastValue=i,R(e.valueFormatted)?this.eCurrent.textContent=e.valueFormatted:R(e.value)?this.eCurrent.textContent=i:It(this.eCurrent),!0)}};h([g("filterManager")],uk.prototype,"filterManager",2);var at=class Xe{constructor(t){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=Xe.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=t}setData(t){this.setDataCommon(t,!1)}updateData(t){this.setDataCommon(t,!0)}setDataCommon(t,i){const n=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const s=this.createDataChangedEvent(t,n,i);this.dispatchLocalEvent(s)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(t,i,n){return{type:Xe.EVENT_DATA_CHANGED,node:this,oldData:i,newData:t,update:n}}createLocalRowEvent(t){return{type:t,node:this}}getRowIndexString(){return"top"===this.rowPinned?"t-"+this.rowIndex:"bottom"===this.rowPinned?"b-"+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const t=new Xe(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t}setDataAndId(t,i){const n=R(this.id)?this.createDaemonNode():null,s=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(i),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,n);const r=this.createDataChangedEvent(t,s,!1);this.dispatchLocalEvent(r)}checkRowSelectable(){const t=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(!t||t(this))}setRowSelectable(t,i){if(this.selectable!==t){if(this.selectable=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Xe.EVENT_SELECTABLE_CHANGED)),i)return;if(this.beans.gridOptionsService.get("groupSelectsChildren")){const s=this.calculateSelectedFromChildren();return void this.setSelectedParams({newValue:s??!1,source:"selectableChanged"})}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(t){const i=this.beans.gridOptionsService.getCallback("getRowId");if(i)if(this.data){const n=this.getGroupKeys(!0);this.id=i({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level}),null!==this.id&&"string"==typeof this.id&&this.id.startsWith(Xe.ID_PREFIX_ROW_GROUP)&&console.error(`AG Grid: Row IDs cannot start with ${Xe.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`),null!==this.id&&"string"!=typeof this.id&&(this.id=""+this.id)}else this.id=void 0;else this.id=t}getGroupKeys(t=!1){const i=[];let n=this;for(t&&(n=n.parent);n&&n.level>=0;)i.push(n.key),n=n.parent;return i.reverse(),i}isPixelInRange(t){return!(!R(this.rowTop)||!R(this.rowHeight))&&t>=this.rowTop&&t<this.rowTop+this.rowHeight}setFirstChild(t){this.firstChild!==t&&(this.firstChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Xe.EVENT_FIRST_CHILD_CHANGED)))}setLastChild(t){this.lastChild!==t&&(this.lastChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Xe.EVENT_LAST_CHILD_CHANGED)))}setChildIndex(t){this.childIndex!==t&&(this.childIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Xe.EVENT_CHILD_INDEX_CHANGED)))}setRowTop(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Xe.EVENT_TOP_CHANGED)),this.setDisplayed(null!==t))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setDisplayed(t){this.displayed!==t&&(this.displayed=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Xe.EVENT_DISPLAYED_CHANGED)))}setDragging(t){this.dragging!==t&&(this.dragging=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Xe.EVENT_DRAGGING_CHANGED)))}setHighlighted(t){t!==this.highlighted&&(this.highlighted=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Xe.EVENT_HIGHLIGHT_CHANGED)))}setHovered(t){this.hovered!==t&&(this.hovered=t)}isHovered(){return this.hovered}setAllChildrenCount(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Xe.EVENT_ALL_CHILDREN_COUNT_CHANGED)))}setMaster(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Xe.EVENT_MASTER_CHANGED)))}setGroup(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Xe.EVENT_GROUP_CHANGED)))}setRowHeight(t,i=!1){this.rowHeight=t,this.rowHeightEstimated=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Xe.EVENT_HEIGHT_CHANGED))}setRowAutoHeight(t,i){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[i.getId()]=t,null!=t&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=Ii(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){let t=!1,i=!0,n=0;const s=this.__autoHeights;if(null==s||(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(a=>{let l=s[a.getId()];if(null==l){if(!this.beans.columnModel.isColSpanActive())return void(t=!0);{let d=[];switch(a.getPinned()){case"left":d=this.beans.columnModel.getDisplayedLeftColumnsForRow(this);break;case"right":d=this.beans.columnModel.getDisplayedRightColumnsForRow(this);break;case null:d=this.beans.columnModel.getViewportCenterColumnsForRow(this)}if(d.includes(a))return void(t=!0);l=-1}}else i=!1;l>n&&(n=l)}),t)||((i||n<10)&&(n=this.beans.gridOptionsService.getRowHeightForNode(this).height),n==this.rowHeight))return;this.setRowHeight(n);const o=this.beans.rowModel;o.onRowHeightChangedDebounced&&o.onRowHeightChangedDebounced()}setRowIndex(t){this.rowIndex!==t&&(this.rowIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Xe.EVENT_ROW_INDEX_CHANGED)))}setUiLevel(t){this.uiLevel!==t&&(this.uiLevel=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Xe.EVENT_UI_LEVEL_CHANGED)))}setExpanded(t,i){if(this.expanded===t)return;this.expanded=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Xe.EVENT_EXPANDED_CHANGED));const n=Object.assign({},this.createGlobalRowEvent(f.EVENT_ROW_GROUP_OPENED),{expanded:t,event:i||null});this.beans.rowNodeEventThrottle.dispatchExpanded(n),this.sibling&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(t){return this.beans.gridOptionsService.addGridCommonParams({type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}dispatchLocalEvent(t){this.eventService&&this.eventService.dispatchEvent(t)}setDataValue(t,i,n){const r=(()=>{var l;return"string"!=typeof t?t:null!=(l=this.beans.columnModel.getGridColumn(t))?l:this.beans.columnModel.getPrimaryColumn(t)})(),o=this.getValueFromValueService(r);if(this.beans.gridOptionsService.get("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(r,o,i,n),!1;const a=this.beans.valueService.setValue(this,r,i,n);return this.dispatchCellChangedEvent(r,i,o),this.checkRowSelectable(),a}getValueFromValueService(t){const i=this.leafGroup&&this.beans.columnModel.isPivotMode(),n=this.group&&this.expanded&&!this.footer&&!i,r=this.beans.gridOptionsService.getGroupIncludeFooter()({node:this}),o=this.beans.gridOptionsService.get("groupSuppressBlankHeader");return this.beans.valueService.getValue(t,this,!1,n&&r&&!o)}dispatchEventForSaveValueReadOnly(t,i,n,s){const r=this.beans.gridOptionsService.addGridCommonParams({type:f.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:t,colDef:t.getColDef(),data:this.data,node:this,oldValue:i,newValue:n,value:n,source:s});this.beans.eventService.dispatchEvent(r)}setGroupValue(t,i){const n=this.beans.columnModel.getGridColumn(t);Y(this.groupData)&&(this.groupData={});const s=n.getColId(),r=this.groupData[s];r!==i&&(this.groupData[s]=i,this.dispatchCellChangedEvent(n,i,r))}setAggData(t){const i=this.aggData;if(this.aggData=t,this.eventService){const n=s=>{const r=this.aggData?this.aggData[s]:void 0,o=i?i[s]:void 0;if(r===o)return;const a=this.beans.columnModel.lookupGridColumn(s);a&&this.dispatchCellChangedEvent(a,r,o)};for(const s in this.aggData)n(s);for(const s in t)s in this.aggData||n(s)}}updateHasChildren(){let t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gridOptionsService.isRowModelType("serverSide")){const n=this.beans.gridOptionsService.get("treeData"),s=this.beans.gridOptionsService.get("isServerSideGroup");t=!this.stub&&!this.footer&&(n?!!s&&s(this.data):!!this.group)}t!==this.__hasChildren&&(this.__hasChildren=!!t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Xe.EVENT_HAS_CHILDREN_CHANGED)))}hasChildren(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren}isEmptyRowGroupNode(){return this.group&&dn(this.childrenAfterGroup)}dispatchCellChangedEvent(t,i,n){this.dispatchLocalEvent({type:Xe.EVENT_CELL_CHANGED,node:this,column:t,newValue:i,oldValue:n})}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return!this.footer&&(this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master)}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(i=>i.depthFirstSearch(t)),t(this)}calculateSelectedFromChildren(){var t;let i=!1,n=!1,s=!1;if(null==(t=this.childrenAfterGroup)||!t.length)return this.selectable?this.selected:null;for(let r=0;r<this.childrenAfterGroup.length;r++){const o=this.childrenAfterGroup[r];let a=o.isSelected();if(!o.selectable){const l=o.calculateSelectedFromChildren();if(null===l)continue;a=l}switch(a){case!0:i=!0;break;case!1:n=!0;break;default:s=!0}}return s||i&&n?void 0:!!i||!n&&(this.selectable?this.selected:null)}setSelectedInitialValue(t){this.selected=t}selectThisNode(t,i,n="api"){if(!this.selectable&&t||this.selected===t)return!1;if(this.selected=t,this.eventService){this.dispatchLocalEvent(this.createLocalRowEvent(Xe.EVENT_ROW_SELECTED));const a=this.sibling;a&&a.footer&&a.dispatchLocalEvent(a.createLocalRowEvent(Xe.EVENT_ROW_SELECTED))}const o=ot(z({},this.createGlobalRowEvent(f.EVENT_ROW_SELECTED)),{event:i||null,source:n});return this.beans.eventService.dispatchEvent(o),!0}setSelected(t,i=!1,n="api"){"boolean"!=typeof n?this.setSelectedParams({newValue:t,clearSelection:i,rangeSelect:!1,source:n}):console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.")}setSelectedParams(t){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):void 0===this.id?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(ot(z({},t),{nodes:[this.footer?this.sibling:this]}))}isRowPinned(){return"top"===this.rowPinned||"bottom"===this.rowPinned}isParentOfNode(t){let i=this.parent;for(;i;){if(i===t)return!0;i=i.parent}return!1}addEventListener(t,i){var n,s;this.eventService||(this.eventService=new Jn),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new i_(this.beans.frameworkOverrides));const r=null!=(s=null==(n=this.frameworkEventListenerService)?void 0:n.wrap(i))?s:i;this.eventService.addEventListener(t,r)}removeEventListener(t,i){var n,s;if(!this.eventService)return;const r=null!=(s=null==(n=this.frameworkEventListenerService)?void 0:n.unwrap(i))?s:i;this.eventService.removeEventListener(t,r),this.eventService.noRegisteredListenersExist()&&(this.eventService=null)}onMouseEnter(){this.dispatchLocalEvent(this.createLocalRowEvent(Xe.EVENT_MOUSE_ENTER))}onMouseLeave(){this.dispatchLocalEvent(this.createLocalRowEvent(Xe.EVENT_MOUSE_LEAVE))}getFirstChildOfFirstChild(t){let i=this,n=!0,s=!1,r=null;for(;n&&!s;){const o=i.parent;R(o)&&i.firstChild?o.rowGroupColumn===t&&(s=!0,r=o):n=!1,i=o}return s?r:null}isFullWidthCell(){if(this.detail)return!0;const t=this.beans.gridOptionsService.getCallback("isFullWidthRow");return!!t&&t({rowNode:this})}getRoute(){if(null==this.key)return;const t=[];let i=this;for(;null!=i.key;)t.push(i.key),i=i.parent;return t.reverse()}createFooter(){if(this.sibling)return;const t=new Set(["eventService","__objectId","sticky"]),i=new Xe(this.beans);Object.keys(this).forEach(n=>{t.has(n)||(i[n]=this[n])}),i.footer=!0,i.setRowTop(null),i.setRowIndex(null),i.oldRowTop=null,i.id="rowGroupFooter_"+this.id,i.sibling=this,this.sibling=i}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}};at.ID_PREFIX_ROW_GROUP="row-group-",at.ID_PREFIX_TOP_PINNED="t-",at.ID_PREFIX_BOTTOM_PINNED="b-",at.OBJECT_ID_SEQUENCE=0,at.EVENT_ROW_SELECTED="rowSelected",at.EVENT_DATA_CHANGED="dataChanged",at.EVENT_CELL_CHANGED="cellChanged",at.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",at.EVENT_MASTER_CHANGED="masterChanged",at.EVENT_GROUP_CHANGED="groupChanged",at.EVENT_MOUSE_ENTER="mouseEnter",at.EVENT_MOUSE_LEAVE="mouseLeave",at.EVENT_HEIGHT_CHANGED="heightChanged",at.EVENT_TOP_CHANGED="topChanged",at.EVENT_DISPLAYED_CHANGED="displayedChanged",at.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",at.EVENT_LAST_CHILD_CHANGED="lastChildChanged",at.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",at.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",at.EVENT_EXPANDED_CHANGED="expandedChanged",at.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",at.EVENT_SELECTABLE_CHANGED="selectableChanged",at.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",at.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",at.EVENT_DRAGGING_CHANGED="draggingChanged";var me=at,Zm=class extends ee{constructor(){super('\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.localeService.getLocaleTextFunc(),t=this.rowNode.isSelected(),i=Nm(e,t),[n,s]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],r=e(n,s);this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel(`${r} (${i})`)}onClicked(e,t,i){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:i.shiftKey,groupSelectsFiltered:t,event:i,source:"checkboxSelected"})}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",n=>{es(n)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",n=>{es(n);const s=this.gridOptionsService.get("groupSelectsFiltered"),r=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(r,s)?0===this.onClicked(!0,s,n||{})&&this.onClicked(!1,s,n):r?this.onClicked(!1,s,n):this.onClicked(!0,s,n||{})}),this.addManagedListener(this.rowNode,me.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,me.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,me.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsService.get("isRowSelectable")||"function"==typeof this.getIsVisible()){const n=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,f.EVENT_DISPLAYED_COLUMNS_CHANGED,n),this.addManagedListener(this.rowNode,me.EVENT_DATA_CHANGED,n),this.addManagedListener(this.rowNode,me.EVENT_CELL_CHANGED,n),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(e,t){return t&&(void 0===this.eCheckbox.getPreviousValue()||void 0===e)&&this.gridOptionsService.isRowModelType("clientSide")}showOrHideSelect(){var e,t,i;let n=this.rowNode.selectable;const s=this.getIsVisible();if(n)if("function"==typeof s){const o=null==(e=this.overrides)?void 0:e.callbackParams;if(this.column){const a=this.column.createColumnFunctionCallbackParams(this.rowNode);n=s(z(z({},o),a))}else n=s(ot(z({},o),{node:this.rowNode,data:this.rowNode.data}))}else n=s??!1;if(null==(t=this.column)?void 0:t.getColDef().showDisabledCheckboxes)return this.eCheckbox.setDisabled(!n),this.setVisible(!0),void this.setDisplayed(!0);null!=(i=this.overrides)&&i.removeHidden?this.setDisplayed(n):this.setVisible(n)}getIsVisible(){var e,t;return this.overrides?this.overrides.isVisible:null==(t=null==(e=this.column)?void 0:e.getColDef())?void 0:t.checkboxSelection}};h([N("eCheckbox")],Zm.prototype,"eCheckbox",2),h([I],Zm.prototype,"postConstruct",1);var hk=(e=>(e[e.Left=0]="Left",e[e.Right=1]="Right",e))(hk||{}),ie=class extends A{constructor(){super(...arguments),this.dragSourceAndParamsList=[],this.dropTargets=[]}init(){this.ePinnedIcon=On("columnMovePin",this.gridOptionsService,null),this.eHideIcon=On("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=On("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=On("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=On("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=On("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=On("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=On("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=On("dropNotAllowed",this.gridOptionsService,null)}addDragSource(e,t=!1){const i={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:i,dragSource:e}),this.dragService.addDragSource(i)}removeDragSource(e){const t=this.dragSourceAndParamsList.find(i=>i.dragSource===e);t&&(this.dragService.removeDragSource(t.params),ji(this.dragSourceAndParamsList,t))}clearDragSourceParamsList(){this.dragSourceAndParamsList.forEach(e=>this.dragService.removeDragSource(e.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()}onDragStop(e){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){const t=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(t)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()}onDragging(e,t){var i,n,s,r;const o=this.getHorizontalDirection(e),a=this.getVerticalDirection(e);this.eventLastTime=e,this.positionGhost(e);const l=this.dropTargets.filter(c=>this.isMouseOnDropTarget(e,c)),d=this.findCurrentDropTarget(e,l);if(d!==this.lastDropTarget)this.leaveLastTargetIfExists(e,o,a,t),null!==this.lastDropTarget&&null===d&&(null==(n=(i=this.dragSource).onGridExit)||n.call(i,this.dragItem)),null===this.lastDropTarget&&null!==d&&(null==(r=(s=this.dragSource).onGridEnter)||r.call(s,this.dragItem)),this.enterDragTargetIfExists(d,e,o,a,t),this.lastDropTarget=d;else if(d&&d.onDragging){const c=this.createDropTargetEvent(d,e,o,a,t);d.onDragging(c)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,i=[[e.getContainer()]];return t?i.concat(t):i}allContainersIntersect(e,t){for(const i of t){const n=i.getBoundingClientRect();if(0===n.width||0===n.height)return!1;if(!(e.clientX>=n.left&&e.clientX<n.right&&e.clientY>=n.top&&e.clientY<n.bottom))return!1}return!0}isMouseOnDropTarget(e,t){const i=this.getAllContainersFromDropTarget(t);let n=!1;for(const s of i)if(this.allContainersIntersect(e,s)){n=!0;break}return!(t.targetContainsSource&&!t.getContainer().contains(this.dragSource.eElement))&&n&&t.isInterestedIn(this.dragSource.type,this.dragSource.eElement)}findCurrentDropTarget(e,t){const i=t.length;if(0===i)return null;if(1===i)return t[0];const s=this.gridOptionsService.getRootNode().elementsFromPoint(e.clientX,e.clientY);for(const r of s)for(const o of t)if(-1!==WL(this.getAllContainersFromDropTarget(o)).indexOf(r))return o;return null}enterDragTargetIfExists(e,t,i,n,s){if(e){if(e.onDragEnter){const r=this.createDropTargetEvent(e,t,i,n,s);e.onDragEnter(r)}this.setGhostIcon(e.getIconName?e.getIconName():null)}}leaveLastTargetIfExists(e,t,i,n){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){const s=this.createDropTargetEvent(this.lastDropTarget,e,t,i,n);this.lastDropTarget.onDragLeave(s)}this.setGhostIcon(null)}}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(i=>i.external).find(i=>i.getContainer()===e.getContainer())||null}getHorizontalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientX,i=e.clientX;return t===i?null:t>i?0:1}getVerticalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientY,i=e.clientY;return t===i?null:t>i?0:1}createDropTargetEvent(e,t,i,n,s){const r=e.getContainer(),o=r.getBoundingClientRect(),{gridApi:a,columnApi:l,dragItem:d,dragSource:c}=this;return{event:t,x:t.clientX-o.left,y:t.clientY-o.top,vDirection:n,hDirection:i,dragSource:c,fromNudge:s,dragItem:d,api:a,columnApi:l,dropZoneTarget:r}}positionGhost(e){const t=this.eGhost;if(!t)return;const n=t.getBoundingClientRect().height,s=vN()-2,r=CN()-2,o=k_(t.offsetParent),{clientY:a,clientX:l}=e;let d=a-o.top-n/2,c=l-o.left-10;const u=this.gridOptionsService.getDocument(),p=u.defaultView||window,m=p.pageYOffset||u.documentElement.scrollTop,v=p.pageXOffset||u.documentElement.scrollLeft;s>0&&c+t.clientWidth>s+v&&(c=s+v-t.clientWidth),c<0&&(c=0),r>0&&d+t.clientHeight>r+m&&(d=r+m-t.clientHeight),d<0&&(d=0),t.style.left=`${c}px`,t.style.top=`${d}px`}removeGhost(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null}createGhost(){this.eGhost=qi(ie.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);const{theme:e}=this.environment.getTheme();e&&this.eGhost.classList.add(e),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);const t=this.eGhost.querySelector(".ag-dnd-ghost-label");let i=this.dragSource.dragItemName;Dm(i)&&(i=i()),t.innerHTML=Nt(i)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";const n=this.gridOptionsService.getDocument();let s=null,r=null;try{s=n.fullscreenElement}catch{}finally{s||(s=this.gridOptionsService.getRootNode());r=s.querySelector("body")||(s instanceof ShadowRoot?s:s instanceof Document?s?.documentElement:s)}this.eGhostParent=r,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")}setGhostIcon(e,t=!1){It(this.eGhostIcon);let i=null;switch(e||(e=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():ie.ICON_NOT_ALLOWED),e){case ie.ICON_PINNED:i=this.ePinnedIcon;break;case ie.ICON_MOVE:i=this.eMoveIcon;break;case ie.ICON_LEFT:i=this.eLeftIcon;break;case ie.ICON_RIGHT:i=this.eRightIcon;break;case ie.ICON_GROUP:i=this.eGroupIcon;break;case ie.ICON_AGGREGATE:i=this.eAggregateIcon;break;case ie.ICON_PIVOT:i=this.ePivotIcon;break;case ie.ICON_NOT_ALLOWED:i=this.eDropNotAllowedIcon;break;case ie.ICON_HIDE:i=this.eHideIcon}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",t),(i!==this.eHideIcon||!this.gridOptionsService.get("suppressDragLeaveHidesColumns"))&&i&&this.eGhostIcon.appendChild(i)}};ie.ICON_PINNED="pinned",ie.ICON_MOVE="move",ie.ICON_LEFT="left",ie.ICON_RIGHT="right",ie.ICON_GROUP="group",ie.ICON_AGGREGATE="aggregate",ie.ICON_PIVOT="pivot",ie.ICON_NOT_ALLOWED="notAllowed",ie.ICON_HIDE="hide",ie.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',h([g("dragService")],ie.prototype,"dragService",2),h([g("mouseEventService")],ie.prototype,"mouseEventService",2),h([g("columnApi")],ie.prototype,"columnApi",2),h([g("gridApi")],ie.prototype,"gridApi",2),h([I],ie.prototype,"init",1),h([Fi],ie.prototype,"clearDragSourceParamsList",1),ie=h([V("dragAndDropService")],ie);var Ho=class extends ee{constructor(e,t,i,n,s,r){super(),this.cellValueFn=e,this.rowNode=t,this.column=i,this.customGui=n,this.dragStartPixels=s,this.suppressVisibilityChange=r,this.dragSource=null}isCustomGui(){return null!=this.customGui}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(ct("rowDrag",this.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const e=this.gridOptionsService.get("rowDragManaged")?new mk(this,this.beans,this.rowNode,this.column):new fk(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e),this.addDragSource(t)}getSelectedNodes(){if(!this.gridOptionsService.get("rowDragMultiRow"))return[this.rowNode];const t=this.beans.selectionService.getSelectedNodes();return-1!==t.indexOf(this.rowNode)?t:[this.rowNode]}checkCompatibility(){const e=this.gridOptionsService.get("rowDragManaged");this.gridOptionsService.get("treeData")&&e&&$("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gridOptionsService.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();const t=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:this.getGui(),dragItemName:()=>{var i;const n=this.getDragItem(),s=(null==(i=n.rowNodes)?void 0:i.length)||1,r=this.getRowDragText(this.column);return r?r(n,s):1===s?this.cellValueFn():`${s} ${t("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}removeDragSource(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null}};h([g("beans")],Ho.prototype,"beans",2),h([I],Ho.prototype,"postConstruct",1),h([Fi],Ho.prototype,"removeDragSource",1);var pk=class extends A{constructor(e,t,i){super(),this.parent=e,this.rowNode=t,this.column=i}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let i=!0,n=!1;this.column&&(i=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),n=Dm(this.column.getColDef().rowDrag)),n?(this.parent.setDisplayed(!0,t),this.parent.setVisible(i,t)):(this.parent.setDisplayed(i,t),this.parent.setVisible(!0,t))}}},fk=class extends pk{constructor(e,t,i,n){super(e,i,n),this.beans=t}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,me.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,me.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,me.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,f.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gridOptionsService.get("suppressRowDrag");this.setDisplayedOrVisible(e)}};h([I],fk.prototype,"postConstruct",1);var mk=class extends pk{constructor(e,t,i,n){super(e,i,n),this.beans=t}postConstruct(){this.addManagedListener(this.beans.eventService,f.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,f.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,f.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,f.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,me.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,me.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const t=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),i=t&&t.shouldPreventRowMove(),n=this.gridOptionsService.get("suppressRowDrag"),s=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(i&&!s||n)}};h([I],mk.prototype,"postConstruct",1);var $l=class extends A{init(e,t,i,n,s,r,o){var a,l,d,c;this.params=o,this.eGui=t,this.eCheckbox=i,this.eExpanded=n,this.eContracted=s,this.comp=e,this.compClass=r;const{node:u,colDef:m}=o,v=this.isTopLevelFooter();if(!v){if(this.isEmbeddedRowMismatch())return;if(u.footer&&this.gridOptionsService.get("groupHideOpenParents")&&(m&&m.showRowGroup)!==(u.rowGroupColumn&&u.rowGroupColumn.getColId()))return}if(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),!v){const C=o.node.footer&&o.node.rowGroupIndex===this.columnModel.getRowGroupColumns().findIndex(L=>{var k;return L.getColId()===(null==(k=o.colDef)?void 0:k.showRowGroup)}),y="multipleColumns"!=this.gridOptionsService.get("groupDisplayType")||this.gridOptionsService.get("treeData")||this.gridOptionsService.get("showOpenedGroup")&&!o.node.footer&&(!o.node.group||null!=o.node.rowGroupIndex&&o.node.rowGroupIndex>this.columnModel.getRowGroupColumns().findIndex(L=>{var k;return L.getColId()===(null==(k=o.colDef)?void 0:k.showRowGroup)})),w=!u.group&&((null==(a=this.params.colDef)?void 0:a.field)||(null==(l=this.params.colDef)?void 0:l.valueGetter)),E=this.isExpandable(),D=this.columnModel.isPivotMode()&&u.leafGroup&&(null==(d=u.rowGroupColumn)?void 0:d.getColId())===(null==(c=o.column)?void 0:c.getColDef().showRowGroup);if(!(this.showingValueForOpenedParent||E||w||y||C||D))return}this.addExpandAndContract(),this.addFullWidthRowDraggerIfNeeded(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded()}getCellAriaRole(){var e,t;const i=null==(e=this.params.colDef)?void 0:e.cellAriaRole,n=null==(t=this.params.column)?void 0:t.getColDef().cellAriaRole;return i||n||"gridcell"}destroy(){super.destroy(),this.expandListener=null}refreshAriaExpanded(){const{node:e,eGridCell:t}=this.params;if(this.expandListener&&(this.expandListener=this.expandListener()),!this.isExpandable())return void lN(t);const i=()=>{or(t,!!e.expanded)};this.expandListener=this.addManagedListener(e,me.EVENT_EXPANDED_CHANGED,i)||null,i()}isTopLevelFooter(){if(!this.gridOptionsService.get("groupIncludeTotalFooter")||null!=this.params.value||-1!=this.params.node.level)return!1;const e=this.params.colDef;if(null==e||!0===e.showRowGroup)return!0;const i=this.columnModel.getRowGroupColumns();return!i||0===i.length||i[0].getId()===e.showRowGroup}isEmbeddedRowMismatch(){if(!this.params.fullWidth||!this.gridOptionsService.get("embedFullWidthRows"))return!1;const e="left"===this.params.pinned,t="right"===this.params.pinned,i=!e&&!t;return this.gridOptionsService.get("enableRtl")?this.columnModel.isPinningLeft()?!t:!i:this.columnModel.isPinningLeft()?!e:!i}findDisplayedGroupNode(){const e=this.params.column,t=this.params.node;if(this.showingValueForOpenedParent){let i=t.parent;for(;null!=i;){if(i.rowGroupColumn&&e.isRowGroupDisplayed(i.rowGroupColumn.getId())){this.displayedGroupNode=i;break}i=i.parent}}Y(this.displayedGroupNode)&&(this.displayedGroupNode=t)}setupShowingValueForOpenedParent(){const e=this.params.node,t=this.params.column;if(!this.gridOptionsService.get("groupHideOpenParents"))return void(this.showingValueForOpenedParent=!1);if(!e.groupData)return void(this.showingValueForOpenedParent=!1);if(null!=e.rowGroupColumn){const s=e.rowGroupColumn.getId();if(t.isRowGroupDisplayed(s))return void(this.showingValueForOpenedParent=!1)}const n=null!=e.groupData[t.getId()];this.showingValueForOpenedParent=n}addValueElement(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())}addGroupValue(){var e;const t=this.adjustParamsWithDetailsFromRelatedColumn(),i=this.getInnerCompDetails(t),{valueFormatted:n,value:s}=t;let r=n;if(null==r){const o=this.displayedGroupNode.rowGroupColumn&&(null==(e=this.params.column)?void 0:e.isRowGroupDisplayed(this.displayedGroupNode.rowGroupColumn.getId()));r=""===this.displayedGroupNode.key&&this.displayedGroupNode.group&&o?this.localeService.getLocaleTextFunc()("blanks","(Blanks)"):s??null}this.comp.setInnerRenderer(i,r)}adjustParamsWithDetailsFromRelatedColumn(){const e=this.displayedGroupNode.rowGroupColumn,t=this.params.column;if(!e)return this.params;if(null!=t&&!t.isRowGroupDisplayed(e.getId()))return this.params;const n=this.params,{value:s,node:r}=this.params,o=this.valueFormatterService.formatValue(e,r,s);return ot(z({},n),{valueFormatted:o})}addFooterValue(){const e=this.params.footerValueGetter;let t="";if(e){const n=Qy(this.params);n.value=this.params.value,"function"==typeof e?t=e(n):"string"==typeof e?t=this.expressionService.evaluate(e,n):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else t=this.localeService.getLocaleTextFunc()("footerTotal","Total")+" "+(null!=this.params.value?this.params.value:"");const i=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(i,t)}getInnerCompDetails(e){if(e.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),e);const t=this.userComponentFactory.getInnerRendererDetails(e,e),i=o=>o&&o.componentClass==this.compClass;if(t&&!i(t))return t;const n=this.displayedGroupNode.rowGroupColumn,s=n?n.getColDef():void 0;if(!s)return;const r=this.userComponentFactory.getCellRendererDetails(s,e);return r&&!i(r)?r:i(r)&&s.cellRendererParams&&s.cellRendererParams.innerRenderer?this.userComponentFactory.getInnerRendererDetails(s.cellRendererParams,e):void 0}addChildCount(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,me.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())}updateChildCount(){const e=this.displayedGroupNode.allChildrenCount,n=this.isShowRowGroupForThisRow()&&null!=e&&e>=0?`(${e})`:"";this.comp.setChildCount(n)}isShowRowGroupForThisRow(){if(this.gridOptionsService.get("treeData"))return!0;const e=this.displayedGroupNode.rowGroupColumn;if(!e)return!1;const t=this.params.column;return null==t||t.isRowGroupDisplayed(e.getId())}addExpandAndContract(){var e;const t=this.params,i=ct("groupExpanded",this.gridOptionsService,null),n=ct("groupContracted",this.gridOptionsService,null);i&&this.eExpanded.appendChild(i),n&&this.eContracted.appendChild(n);const s=t.eGridCell;!((null==(e=this.params.column)?void 0:e.isCellEditable(t.node))&&this.gridOptionsService.get("enableGroupEdit"))&&this.isExpandable()&&!t.suppressDoubleClickExpand&&this.addManagedListener(s,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(s,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(t.node,me.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();const o=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,me.EVENT_ALL_CHILDREN_COUNT_CHANGED,o),this.addManagedListener(this.displayedGroupNode,me.EVENT_MASTER_CHANGED,o),this.addManagedListener(this.displayedGroupNode,me.EVENT_GROUP_CHANGED,o),this.addManagedListener(this.displayedGroupNode,me.EVENT_HAS_CHILDREN_CHANGED,o)}onExpandClicked(e){ts(e)||(es(e),this.onExpandOrContract(e))}onExpandOrContract(e){const t=this.displayedGroupNode,i=!t.expanded;!i&&t.sticky&&this.scrollToStickyNode(t),t.setExpanded(i,e)}scrollToStickyNode(e){this.ctrlsService.getGridBodyCtrl().getScrollFeature().setVerticalScrollPosition(e.rowTop-e.stickyRowTop)}isExpandable(){if(this.showingValueForOpenedParent)return!0;const e=this.displayedGroupNode,t=this.columnModel.isPivotMode()&&e.leafGroup;if(!e.isExpandable()||e.footer||t)return!1;const n=this.params.column;return null==n||"string"!=typeof n.getColDef().showRowGroup||this.isShowRowGroupForThisRow()}showExpandAndContractIcons(){const{params:e,displayedGroupNode:t,columnModel:i}=this,{node:n}=e,s=this.isExpandable();if(s){const d=!!this.showingValueForOpenedParent||n.expanded;this.comp.setExpandedDisplayed(d),this.comp.setContractedDisplayed(!d)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);const r=i.isPivotMode(),o=r&&t.leafGroup,a=s&&!o,l=n.footer&&-1===n.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",a),this.comp.addOrRemoveCssClass("ag-row-group",a),r?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",o):l||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!a)}onRowNodeIsExpandableChanged(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()}setupIndent(){this.params.suppressPadding||(this.addManagedListener(this.params.node,me.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())}setIndent(){if(this.gridOptionsService.get("groupHideOpenParents"))return;const e=this.params,t=e.node,i=!!e.colDef,n=this.gridOptionsService.get("treeData"),r=!i||n||!0===e.colDef.showRowGroup?t.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+r,this.comp.addOrRemoveCssClass(this.indentClass,!0)}addFullWidthRowDraggerIfNeeded(){if(!this.params.fullWidth||!this.params.rowDrag)return;const e=new Ho(()=>this.params.value,this.params.node);this.createManagedBean(e,this.context),this.eGui.insertAdjacentElement("afterbegin",e.getGui())}isUserWantsSelected(){const e=this.params.checkbox;return"function"==typeof e||!0===e}addCheckboxIfNeeded(){const e=this.displayedGroupNode,t=this.isUserWantsSelected()&&!e.footer&&!e.rowPinned&&!e.detail;if(t){const i=new Zm;this.getContext().createBean(i),i.init({rowNode:this.params.node,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(i.getGui()),this.addDestroyFunc(()=>this.getContext().destroyBean(i))}this.comp.setCheckboxVisible(t)}onKeyDown(e){e.key!==S.ENTER||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(e)}onCellDblClicked(e){ts(e)||Am(this.eExpanded,e)||Am(this.eContracted,e)||this.onExpandOrContract(e)}};h([g("expressionService")],$l.prototype,"expressionService",2),h([g("valueFormatterService")],$l.prototype,"valueFormatterService",2),h([g("columnModel")],$l.prototype,"columnModel",2),h([g("userComponentFactory")],$l.prototype,"userComponentFactory",2),h([g("ctrlsService")],$l.prototype,"ctrlsService",2);var Bo=class Q1 extends ee{constructor(){super(Q1.TEMPLATE)}init(t){const i={setInnerRenderer:(o,a)=>this.setRenderDetails(o,a),setChildCount:o=>this.eChildCount.textContent=o,addOrRemoveCssClass:(o,a)=>this.addOrRemoveCssClass(o,a),setContractedDisplayed:o=>we(this.eContracted,o),setExpandedDisplayed:o=>we(this.eExpanded,o),setCheckboxVisible:o=>this.eCheckbox.classList.toggle("ag-invisible",!o)},n=this.createManagedBean(new $l),s=!t.colDef,r=this.getGui();n.init(i,r,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,t),s&&ht(r,n.getCellAriaRole())}setRenderDetails(t,i){if(t){const n=t.newAgStackInstance();if(!n)return;n.then(s=>{if(!s)return;const r=()=>this.context.destroyBean(s);this.isAlive()?(this.eValue.appendChild(s.getGui()),this.addDestroyFunc(r)):r()})}else this.eValue.innerText=i}destroy(){this.getContext().destroyBean(this.innerCellRenderer),super.destroy()}refresh(){return!1}};Bo.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',h([N("eExpanded")],Bo.prototype,"eExpanded",2),h([N("eContracted")],Bo.prototype,"eContracted",2),h([N("eCheckbox")],Bo.prototype,"eCheckbox",2),h([N("eValue")],Bo.prototype,"eValue",2),h([N("eChildCount")],Bo.prototype,"eChildCount",2);var gk=Bo,Xm=class Z1 extends ee{constructor(){super(Z1.TEMPLATE)}init(t){t.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingError","ERR")}setupLoading(){const t=ct("groupLoading",this.gridOptionsService,null);t&&this.eLoadingIcon.appendChild(t);const i=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=i("loadingOoo","Loading")}refresh(t){return!1}destroy(){super.destroy()}};Xm.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',h([N("eLoadingIcon")],Xm.prototype,"eLoadingIcon",2),h([N("eLoadingText")],Xm.prototype,"eLoadingText",2);var lJ=Xm,vk=class X1 extends ee{constructor(){super()}destroy(){super.destroy()}init(t){const i=this.gridOptionsService.get("overlayLoadingTemplate");if(this.setTemplate(i??X1.DEFAULT_LOADING_OVERLAY_TEMPLATE),!i){const n=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=n("loadingOoo","Loading...")})}}};vk.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>';var dJ=vk,Ck=class J1 extends ee{constructor(){super()}destroy(){super.destroy()}init(t){const i=this.gridOptionsService.get("overlayNoRowsTemplate");if(this.setTemplate(i??J1.DEFAULT_NO_ROWS_TEMPLATE),!i){const n=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=n("noRowsToShow","No Rows To Show")})}}};Ck.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center"></span>';var cJ=Ck,uJ=class extends Go{constructor(){super('<div class="ag-tooltip"></div>')}init(e){const{value:t}=e;this.getGui().textContent=Nt(t,!0)}},pJ=class extends Fu{constructor(){super(new class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'}init(e,t){this.eInput=e,this.params=t,null!=t.max&&e.setMax(t.max),null!=t.min&&e.setMin(t.min),null!=t.precision&&e.setPrecision(t.precision),null!=t.step&&e.setStep(t.step);const i=e.getInputElement();t.preventStepping?e.addManagedListener(i,"keydown",this.preventStepping):t.showStepperButtons&&i.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===S.UP||e.key===S.DOWN)&&e.preventDefault()}getValue(){const e=this.eInput.getValue();if(!R(e)&&!R(this.params.value))return this.params.value;let t=this.params.parseValue(e);if(null==t)return t;if("string"==typeof t){if(""===t)return null;t=Number(t)}return isNaN(t)?null:t}getStartValue(){return this.params.value}})}},mJ=class extends Fu{constructor(){super(new class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(e,t){this.eInput=e,this.params=t,null!=t.min&&e.setMin(t.min),null!=t.max&&e.setMax(t.max),null!=t.step&&e.setStep(t.step)}getValue(){const e=this.eInput.getDate();return R(e)||R(this.params.value)?e??null:this.params.value}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return In(e,!1)}})}},bk=class extends Fu{constructor(){super(new class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(e,t){this.eInput=e,this.params=t,null!=t.min&&e.setMin(t.min),null!=t.max&&e.setMax(t.max),null!=t.step&&e.setStep(t.step)}getValue(){const e=this.formatDate(this.eInput.getDate());return R(e)||R(this.params.value)?this.params.parseValue(e??""):this.params.value}getStartValue(){var e,t;return In(null!=(t=this.parseDate(null!=(e=this.params.value)?e:void 0))?t:null,!1)}parseDate(e){return this.getDataTypeService().getDateParserFunction(this.params.column)(e)}formatDate(e){return this.getDataTypeService().getDateFormatterFunction(this.params.column)(e)}}(()=>this.dataTypeService))}};h([g("dataTypeService")],bk.prototype,"dataTypeService",2);var nS=class eV extends ee{constructor(){super(eV.TEMPLATE)}init(t){this.params=t,this.updateCheckbox(t);const i=this.eCheckbox.getInputElement();i.setAttribute("tabindex","-1"),p_(i,"polite"),this.addManagedListener(i,"click",s=>{if(es(s),this.eCheckbox.isDisabled())return;const r=this.eCheckbox.getValue();this.onCheckboxChanged(r)}),this.addManagedListener(i,"dblclick",s=>{es(s)});const n=this.gridOptionsService.getDocument();this.addManagedListener(this.params.eGridCell,"keydown",s=>{if(s.key===S.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===n.activeElement&&this.eCheckbox.toggle();const r=this.eCheckbox.getValue();this.onCheckboxChanged(r),s.preventDefault()}})}refresh(t){return this.params=t,this.updateCheckbox(t),!0}updateCheckbox(t){var i,n,s;let r,o=!0;if(t.node.group&&t.column){const u=t.column.getColId();u.startsWith(Vl)?r=null==t.value||""===t.value?void 0:"true"===t.value:t.node.aggData&&void 0!==t.node.aggData[u]?r=null!=(i=t.value)?i:void 0:o=!1}else r=null!=(n=t.value)?n:void 0;if(!o)return void this.eCheckbox.setDisplayed(!1);this.eCheckbox.setValue(r);const a=null!=t.disabled?t.disabled:!(null!=(s=t.column)&&s.isCellEditable(t.node));this.eCheckbox.setDisabled(a);const l=this.localeService.getLocaleTextFunc(),d=Nm(l,r),c=a?d:`${l("ariaToggleCellValue","Press SPACE to toggle cell value")} (${d})`;this.eCheckbox.setInputAriaLabel(c)}onCheckboxChanged(t){const{column:i,node:n,rowIndex:s,value:r}=this.params,o={type:f.EVENT_CELL_EDITING_STARTED,column:i,colDef:i?.getColDef(),data:n.data,node:n,rowIndex:s,rowPinned:n.rowPinned,value:r};this.eventService.dispatchEvent(o);const a=this.params.node.setDataValue(this.params.column,t,"edit"),l={type:f.EVENT_CELL_EDITING_STOPPED,column:i,colDef:i?.getColDef(),data:n.data,node:n,rowIndex:s,rowPinned:n.rowPinned,value:r,oldValue:r,newValue:t,valueChanged:a};this.eventService.dispatchEvent(l)}};nS.TEMPLATE='\n        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">\n            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n        </div>',h([N("eCheckbox")],nS.prototype,"eCheckbox",2);var vJ=nS,wk=class extends Go{constructor(){super('\n            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')}init(e){var t;this.params=e;const i=null!=(t=e.value)?t:void 0;this.eCheckbox.setValue(i),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(i),this.addManagedListener(this.eCheckbox,f.EVENT_FIELD_VALUE_CHANGED,s=>this.setAriaLabel(s.selected))}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.localeService.getLocaleTextFunc(),i=Nm(t,e),n=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${n} (${i})`)}};h([N("eCheckbox")],wk.prototype,"eCheckbox",2);var CJ=class extends ee{constructor(){super(),this.setTemplate("<div></div>")}init(e){var t;this.params=e,this.cssClassPrefix=null!=(t=this.params.cssClassPrefix)?t:"ag-menu-option",this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu()}configureDefaults(){return!0}addIcon(){if(this.params.isCompact)return;const e=qi(`<span ref="eIcon" class="${this.getClassName("part")} ${this.getClassName("icon")}" role="presentation"></span>`);this.params.checked?e.appendChild(ct("check",this.gridOptionsService)):this.params.icon&&(Du(this.params.icon)?e.appendChild(this.params.icon):"string"==typeof this.params.icon?e.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(e)}addName(){const e=qi(`<span ref="eName" class="${this.getClassName("part")} ${this.getClassName("text")}">${this.params.name||""}</span>`);this.getGui().appendChild(e)}addShortcut(){if(this.params.isCompact)return;const e=qi(`<span ref="eShortcut" class="${this.getClassName("part")} ${this.getClassName("shortcut")}">${this.params.shortcut||""}</span>`);this.getGui().appendChild(e)}addSubMenu(){const e=qi(`<span ref="ePopupPointer" class="${this.getClassName("part")} ${this.getClassName("popup-pointer")}"></span>`),t=this.getGui();if(this.params.subMenu){const i=this.gridOptionsService.get("enableRtl")?"smallLeft":"smallRight";or(t,!1),e.appendChild(ct(i,this.gridOptionsService))}t.appendChild(e)}getClassName(e){return`${this.cssClassPrefix}-${e}`}destroy(){super.destroy()}},Ou=class extends A{constructor(){super(...arguments),this.agGridDefaults={agDateInput:nk,agColumnHeader:eS,agColumnGroupHeader:tJ,agSortIndicator:J_,agTextColumnFloatingFilter:eJ,agNumberColumnFloatingFilter:JX,agDateColumnFloatingFilter:Qm,agReadOnlyFloatingFilter:$_,agAnimateShowChangeCellRenderer:ck,agAnimateSlideCellRenderer:uk,agGroupCellRenderer:gk,agGroupRowRenderer:gk,agLoadingCellRenderer:lJ,agCheckboxCellRenderer:vJ,agCellEditor:dk,agTextCellEditor:dk,agNumberCellEditor:pJ,agDateCellEditor:mJ,agDateStringCellEditor:bk,agSelectCellEditor:iS,agLargeTextCellEditor:iJ,agCheckboxCellEditor:wk,agTextColumnFilter:X_,agNumberColumnFilter:ok,agDateColumnFilter:tk,agLoadingOverlay:dJ,agNoRowsOverlay:cJ,agTooltipComponent:uJ,agMenuItem:CJ},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}init(){null!=this.gridOptions.components&&pi(this.gridOptions.components,(e,t)=>this.registerJsComponent(e,t))}registerDefaultComponent(e,t){this.agGridDefaults[e]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[e]=t}registerJsComponent(e,t){this.jsComps[e]=t}retrieve(e,t){const i=(a,l)=>({componentFromFramework:l,component:a}),n=this.getFrameworkOverrides().frameworkComponent(t,this.gridOptions.components);if(null!=n)return i(n,!0);const s=this.jsComps[t];if(s)return i(s,this.getFrameworkOverrides().isFrameworkComponent(s));const r=this.agGridDefaults[t];if(r)return i(r,!1);const o=this.enterpriseAgDefaultCompsModule[t];return o?ke.__assertRegistered(o,`AG Grid '${e}' component: ${t}`,this.context.getGridId()):Fo(()=>{this.warnAboutMissingComponent(e,t)},"MissingComp"+t),null}warnAboutMissingComponent(e,t){const n=xu(t,[...Object.keys(this.agGridDefaults).filter(s=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(s)),...Object.keys(this.jsComps)],!0,.8).values;console.warn(`AG Grid: Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.`),n.length>0&&console.warn(`         Did you mean: [${n.slice(0,3)}]?`),console.warn(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}};h([g("gridOptions")],Ou.prototype,"gridOptions",2),h([I],Ou.prototype,"init",1),Ou=h([V("userComponentRegistry")],Ou);var bJ={propertyName:"dateComponent",cellRenderer:!1},wJ={propertyName:"headerComponent",cellRenderer:!1},yJ={propertyName:"headerGroupComponent",cellRenderer:!1},yk={propertyName:"cellRenderer",cellRenderer:!0},_J={propertyName:"cellEditor",cellRenderer:!1},_k={propertyName:"innerRenderer",cellRenderer:!0},SJ={propertyName:"loadingOverlayComponent",cellRenderer:!1},EJ={propertyName:"noRowsOverlayComponent",cellRenderer:!1},DJ={propertyName:"tooltipComponent",cellRenderer:!1},sS={propertyName:"filter",cellRenderer:!1},xJ={propertyName:"floatingFilterComponent",cellRenderer:!1},RJ={propertyName:"toolPanel",cellRenderer:!1},TJ={propertyName:"statusPanel",cellRenderer:!1},AJ={propertyName:"fullWidthCellRenderer",cellRenderer:!0},MJ={propertyName:"loadingCellRenderer",cellRenderer:!0},IJ={propertyName:"groupRowRenderer",cellRenderer:!0},FJ={propertyName:"detailCellRenderer",cellRenderer:!0},OJ={propertyName:"menuItem",cellRenderer:!1},Sk=class{static getFloatingFilterType(e){return this.filterToFloatingFilterMapping[e]}};Sk.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"};var Ur=class extends A{getHeaderCompDetails(e,t){return this.getCompDetails(e,wJ,"agColumnHeader",t)}getHeaderGroupCompDetails(e){const t=e.columnGroup.getColGroupDef();return this.getCompDetails(t,yJ,"agColumnGroupHeader",e)}getFullWidthCellRendererDetails(e){return this.getCompDetails(this.gridOptions,AJ,null,e,!0)}getFullWidthLoadingCellRendererDetails(e){return this.getCompDetails(this.gridOptions,MJ,"agLoadingCellRenderer",e,!0)}getFullWidthGroupCellRendererDetails(e){return this.getCompDetails(this.gridOptions,IJ,"agGroupRowRenderer",e,!0)}getFullWidthDetailCellRendererDetails(e){return this.getCompDetails(this.gridOptions,FJ,"agDetailCellRenderer",e,!0)}getInnerRendererDetails(e,t){return this.getCompDetails(e,_k,null,t)}getFullWidthGroupRowInnerCellRenderer(e,t){return this.getCompDetails(e,_k,null,t)}getCellRendererDetails(e,t){return this.getCompDetails(e,yk,null,t)}getCellEditorDetails(e,t){return this.getCompDetails(e,_J,"agCellEditor",t,!0)}getFilterDetails(e,t,i){return this.getCompDetails(e,sS,i,t,!0)}getDateCompDetails(e){return this.getCompDetails(this.gridOptions,bJ,"agDateInput",e,!0)}getLoadingOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,SJ,"agLoadingOverlay",e,!0)}getNoRowsOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,EJ,"agNoRowsOverlay",e,!0)}getTooltipCompDetails(e){return this.getCompDetails(e.colDef,DJ,"agTooltipComponent",e,!0)}getSetFilterCellRendererDetails(e,t){return this.getCompDetails(e,yk,null,t)}getFloatingFilterCompDetails(e,t,i){return this.getCompDetails(e,xJ,i,t)}getToolPanelCompDetails(e,t){return this.getCompDetails(e,RJ,null,t,!0)}getStatusPanelCompDetails(e,t){return this.getCompDetails(e,TJ,null,t,!0)}getMenuItemCompDetails(e,t){return this.getCompDetails(e,OJ,"agMenuItem",t,!0)}getCompDetails(e,t,i,n,s=!1){const{propertyName:r,cellRenderer:o}=t;let{compName:a,jsComp:l,fwComp:d,paramsFromSelector:c,popupFromSelector:u,popupPositionFromSelector:p}=this.getCompKeys(e,t,n);const m=y=>{const w=this.userComponentRegistry.retrieve(r,y);w&&(l=w.componentFromFramework?void 0:w.component,d=w.componentFromFramework?w.component:void 0)};if(null!=a&&m(a),null==l&&null==d&&null!=i&&m(i),l&&o&&!this.agComponentUtils.doesImplementIComponent(l)&&(l=this.agComponentUtils.adaptFunction(r,l)),!l&&!d)return void(s&&console.error(`AG Grid: Could not find component ${a}, did you forget to configure this component?`));const v=this.mergeParamsWithApplicationProvidedParams(e,t,n,c),C=null==l,b=l||d;return{componentFromFramework:C,componentClass:b,params:v,type:t,popupFromSelector:u,popupPositionFromSelector:p,newAgStackInstance:()=>this.newAgStackInstance(b,C,v,t)}}getCompKeys(e,t,i){const{propertyName:n}=t;let s,r,o,a,l,d;if(e){const c=e,u=c[n+"Selector"],p=u?u(i):null,m=v=>{"string"==typeof v?s=v:null!=v&&!0!==v&&(this.getFrameworkOverrides().isFrameworkComponent(v)?o=v:r=v)};p?(m(p.component),a=p.params,l=p.popup,d=p.popupPosition):m(c[n])}return{compName:s,jsComp:r,fwComp:o,paramsFromSelector:a,popupFromSelector:l,popupPositionFromSelector:d}}newAgStackInstance(e,t,i,n){let o;if(t){const l=this.componentMetadataProvider.retrieve(n.propertyName);o=this.frameworkComponentWrapper.wrap(e,l.mandatoryMethodList,l.optionalMethodList,n)}else o=new e;const a=this.initComponent(o,i);return null==a?Ki.resolve(o):a.then(()=>o)}mergeParamsWithApplicationProvidedParams(e,t,i,n=null){const s=this.gridOptionsService.getGridCommonParams();cn(s,i);const o=e&&e[t.propertyName+"Params"];return"function"==typeof o?cn(s,o(i)):"object"==typeof o&&cn(s,o),cn(s,n),s}initComponent(e,t){if(this.context.createBean(e),null!=e.init)return e.init(t)}getDefaultFloatingFilterType(e,t){if(null==e)return null;let i=null,{compName:n,jsComp:s,fwComp:r}=this.getCompKeys(e,sS);return n?i=Sk.getFloatingFilterType(n):null==s&&null==r&&!0===e.filter&&(i=t()),i}};h([g("gridOptions")],Ur.prototype,"gridOptions",2),h([g("agComponentUtils")],Ur.prototype,"agComponentUtils",2),h([g("componentMetadataProvider")],Ur.prototype,"componentMetadataProvider",2),h([g("userComponentRegistry")],Ur.prototype,"userComponentRegistry",2),h([De("frameworkComponentWrapper")],Ur.prototype,"frameworkComponentWrapper",2),Ur=h([V("userComponentFactory")],Ur);var Jm=class{};Jm.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0},Jm.ALL_PROPERTIES=Object.keys(Jm.ColDefPropertyMap);var PJ=Jm,Ek=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=-1!==e.scrollAxis.indexOf("x"),this.scrollVertically=-1!==e.scrollAxis.indexOf("y"),this.scrollByTick=null!=e.scrollByTick?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const i=t||this.shouldSkipVerticalScroll();if(i&&this.shouldSkipHorizontalScroll())return;const n=this.scrollContainer.getBoundingClientRect(),s=this.scrollByTick;this.tickLeft=e.clientX<n.left+s,this.tickRight=e.clientX>n.right-s,this.tickUp=e.clientY<n.top+s&&!i,this.tickDown=e.clientY>n.bottom-s&&!i,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){let e;if(this.tickCount++,e=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},pn=class extends A{constructor(e){super(),this.isMultiRowDrag=!1,this.eContainer=e}postConstruct(){this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(()=>{const e=this.ctrlsService.getGridBodyCtrl();this.autoScrollService=new Ek({scrollContainer:e.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>e.getScrollFeature().getVScrollPosition().top,setVerticalPosition:t=>e.getScrollFeature().setVerticalScrollPosition(t),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return 2===e}getIconName(){return this.gridOptionsService.get("rowDragManaged")&&this.shouldPreventRowMove()?ie.ICON_NOT_ALLOWED:ie.ICON_MOVE}shouldPreventRowMove(){return!!(this.columnModel.getRowGroupColumns().length||this.filterManager.isAnyFilterPresent()||this.sortController.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=this.gridOptionsService.get("rowDragMultiRow"),i=[...this.selectionService.getSelectedNodes()].sort((s,r)=>null==s.rowIndex||null==r.rowIndex?0:this.getRowIndexNumber(s)-this.getRowIndexNumber(r)),n=e.dragItem.rowNode;return t&&-1!==i.indexOf(n)?(this.isMultiRowDrag=!0,i):(this.isMultiRowDrag=!1,[n])}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent(f.EVENT_ROW_DRAG_ENTER,e),this.getRowNodes(e).forEach(t=>{t.setDragging(!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gridOptionsService.getDomDataKey()}isDropZoneWithinThisGrid(e){const i=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:n}=e;return!i.contains(n)}onEnterOrDragging(e){this.dispatchGridEvent(f.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;const t=this.mouseEventService.getNormalisedPosition(e).y;this.gridOptionsService.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){const i=this.isFromThisGrid(e),n=this.gridOptionsService.get("rowDragManaged"),s=e.dragItem.rowNodes;n&&this.shouldPreventRowMove()||(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!i?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(s[0],t):this.moveRows(s,t))}getRowIndexNumber(e){return parseInt(Ae(e.getRowIndexString().split("-")),10)}moveRowAndClearHighlight(e){const t=this.clientSideRowModel.getLastHighlightedRowNode(),i=t&&1===t.highlighted,n=this.mouseEventService.getNormalisedPosition(e).y,s=e.dragItem.rowNodes;let r=i?1:0;if(this.isFromThisGrid(e))s.forEach(o=>{o.rowTop<n&&(r-=1)}),this.moveRows(s,n,r);else{const o=this.gridOptionsService.getCallback("getRowId");let a=this.clientSideRowModel.getRowIndexAtPixel(n)+1;0===this.clientSideRowModel.getHighlightPosition(n)&&a--,this.clientSideRowModel.updateRowData({add:s.map(l=>l.data).filter(l=>!this.clientSideRowModel.getRowNode(o?o({data:l,level:0}):l.id)),addIndex:a})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t,i=0){this.clientSideRowModel.ensureRowsAtPixel(e,t,i)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())}addRowDropZone(e){if(!e.getContainer())return void $("addRowDropZone - A container target needs to be provided");if(this.dragAndDropService.findExternalZone(e))return void console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");let t={getContainer:e.getContainer};e.fromGrid?t=e:(e.onDragEnter&&(t.onDragEnter=i=>{e.onDragEnter(this.draggingToRowDragEvent(f.EVENT_ROW_DRAG_ENTER,i))}),e.onDragLeave&&(t.onDragLeave=i=>{e.onDragLeave(this.draggingToRowDragEvent(f.EVENT_ROW_DRAG_LEAVE,i))}),e.onDragging&&(t.onDragging=i=>{e.onDragging(this.draggingToRowDragEvent(f.EVENT_ROW_DRAG_MOVE,i))}),e.onDragStop&&(t.onDragStop=i=>{e.onDragStop(this.draggingToRowDragEvent(f.EVENT_ROW_DRAG_END,i))})),this.dragAndDropService.addDropTarget(z({isInterestedIn:i=>2===i,getIconName:()=>ie.ICON_MOVE,external:!0},t))}getRowDropZone(e){const t=this.getContainer.bind(this),i=this.onDragEnter.bind(this),n=this.onDragLeave.bind(this),s=this.onDragging.bind(this),r=this.onDragStop.bind(this);return e?{getContainer:t,onDragEnter:e.onDragEnter?o=>{i(o),e.onDragEnter(this.draggingToRowDragEvent(f.EVENT_ROW_DRAG_ENTER,o))}:i,onDragLeave:e.onDragLeave?o=>{n(o),e.onDragLeave(this.draggingToRowDragEvent(f.EVENT_ROW_DRAG_LEAVE,o))}:n,onDragging:e.onDragging?o=>{s(o),e.onDragging(this.draggingToRowDragEvent(f.EVENT_ROW_DRAG_MOVE,o))}:s,onDragStop:e.onDragStop?o=>{r(o),e.onDragStop(this.draggingToRowDragEvent(f.EVENT_ROW_DRAG_END,o))}:r,fromGrid:!0}:{getContainer:t,onDragEnter:i,onDragLeave:n,onDragging:s,onDragStop:r,fromGrid:!0}}draggingToRowDragEvent(e,t){const i=this.mouseEventService.getNormalisedPosition(t).y;let r,o,s=-1;switch(i>this.paginationProxy.getCurrentPageHeight()||(s=this.rowModel.getRowIndexAtPixel(i),r=this.rowModel.getRow(s)),t.vDirection){case 1:o="down";break;case 0:o="up";break;default:o=null}return this.gridOptionsService.addGridCommonParams({type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:s,overNode:r,y:i,vDirection:o})}dispatchGridEvent(e,t){const i=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(i)}onDragLeave(e){this.dispatchGridEvent(f.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e),this.gridOptionsService.get("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(e)&&(this.isMultiRowDrag=!1)}onDragStop(e){this.dispatchGridEvent(f.EVENT_ROW_DRAG_END,e),this.stopDragging(e),this.gridOptionsService.get("rowDragManaged")&&(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&!this.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{t.setDragging(!1)})}};h([g("dragAndDropService")],pn.prototype,"dragAndDropService",2),h([g("rowModel")],pn.prototype,"rowModel",2),h([g("paginationProxy")],pn.prototype,"paginationProxy",2),h([g("columnModel")],pn.prototype,"columnModel",2),h([g("focusService")],pn.prototype,"focusService",2),h([g("sortController")],pn.prototype,"sortController",2),h([g("filterManager")],pn.prototype,"filterManager",2),h([g("selectionService")],pn.prototype,"selectionService",2),h([g("mouseEventService")],pn.prototype,"mouseEventService",2),h([g("ctrlsService")],pn.prototype,"ctrlsService",2),h([De("rangeService")],pn.prototype,"rangeService",2),h([I],pn.prototype,"postConstruct",1);var Pu=class extends A{constructor(){super(...arguments),this.dragEndFunctions=[],this.dragSources=[]}removeAllListeners(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0}removeListener(e){const t=e.dragSource.eElement;t.removeEventListener("mousedown",e.mouseDownListener),e.touchEnabled&&t.removeEventListener("touchstart",e.touchStartListener,{passive:!0})}removeDragSource(e){const t=this.dragSources.find(i=>i.dragSource===e);t&&(this.removeListener(t),ji(this.dragSources,t))}isDragging(){return this.dragging}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:i,includeTouch:n,stopPropagationForTouch:s}=e;i.addEventListener("mousedown",t);let r=null;const o=this.gridOptionsService.get("suppressTouch");n&&!o&&(r=a=>{L_(a.target)||(a.cancelable&&(a.preventDefault(),s&&a.stopPropagation()),this.onTouchStart(e,a))},i.addEventListener("touchstart",r,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:r,touchEnabled:!!n})}getStartTarget(){return this.startTarget}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const i=t.touches[0];this.touchLastTime=i,this.touchStart=i;const s=l=>this.onTouchUp(l,e.eElement),o=t.target,a=[{target:this.gridOptionsService.getRootNode(),type:"touchmove",listener:l=>{l.cancelable&&l.preventDefault()},options:{passive:!1}},{target:o,type:"touchmove",listener:l=>this.onTouchMove(l,e.eElement),options:{passive:!0}},{target:o,type:"touchend",listener:s,options:{passive:!0}},{target:o,type:"touchcancel",listener:s,options:{passive:!0}}];this.addTemporaryEvents(a),0===e.dragStartPixels&&this.onCommonMove(i,this.touchStart,e.eElement)}onMouseDown(e,t){const i=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||i._alreadyProcessedByDragService||(i._alreadyProcessedByDragService=!0,0!==t.button))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const o=this.gridOptionsService.getRootNode();this.addTemporaryEvents([{target:o,type:"mousemove",listener:l=>this.onMouseMove(l,e.eElement)},{target:o,type:"mouseup",listener:l=>this.onMouseUp(l,e.eElement)},{target:o,type:"contextmenu",listener:l=>l.preventDefault()}]),0===e.dragStartPixels&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:i,type:n,listener:s,options:r}=t;i.addEventListener(n,s,r)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:i,type:n,listener:s,options:r}=t;i.removeEventListener(n,s,r)})})}isEventNearStartEvent(e,t){const{dragStartPixels:i}=this.currentDragParams;return W_(e,t,R(i)?i:4)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,i){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,t))return;this.dragging=!0,this.eventService.dispatchEvent({type:f.EVENT_DRAG_STARTED,target:i}),this.currentDragParams.onDragStart(t),this.currentDragParams.onDragging(t)}this.currentDragParams.onDragging(e)}onTouchMove(e,t){const i=this.getFirstActiveTouch(e.touches);i&&this.onCommonMove(i,this.touchStart,t)}onMouseMove(e,t){var i;Rs()&&(null==(i=this.gridOptionsService.getDocument().getSelection())||i.removeAllRanges()),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){return this.gridOptionsService.get("enableCellTextSelection")&&"mousemove"===e.type&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)}isOverFormFieldElement(e){const t=e.target,i=t?.tagName.toLocaleLowerCase();return!!i?.match("^a$|textarea|input|select|button")}onTouchUp(e,t){let i=this.getFirstActiveTouch(e.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:f.EVENT_DRAG_STOPPED,target:t})),this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(i=>i()),this.dragEndFunctions.length=0}};h([g("mouseEventService")],Pu.prototype,"mouseEventService",2),h([Fi],Pu.prototype,"removeAllListeners",1),Pu=h([V("dragService")],Pu);var rS="ag-list-item-hovered",Dk=class extends A{constructor(e,t,i){super(),this.comp=e,this.virtualList=t,this.params=i,this.currentDragValue=null,this.lastHoveredListItem=null}postConstruct(){this.addManagedListener(this.params.eventSource,this.params.listItemDragStartEvent,this.listItemDragStart.bind(this)),this.addManagedListener(this.params.eventSource,this.params.listItemDragEndEvent,this.listItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()}listItemDragStart(e){this.currentDragValue=this.params.getCurrentDragValue(e),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)}listItemDragEnd(){window.setTimeout(()=>{this.currentDragValue=null,this.moveBlocked=!1},10)}createDropTarget(){this.dragAndDropService.addDropTarget({isInterestedIn:t=>t===this.params.dragSourceType,getIconName:()=>this.moveBlocked?ie.ICON_PINNED:ie.ICON_MOVE,getContainer:()=>this.comp.getGui(),onDragging:t=>this.onDragging(t),onDragStop:()=>this.onDragStop(),onDragLeave:()=>this.onDragLeave()})}createAutoScrollService(){const e=this.virtualList.getGui();this.autoScrollService=new Ek({scrollContainer:e,scrollAxis:"y",getVerticalPosition:()=>e.scrollTop,setVerticalPosition:t=>e.scrollTop=t})}onDragging(e){if(!this.currentDragValue||this.moveBlocked)return;const t=this.getListDragItem(e),i=this.virtualList.getComponentAt(t.rowIndex);if(!i)return;const n=i.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===t.rowIndex&&this.lastHoveredListItem.position===t.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredListItem=t,O_(n,rS),O_(n,`ag-item-highlight-${t.position}`))}getListDragItem(e){const t=this.virtualList.getGui(),i=parseFloat(window.getComputedStyle(t).paddingTop),n=this.virtualList.getRowHeight(),s=this.virtualList.getScrollTop(),r=Math.max(0,(e.y-i+s)/n),o=this.params.getNumRows(this.comp)-1,a=0|Math.min(o,r);return{rowIndex:a,position:Math.round(r)>r||r>o?"bottom":"top",component:this.virtualList.getComponentAt(a)}}onDragStop(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearHoveredItems(),this.autoScrollService.ensureCleared())}onDragLeave(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()}clearHoveredItems(){this.virtualList.getGui().querySelectorAll(`.${rS}`).forEach(t=>{[rS,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(i=>{t.classList.remove(i)})}),this.lastHoveredListItem=null}};function Uo(e){return null!=e&&null!=e.getFrameworkComponentInstance?e.getFrameworkComponentInstance():e}h([g("dragAndDropService")],Dk.prototype,"dragAndDropService",2),h([I],Dk.prototype,"postConstruct",1);var be=class{constructor(){this.detailGridInfoMap={},this.destroyCalled=!1}init(){switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl()})}__getAlignedGridService(){return this.alignedGridsService}__getContext(){return this.context}__getModel(){return this.rowModel}getGridId(){return this.context.getGridId()}addDetailGridInfo(e,t){this.detailGridInfoMap[e]=t}removeDetailGridInfo(e){this.detailGridInfoMap[e]=void 0}getDetailGridInfo(e){return this.detailGridInfoMap[e]}forEachDetailGridInfo(e){let t=0;pi(this.detailGridInfoMap,(i,n)=>{R(n)&&(e(n,t),t++)})}getDataAsCsv(e){if(ke.__assertRegistered("@ag-grid-community/csv-export","api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(e)}exportDataAsCsv(e){ke.__assertRegistered("@ag-grid-community/csv-export","api.exportDataAsCSv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(e)}assertNotExcelMultiSheet(e,t){return!(!ke.__assertRegistered("@ag-grid-enterprise/excel-export","api."+e,this.context.getGridId())||1===this.excelCreator.getFactoryMode()&&(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),1))}getDataAsExcel(e){if(this.assertNotExcelMultiSheet("getDataAsExcel",e))return this.excelCreator.getDataAsExcel(e)}exportDataAsExcel(e){this.assertNotExcelMultiSheet("exportDataAsExcel",e)&&this.excelCreator.exportDataAsExcel(e)}getSheetDataForExcel(e){if(ke.__assertRegistered("@ag-grid-enterprise/excel-export","api.getSheetDataForExcel",this.context.getGridId()))return this.excelCreator.setFactoryMode(1),this.excelCreator.getSheetDataForExcel(e)}getMultipleSheetsAsExcel(e){if(ke.__assertRegistered("@ag-grid-enterprise/excel-export","api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(e)}exportMultipleSheetsAsExcel(e){ke.__assertRegistered("@ag-grid-enterprise/excel-export","api.exportMultipleSheetsAsExcel",this.context.getGridId())&&this.excelCreator.exportMultipleSheetsAsExcel(e)}setGridAriaProperty(e,t){if(!e)return;const i=this.ctrlsService.getGridBodyCtrl().getGui(),n=`aria-${e}`;null===t?i.removeAttribute(n):i.setAttribute(n,t)}logMissingRowModel(e,...t){console.error(`AG Grid: api.${e} can only be called when gridOptions.rowModelType is ${t.join(" or ")}`)}logDeprecation(e,t,i,n){$(`Since ${e} api.${t} is deprecated. Please use ${i} instead. ${n}`)}getPinnedTopRowCount(){return this.pinnedRowModel.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.pinnedRowModel.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.pinnedRowModel.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.pinnedRowModel.getPinnedBottomRow(e)}expireValueCache(){this.valueCache.expire()}getVerticalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()}getHorizontalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()}refreshCells(e={}){this.frameworkOverrides.wrapIncoming(()=>this.rowRenderer.refreshCells(e))}flashCells(e={}){const t=i=>$(`Since v31.1 api.flashCells parameter '${i}Delay' is deprecated. Please use '${i}Duration' instead.`);R(e.fadeDelay)&&t("fade"),R(e.flashDelay)&&t("flash"),this.frameworkOverrides.wrapIncoming(()=>this.rowRenderer.flashCells(e))}redrawRows(e={}){const t=e?e.rowNodes:void 0;this.frameworkOverrides.wrapIncoming(()=>this.rowRenderer.redrawRows(t))}refreshHeader(){this.frameworkOverrides.wrapIncoming(()=>this.ctrlsService.getHeaderRowContainerCtrls().forEach(e=>e.refresh()))}isAnyFilterPresent(){return this.filterManager.isAnyFilterPresent()}isColumnFilterPresent(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()}isQuickFilterPresent(){return this.filterManager.isQuickFilterPresent()}getModel(){return $("Since v31.1 getModel() is deprecated. Please use the appropriate grid API methods instead."),this.rowModel}setRowNodeExpanded(e,t,i){this.expansionService.setRowNodeExpanded(e,t,i)}onGroupExpandedOrCollapsed(){Y(this.clientSideRowModel)?this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide"):this.expansionService.onGroupExpandedOrCollapsed()}refreshClientSideRowModel(e){Y(this.clientSideRowModel)?this.logMissingRowModel("refreshClientSideRowModel","clientSide"):this.clientSideRowModel.refreshModel(e)}isAnimationFrameQueueEmpty(){return this.animationFrameService.isQueueEmpty()}flushAllAnimationFrames(){this.animationFrameService.flushAllFrames()}getRowNode(e){return this.rowModel.getRowNode(e)}getSizesForCurrentTheme(){return{rowHeight:this.gos.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}}expandAll(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")}collapseAll(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!1):this.logMissingRowModel("collapseAll","clientSide","serverSide")}addRenderedRowListener(e,t,i){this.rowRenderer.addRenderedRowListener(e,t,i)}getQuickFilter(){return this.gos.get("quickFilterText")}getAdvancedFilterModel(){return ke.__assertRegistered("@ag-grid-enterprise/advanced-filter","api.getAdvancedFilterModel",this.context.getGridId())?this.filterManager.getAdvancedFilterModel():null}setAdvancedFilterModel(e){this.filterManager.setAdvancedFilterModel(e)}showAdvancedFilterBuilder(){ke.__assertRegistered("@ag-grid-enterprise/advanced-filter","api.setAdvancedFilterModel",this.context.getGridId())&&this.filterManager.showAdvancedFilterBuilder("api")}setNodesSelected(e){if(!e.nodes.every(o=>o.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),!1):void 0!==o.id||(console.warn("AG Grid: cannot select node until id for node is known"),!1)))return;const{nodes:i,source:n,newValue:s}=e;this.selectionService.setNodesSelected({nodes:i,source:n??"api",newValue:s})}selectAll(e="apiSelectAll"){this.selectionService.selectAllRowNodes({source:e})}deselectAll(e="apiSelectAll"){this.selectionService.deselectAllRowNodes({source:e})}selectAllFiltered(e="apiSelectAllFiltered"){this.selectionService.selectAllRowNodes({source:e,justFiltered:!0})}deselectAllFiltered(e="apiSelectAllFiltered"){this.selectionService.deselectAllRowNodes({source:e,justFiltered:!0})}getServerSideSelectionState(){return Y(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getSelectionState()}setServerSideSelectionState(e){Y(this.serverSideRowModel)?this.logMissingRowModel("setServerSideSelectionState","serverSide"):this.selectionService.setSelectionState(e,"api")}selectAllOnCurrentPage(e="apiSelectAllCurrentPage"){this.selectionService.selectAllRowNodes({source:e,justCurrentPage:!0})}deselectAllOnCurrentPage(e="apiSelectAllCurrentPage"){this.selectionService.deselectAllRowNodes({source:e,justCurrentPage:!0})}showLoadingOverlay(){this.overlayService.showLoadingOverlay()}showNoRowsOverlay(){this.overlayService.showNoRowsOverlay()}hideOverlay(){this.overlayService.hideOverlay()}getSelectedNodes(){return this.selectionService.getSelectedNodes()}getSelectedRows(){return this.selectionService.getSelectedRows()}getBestCostNodeSelection(){if(!Y(this.clientSideRowModel))return this.selectionService.getBestCostNodeSelection();this.logMissingRowModel("getBestCostNodeSelection","clientSide")}getRenderedNodes(){return this.rowRenderer.getRenderedNodes()}ensureColumnVisible(e,t="auto"){this.frameworkOverrides.wrapIncoming(()=>this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(e,t),"ensureVisible")}ensureIndexVisible(e,t){this.frameworkOverrides.wrapIncoming(()=>this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e,t),"ensureVisible")}ensureNodeVisible(e,t=null){this.frameworkOverrides.wrapIncoming(()=>this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(e,t),"ensureVisible")}forEachLeafNode(e){Y(this.clientSideRowModel)?this.logMissingRowModel("forEachLeafNode","clientSide"):this.clientSideRowModel.forEachLeafNode(e)}forEachNode(e,t){this.rowModel.forEachNode(e,t)}forEachNodeAfterFilter(e){Y(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilter","clientSide"):this.clientSideRowModel.forEachNodeAfterFilter(e)}forEachNodeAfterFilterAndSort(e){Y(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide"):this.clientSideRowModel.forEachNodeAfterFilterAndSort(e)}getFilterInstance(e,t){return $("'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."),this.filterManager.getFilterInstance(e,t)}getColumnFilterInstance(e){return this.filterManager.getColumnFilterInstance(e)}destroyFilter(e){const t=this.columnModel.getPrimaryColumn(e);if(t)return this.filterManager.destroyFilter(t,"api")}getStatusPanel(e){if(ke.__assertRegistered("@ag-grid-enterprise/status-bar","api.getStatusPanel",this.context.getGridId()))return Uo(this.statusBarService.getStatusPanel(e))}getColumnDef(e){const t=this.columnModel.getPrimaryColumn(e);return t?t.getColDef():null}getColumnDefs(){return this.columnModel.getColumnDefs()}onFilterChanged(e="api"){this.filterManager.onFilterChanged({source:e})}onSortChanged(){this.sortController.onSortChanged("api")}setFilterModel(e){this.frameworkOverrides.wrapIncoming(()=>this.filterManager.setFilterModel(e))}getFilterModel(){return this.filterManager.getFilterModel()}getColumnFilterModel(e){return this.filterManager.getColumnFilterModel(e)}setColumnFilterModel(e,t){return this.filterManager.setColumnFilterModel(e,t)}getFocusedCell(){return this.focusService.getFocusedCell()}clearFocusedCell(){return this.focusService.clearFocusedCell()}setFocusedCell(e,t,i){this.focusService.setFocusedCell({rowIndex:e,column:t,rowPinned:i,forceBrowserFocus:!0})}addRowDropZone(e){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(e)}removeRowDropZone(e){const t=this.dragAndDropService.findExternalZone(e);t&&this.dragAndDropService.removeDropTarget(t)}getRowDropZoneParams(e){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(e)}assertSideBarLoaded(e){return ke.__assertRegistered("@ag-grid-enterprise/side-bar","api."+e,this.context.getGridId())}isSideBarVisible(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarService.getSideBarComp().isDisplayed()}setSideBarVisible(e){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarService.getSideBarComp().setDisplayed(e)}setSideBarPosition(e){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarService.getSideBarComp().setSideBarPosition(e)}openToolPanel(e){this.assertSideBarLoaded("openToolPanel")&&this.sideBarService.getSideBarComp().openToolPanel(e,"api")}closeToolPanel(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarService.getSideBarComp().close("api")}getOpenedToolPanel(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarService.getSideBarComp().openedItem():null}refreshToolPanel(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarService.getSideBarComp().refresh()}isToolPanelShowing(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarService.getSideBarComp().isToolPanelShowing()}getToolPanelInstance(e){if(this.assertSideBarLoaded("getToolPanelInstance"))return Uo(this.sideBarService.getSideBarComp().getToolPanelInstance(e))}getSideBar(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarService.getSideBarComp().getDef()}resetRowHeights(){if(R(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}}setRowCount(e,t){if(this.serverSideRowModel)return this.columnModel.isRowGroupEmpty()?void this.serverSideRowModel.setRowCount(e,t):void console.error("AG Grid: setRowCount cannot be used while using row grouping.");this.infiniteRowModel?this.infiniteRowModel.setRowCount(e,t):this.logMissingRowModel("setRowCount","infinite","serverSide")}onRowHeightChanged(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()}getValue(e,t){let i=this.columnModel.getPrimaryColumn(e);return Y(i)&&(i=this.columnModel.getGridColumn(e)),Y(i)?null:this.valueService.getValue(i,t)}addEventListener(e,t){this.apiEventService.addEventListener(e,t)}addGlobalListener(e){this.apiEventService.addGlobalListener(e)}removeEventListener(e,t){this.apiEventService.removeEventListener(e,t)}removeGlobalListener(e){this.apiEventService.removeGlobalListener(e)}dispatchEvent(e){this.eventService.dispatchEvent(e)}destroy(){const e=`See ${this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}`;if(this.destroyCalled)return;const t={type:f.EVENT_GRID_PRE_DESTROYED,state:this.getState()};this.dispatchEvent(t),this.destroyCalled=!0;const i=this.ctrlsService.getGridCtrl();i&&i.destroyGridUi(),this.context.destroy(),AL(this,["isDestroyed"],e)}isDestroyed(){return this.destroyCalled}resetQuickFilter(){this.filterManager.resetQuickFilterCache()}getCellRanges(){return this.rangeService?this.rangeService.getCellRanges():(ke.__assertRegistered("@ag-grid-enterprise/range-selection","api.getCellRanges",this.context.getGridId()),null)}addCellRange(e){this.rangeService?this.rangeService.addCellRange(e):ke.__assertRegistered("@ag-grid-enterprise/range-selection","api.addCellRange",this.context.getGridId())}clearRangeSelection(){this.rangeService&&this.rangeService.removeAllCellRanges(),ke.__assertRegistered("@ag-grid-enterprise/range-selection","gridApi.clearRangeSelection",this.context.getGridId())}undoCellEditing(){this.undoRedoService.undo("api")}redoCellEditing(){this.undoRedoService.redo("api")}getCurrentUndoSize(){return this.undoRedoService.getCurrentUndoStackSize()}getCurrentRedoSize(){return this.undoRedoService.getCurrentRedoStackSize()}assertChart(e,t){if(ke.__assertRegistered("@ag-grid-enterprise/charts","api."+e,this.context.getGridId()))return this.frameworkOverrides.wrapIncoming(()=>t())}getChartModels(){return this.assertChart("getChartModels",()=>this.chartService.getChartModels())}getChartRef(e){return this.assertChart("getChartRef",()=>this.chartService.getChartRef(e))}getChartImageDataURL(e){return this.assertChart("getChartImageDataURL",()=>this.chartService.getChartImageDataURL(e))}downloadChart(e){return this.assertChart("downloadChart",()=>this.chartService.downloadChart(e))}openChartToolPanel(e){return this.assertChart("openChartToolPanel",()=>this.chartService.openChartToolPanel(e))}closeChartToolPanel(e){return this.assertChart("closeChartToolPanel",()=>this.chartService.closeChartToolPanel(e.chartId))}createRangeChart(e){return this.assertChart("createRangeChart",()=>this.chartService.createRangeChart(e))}createPivotChart(e){return this.assertChart("createPivotChart",()=>this.chartService.createPivotChart(e))}createCrossFilterChart(e){return this.assertChart("createCrossFilterChart",()=>this.chartService.createCrossFilterChart(e))}updateChart(e){return this.assertChart("updateChart",()=>this.chartService.updateChart(e))}restoreChart(e,t){return this.assertChart("restoreChart",()=>this.chartService.restoreChart(e,t))}assertClipboard(e,t){ke.__assertRegistered("@ag-grid-enterprise/clipboard","api"+e,this.context.getGridId())&&t()}copyToClipboard(e){this.assertClipboard("copyToClipboard",()=>this.clipboardService.copyToClipboard(e))}cutToClipboard(e){this.assertClipboard("cutToClipboard",()=>this.clipboardService.cutToClipboard(e))}copySelectedRowsToClipboard(e){this.assertClipboard("copySelectedRowsToClipboard",()=>this.clipboardService.copySelectedRowsToClipboard(e))}copySelectedRangeToClipboard(e){this.assertClipboard("copySelectedRangeToClipboard",()=>this.clipboardService.copySelectedRangeToClipboard(e))}copySelectedRangeDown(){this.assertClipboard("copySelectedRangeDown",()=>this.clipboardService.copyRangeDown())}pasteFromClipboard(){this.assertClipboard("pasteFromClipboard",()=>this.clipboardService.pasteFromClipboard())}showColumnMenuAfterButtonClick(e,t){$("'showColumnMenuAfterButtonClick' is deprecated. Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere.");const i=this.columnModel.getGridColumn(e);this.menuService.showColumnMenu({column:i,buttonElement:t,positionBy:"button"})}showColumnMenuAfterMouseClick(e,t){$("'showColumnMenuAfterMouseClick' is deprecated. Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere.");let i=this.columnModel.getGridColumn(e);i||(i=this.columnModel.getPrimaryColumn(e)),i?this.menuService.showColumnMenu({column:i,mouseEvent:t,positionBy:"mouse"}):console.error(`AG Grid: column '${e}' not found`)}showColumnChooser(e){this.menuService.showColumnChooser({chooserParams:e})}showColumnFilter(e){const t=this.columnModel.getGridColumn(e);t?this.menuService.showFilterMenu({column:t,containerType:"columnFilter",positionBy:"auto"}):console.error(`AG Grid: column '${e}' not found`)}showColumnMenu(e){const t=this.columnModel.getGridColumn(e);t?this.menuService.showColumnMenu({column:t,positionBy:"auto"}):console.error(`AG Grid: column '${e}' not found`)}hidePopupMenu(){this.menuService.hidePopupMenu()}hideColumnChooser(){this.menuService.hideColumnChooser()}tabToNextCell(e){return this.navigationService.tabToNextCell(!1,e)}tabToPreviousCell(e){return this.navigationService.tabToNextCell(!0,e)}getCellRendererInstances(e={}){return this.rowRenderer.getCellRendererInstances(e).map(Uo)}getCellEditorInstances(e={}){return this.rowRenderer.getCellEditorInstances(e).map(Uo)}getEditingCells(){return this.rowRenderer.getEditingCells()}stopEditing(e=!1){this.rowRenderer.stopEditing(e)}startEditingCell(e){const t=this.columnModel.getGridColumn(e.colKey);if(!t)return void console.warn(`AG Grid: no column found for ${e.colKey}`);const i={rowIndex:e.rowIndex,rowPinned:e.rowPinned||null,column:t};null==e.rowPinned&&this.ensureIndexVisible(e.rowIndex),this.ensureColumnVisible(e.colKey);const s=this.navigationService.getCellByPosition(i);s&&(this.focusService.isCellFocused(i)||this.focusService.setFocusedCell(i),s.startRowOrCellEdit(e.key))}addAggFunc(e,t){this.logDeprecation("v31.1","addAggFunc(key, func)","addAggFuncs({ key: func })"),this.aggFuncService&&this.aggFuncService.addAggFuncs({key:t})}addAggFuncs(e){this.aggFuncService&&this.aggFuncService.addAggFuncs(e)}clearAggFuncs(){this.aggFuncService&&this.aggFuncService.clear()}applyServerSideTransaction(e){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(e);this.logMissingRowModel("applyServerSideTransaction","serverSide")}applyServerSideTransactionAsync(e,t){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(e,t);this.logMissingRowModel("applyServerSideTransactionAsync","serverSide")}applyServerSideRowData(e){var t,i;const n=null!=(t=e.startRow)?t:0,s=null!=(i=e.route)?i:[];n<0?console.warn(`AG Grid: invalid value ${e.startRow} for startRow, the value should be >= 0`):this.serverSideRowModel?this.serverSideRowModel.applyRowData(e.successParams,n,s):this.logMissingRowModel("setServerSideDatasource","serverSide")}retryServerSideLoads(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():this.logMissingRowModel("retryServerSideLoads","serverSide")}flushServerSideAsyncTransactions(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide")}applyTransaction(e){if(this.clientSideRowModel)return this.frameworkOverrides.wrapIncoming(()=>this.clientSideRowModel.updateRowData(e));this.logMissingRowModel("applyTransaction","clientSide")}applyTransactionAsync(e,t){this.clientSideRowModel?this.frameworkOverrides.wrapIncoming(()=>this.clientSideRowModel.batchUpdateRowData(e,t)):this.logMissingRowModel("applyTransactionAsync","clientSide")}flushAsyncTransactions(){this.clientSideRowModel?this.frameworkOverrides.wrapIncoming(()=>this.clientSideRowModel.flushAsyncTransactions()):this.logMissingRowModel("flushAsyncTransactions","clientSide")}refreshInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")}purgeInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")}refreshServerSide(e){this.serverSideRowModel?this.serverSideRowModel.refreshStore(e):this.logMissingRowModel("refreshServerSide","serverSide")}getServerSideGroupLevelState(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])}getInfiniteRowCount(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")}isLastRowIndexKnown(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")}getCacheBlockState(){return this.rowNodeBlockLoader.getBlockState()}getFirstDisplayedRow(){return this.logDeprecation("v31.1","getFirstDisplayedRow","getFirstDisplayedRowIndex"),this.getFirstDisplayedRowIndex()}getFirstDisplayedRowIndex(){return this.rowRenderer.getFirstVirtualRenderedRow()}getLastDisplayedRow(){return this.logDeprecation("v31.1","getLastDisplayedRow","getLastDisplayedRowIndex"),this.getLastDisplayedRowIndex()}getLastDisplayedRowIndex(){return this.rowRenderer.getLastVirtualRenderedRow()}getDisplayedRowAtIndex(e){return this.rowModel.getRow(e)}getDisplayedRowCount(){return this.rowModel.getRowCount()}paginationIsLastPageFound(){return this.paginationProxy.isLastPageFound()}paginationGetPageSize(){return this.paginationProxy.getPageSize()}paginationGetCurrentPage(){return this.paginationProxy.getCurrentPage()}paginationGetTotalPages(){return this.paginationProxy.getTotalPages()}paginationGetRowCount(){return this.paginationProxy.getMasterRowCount()}paginationGoToNextPage(){this.paginationProxy.goToNextPage()}paginationGoToPreviousPage(){this.paginationProxy.goToPreviousPage()}paginationGoToFirstPage(){this.paginationProxy.goToFirstPage()}paginationGoToLastPage(){this.paginationProxy.goToLastPage()}paginationGoToPage(e){this.paginationProxy.goToPage(e)}sizeColumnsToFit(e){"number"==typeof e?this.columnModel.sizeColumnsToFit(e,"api"):this.gridBodyCtrl.sizeColumnsToFit(e)}setColumnGroupOpened(e,t){this.columnModel.setColumnGroupOpened(e,t,"api")}getColumnGroup(e,t){return this.columnModel.getColumnGroup(e,t)}getProvidedColumnGroup(e){return this.columnModel.getProvidedColumnGroup(e)}getDisplayNameForColumn(e,t){return this.columnModel.getDisplayNameForColumn(e,t)||""}getDisplayNameForColumnGroup(e,t){return this.columnModel.getDisplayNameForColumnGroup(e,t)||""}getColumn(e){return this.columnModel.getPrimaryColumn(e)}getColumns(){return this.columnModel.getAllPrimaryColumns()}applyColumnState(e){return this.columnModel.applyColumnState(e,"api")}getColumnState(){return this.columnModel.getColumnState()}resetColumnState(){this.columnModel.resetColumnState("api")}getColumnGroupState(){return this.columnModel.getColumnGroupState()}setColumnGroupState(e){this.columnModel.setColumnGroupState(e,"api")}resetColumnGroupState(){this.columnModel.resetColumnGroupState("api")}isPinning(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()}isPinningLeft(){return this.columnModel.isPinningLeft()}isPinningRight(){return this.columnModel.isPinningRight()}getDisplayedColAfter(e){return this.columnModel.getDisplayedColAfter(e)}getDisplayedColBefore(e){return this.columnModel.getDisplayedColBefore(e)}setColumnVisible(e,t){this.logDeprecation("v31.1","setColumnVisible(key,visible)","setColumnsVisible([key],visible)"),this.columnModel.setColumnsVisible([e],t,"api")}setColumnsVisible(e,t){this.columnModel.setColumnsVisible(e,t,"api")}setColumnPinned(e,t){this.logDeprecation("v31.1","setColumnPinned(key,pinned)","setColumnsPinned([key],pinned)"),this.columnModel.setColumnsPinned([e],t,"api")}setColumnsPinned(e,t){this.columnModel.setColumnsPinned(e,t,"api")}getAllGridColumns(){return this.columnModel.getAllGridColumns()}getDisplayedLeftColumns(){return this.columnModel.getDisplayedLeftColumns()}getDisplayedCenterColumns(){return this.columnModel.getDisplayedCenterColumns()}getDisplayedRightColumns(){return this.columnModel.getDisplayedRightColumns()}getAllDisplayedColumns(){return this.columnModel.getAllDisplayedColumns()}getAllDisplayedVirtualColumns(){return this.columnModel.getViewportColumns()}moveColumn(e,t){this.logDeprecation("v31.1","moveColumn(key, toIndex)","moveColumns([key], toIndex)"),this.columnModel.moveColumns([e],t,"api")}moveColumnByIndex(e,t){this.columnModel.moveColumnByIndex(e,t,"api")}moveColumns(e,t){this.columnModel.moveColumns(e,t,"api")}moveRowGroupColumn(e,t){this.columnModel.moveRowGroupColumn(e,t,"api")}setColumnAggFunc(e,t){this.columnModel.setColumnAggFunc(e,t,"api")}setColumnWidth(e,t,i=!0,n="api"){this.logDeprecation("v31.1","setColumnWidth(col, width)","setColumnWidths([{key: col, newWidth: width}])"),this.columnModel.setColumnWidths([{key:e,newWidth:t}],!1,i,n)}setColumnWidths(e,t=!0,i="api"){this.columnModel.setColumnWidths(e,!1,t,i)}isPivotMode(){return this.columnModel.isPivotMode()}getPivotResultColumn(e,t){return this.columnModel.getSecondaryPivotColumn(e,t)}setValueColumns(e){this.columnModel.setValueColumns(e,"api")}getValueColumns(){return this.columnModel.getValueColumns()}removeValueColumn(e){this.logDeprecation("v31.1","removeValueColumn(colKey)","removeValueColumns([colKey])"),this.columnModel.removeValueColumns([e],"api")}removeValueColumns(e){this.columnModel.removeValueColumns(e,"api")}addValueColumn(e){this.logDeprecation("v31.1","addValueColumn(colKey)","addValueColumns([colKey])"),this.columnModel.addValueColumns([e],"api")}addValueColumns(e){this.columnModel.addValueColumns(e,"api")}setRowGroupColumns(e){this.columnModel.setRowGroupColumns(e,"api")}removeRowGroupColumn(e){this.logDeprecation("v31.1","removeRowGroupColumn(colKey)","removeRowGroupColumns([colKey])"),this.columnModel.removeRowGroupColumns([e],"api")}removeRowGroupColumns(e){this.columnModel.removeRowGroupColumns(e,"api")}addRowGroupColumn(e){this.logDeprecation("v31.1","addRowGroupColumn(colKey)","addRowGroupColumns([colKey])"),this.columnModel.addRowGroupColumns([e],"api")}addRowGroupColumns(e){this.columnModel.addRowGroupColumns(e,"api")}getRowGroupColumns(){return this.columnModel.getRowGroupColumns()}setPivotColumns(e){this.columnModel.setPivotColumns(e,"api")}removePivotColumn(e){this.logDeprecation("v31.1","removePivotColumn(colKey)","removePivotColumns([colKey])"),this.columnModel.removePivotColumns([e],"api")}removePivotColumns(e){this.columnModel.removePivotColumns(e,"api")}addPivotColumn(e){this.logDeprecation("v31.1","addPivotColumn(colKey)","addPivotColumns([colKey])"),this.columnModel.addPivotColumns([e],"api")}addPivotColumns(e){this.columnModel.addPivotColumns(e,"api")}getPivotColumns(){return this.columnModel.getPivotColumns()}getLeftDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeLeft()}getCenterDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeCentre()}getRightDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeRight()}getAllDisplayedColumnGroups(){return this.columnModel.getAllDisplayedTrees()}autoSizeColumn(e,t){return this.logDeprecation("v31.1","autoSizeColumn(key, skipHeader)","autoSizeColumns([key], skipHeader)"),this.columnModel.autoSizeColumns({columns:[e],skipHeader:t,source:"api"})}autoSizeColumns(e,t){this.columnModel.autoSizeColumns({columns:e,skipHeader:t,source:"api"})}autoSizeAllColumns(e){this.columnModel.autoSizeAllColumns("api",e)}setPivotResultColumns(e){this.columnModel.setSecondaryColumns(e,"api")}getPivotResultColumns(){return this.columnModel.getSecondaryColumns()}getState(){return this.stateService.getState()}getGridOption(e){return this.gos.get(e)}setGridOption(e,t){this.updateGridOptions({[e]:t})}updateGridOptions(e){this.gos.updateGridOptions({options:e})}__internalUpdateGridOptions(e){this.gos.updateGridOptions({options:e,source:"gridOptionsUpdated"})}deprecatedUpdateGridOption(e,t){$(`set${e.charAt(0).toUpperCase()}${e.slice(1,e.length)} is deprecated. Please use 'api.setGridOption('${e}', newValue)' or 'api.updateGridOptions({ ${e}: newValue })' instead.`),this.setGridOption(e,t)}setPivotMode(e){this.deprecatedUpdateGridOption("pivotMode",e)}setPinnedTopRowData(e){this.deprecatedUpdateGridOption("pinnedTopRowData",e)}setPinnedBottomRowData(e){this.deprecatedUpdateGridOption("pinnedBottomRowData",e)}setPopupParent(e){this.deprecatedUpdateGridOption("popupParent",e)}setSuppressModelUpdateAfterUpdateTransaction(e){this.deprecatedUpdateGridOption("suppressModelUpdateAfterUpdateTransaction",e)}setDataTypeDefinitions(e){this.deprecatedUpdateGridOption("dataTypeDefinitions",e)}setPagination(e){this.deprecatedUpdateGridOption("pagination",e)}paginationSetPageSize(e){this.deprecatedUpdateGridOption("paginationPageSize",e)}setSideBar(e){this.deprecatedUpdateGridOption("sideBar",e)}setSuppressClipboardPaste(e){this.deprecatedUpdateGridOption("suppressClipboardPaste",e)}setGroupRemoveSingleChildren(e){this.deprecatedUpdateGridOption("groupRemoveSingleChildren",e)}setGroupRemoveLowestSingleChildren(e){this.deprecatedUpdateGridOption("groupRemoveLowestSingleChildren",e)}setGroupDisplayType(e){this.deprecatedUpdateGridOption("groupDisplayType",e)}setGroupIncludeFooter(e){this.deprecatedUpdateGridOption("groupIncludeFooter",e)}setGroupIncludeTotalFooter(e){this.deprecatedUpdateGridOption("groupIncludeTotalFooter",e)}setRowClass(e){this.deprecatedUpdateGridOption("rowClass",e)}setDeltaSort(e){this.deprecatedUpdateGridOption("deltaSort",e)}setSuppressRowDrag(e){this.deprecatedUpdateGridOption("suppressRowDrag",e)}setSuppressMoveWhenRowDragging(e){this.deprecatedUpdateGridOption("suppressMoveWhenRowDragging",e)}setSuppressRowClickSelection(e){this.deprecatedUpdateGridOption("suppressRowClickSelection",e)}setEnableAdvancedFilter(e){this.deprecatedUpdateGridOption("enableAdvancedFilter",e)}setIncludeHiddenColumnsInAdvancedFilter(e){this.deprecatedUpdateGridOption("includeHiddenColumnsInAdvancedFilter",e)}setAdvancedFilterParent(e){this.deprecatedUpdateGridOption("advancedFilterParent",e)}setAdvancedFilterBuilderParams(e){this.deprecatedUpdateGridOption("advancedFilterBuilderParams",e)}setQuickFilter(e){$("setQuickFilter is deprecated. Please use 'api.setGridOption('quickFilterText', newValue)' or 'api.updateGridOptions({ quickFilterText: newValue })' instead."),this.gos.updateGridOptions({options:{quickFilterText:e}})}setExcludeHiddenColumnsFromQuickFilter(e){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",!e)}setIncludeHiddenColumnsInQuickFilter(e){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",e)}setQuickFilterParser(e){this.deprecatedUpdateGridOption("quickFilterParser",e)}setQuickFilterMatcher(e){this.deprecatedUpdateGridOption("quickFilterMatcher",e)}setAlwaysShowHorizontalScroll(e){this.deprecatedUpdateGridOption("alwaysShowHorizontalScroll",e)}setAlwaysShowVerticalScroll(e){this.deprecatedUpdateGridOption("alwaysShowVerticalScroll",e)}setFunctionsReadOnly(e){this.deprecatedUpdateGridOption("functionsReadOnly",e)}setColumnDefs(e,t="api"){$("setColumnDefs is deprecated. Please use 'api.setGridOption('columnDefs', newValue)' or 'api.updateGridOptions({ columnDefs: newValue })' instead."),this.gos.updateGridOptions({options:{columnDefs:e},source:t})}setAutoGroupColumnDef(e,t="api"){$("setAutoGroupColumnDef is deprecated. Please use 'api.setGridOption('autoGroupColumnDef', newValue)' or 'api.updateGridOptions({ autoGroupColumnDef: newValue })' instead."),this.gos.updateGridOptions({options:{autoGroupColumnDef:e},source:t})}setDefaultColDef(e,t="api"){$("setDefaultColDef is deprecated. Please use 'api.setGridOption('defaultColDef', newValue)' or 'api.updateGridOptions({ defaultColDef: newValue })' instead."),this.gos.updateGridOptions({options:{defaultColDef:e},source:t})}setColumnTypes(e,t="api"){$("setColumnTypes is deprecated. Please use 'api.setGridOption('columnTypes', newValue)' or 'api.updateGridOptions({ columnTypes: newValue })' instead."),this.gos.updateGridOptions({options:{columnTypes:e},source:t})}setTreeData(e){this.deprecatedUpdateGridOption("treeData",e)}setServerSideDatasource(e){this.deprecatedUpdateGridOption("serverSideDatasource",e)}setCacheBlockSize(e){this.deprecatedUpdateGridOption("cacheBlockSize",e)}setDatasource(e){this.deprecatedUpdateGridOption("datasource",e)}setViewportDatasource(e){this.deprecatedUpdateGridOption("viewportDatasource",e)}setRowData(e){this.deprecatedUpdateGridOption("rowData",e)}setEnableCellTextSelection(e){this.deprecatedUpdateGridOption("enableCellTextSelection",e)}setHeaderHeight(e){this.deprecatedUpdateGridOption("headerHeight",e)}setDomLayout(e){this.deprecatedUpdateGridOption("domLayout",e)}setFillHandleDirection(e){this.deprecatedUpdateGridOption("fillHandleDirection",e)}setGroupHeaderHeight(e){this.deprecatedUpdateGridOption("groupHeaderHeight",e)}setFloatingFiltersHeight(e){this.deprecatedUpdateGridOption("floatingFiltersHeight",e)}setPivotHeaderHeight(e){this.deprecatedUpdateGridOption("pivotHeaderHeight",e)}setPivotGroupHeaderHeight(e){this.deprecatedUpdateGridOption("pivotGroupHeaderHeight",e)}setAnimateRows(e){this.deprecatedUpdateGridOption("animateRows",e)}setIsExternalFilterPresent(e){this.deprecatedUpdateGridOption("isExternalFilterPresent",e)}setDoesExternalFilterPass(e){this.deprecatedUpdateGridOption("doesExternalFilterPass",e)}setNavigateToNextCell(e){this.deprecatedUpdateGridOption("navigateToNextCell",e)}setTabToNextCell(e){this.deprecatedUpdateGridOption("tabToNextCell",e)}setTabToNextHeader(e){this.deprecatedUpdateGridOption("tabToNextHeader",e)}setNavigateToNextHeader(e){this.deprecatedUpdateGridOption("navigateToNextHeader",e)}setRowGroupPanelShow(e){this.deprecatedUpdateGridOption("rowGroupPanelShow",e)}setGetGroupRowAgg(e){this.deprecatedUpdateGridOption("getGroupRowAgg",e)}setGetBusinessKeyForNode(e){this.deprecatedUpdateGridOption("getBusinessKeyForNode",e)}setGetChildCount(e){this.deprecatedUpdateGridOption("getChildCount",e)}setProcessRowPostCreate(e){this.deprecatedUpdateGridOption("processRowPostCreate",e)}setGetRowId(e){$("getRowId is a static property and can no longer be updated.")}setGetRowClass(e){this.deprecatedUpdateGridOption("getRowClass",e)}setIsFullWidthRow(e){this.deprecatedUpdateGridOption("isFullWidthRow",e)}setIsRowSelectable(e){this.deprecatedUpdateGridOption("isRowSelectable",e)}setIsRowMaster(e){this.deprecatedUpdateGridOption("isRowMaster",e)}setPostSortRows(e){this.deprecatedUpdateGridOption("postSortRows",e)}setGetDocument(e){this.deprecatedUpdateGridOption("getDocument",e)}setGetContextMenuItems(e){this.deprecatedUpdateGridOption("getContextMenuItems",e)}setGetMainMenuItems(e){this.deprecatedUpdateGridOption("getMainMenuItems",e)}setProcessCellForClipboard(e){this.deprecatedUpdateGridOption("processCellForClipboard",e)}setSendToClipboard(e){this.deprecatedUpdateGridOption("sendToClipboard",e)}setProcessCellFromClipboard(e){this.deprecatedUpdateGridOption("processCellFromClipboard",e)}setProcessPivotResultColDef(e){this.deprecatedUpdateGridOption("processPivotResultColDef",e)}setProcessPivotResultColGroupDef(e){this.deprecatedUpdateGridOption("processPivotResultColGroupDef",e)}setPostProcessPopup(e){this.deprecatedUpdateGridOption("postProcessPopup",e)}setInitialGroupOrderComparator(e){this.deprecatedUpdateGridOption("initialGroupOrderComparator",e)}setGetChartToolbarItems(e){this.deprecatedUpdateGridOption("getChartToolbarItems",e)}setPaginationNumberFormatter(e){this.deprecatedUpdateGridOption("paginationNumberFormatter",e)}setGetServerSideGroupLevelParams(e){this.deprecatedUpdateGridOption("getServerSideGroupLevelParams",e)}setIsServerSideGroupOpenByDefault(e){this.deprecatedUpdateGridOption("isServerSideGroupOpenByDefault",e)}setIsApplyServerSideTransaction(e){this.deprecatedUpdateGridOption("isApplyServerSideTransaction",e)}setIsServerSideGroup(e){this.deprecatedUpdateGridOption("isServerSideGroup",e)}setGetServerSideGroupKey(e){this.deprecatedUpdateGridOption("getServerSideGroupKey",e)}setGetRowStyle(e){this.deprecatedUpdateGridOption("getRowStyle",e)}setGetRowHeight(e){this.deprecatedUpdateGridOption("getRowHeight",e)}};h([De("csvCreator")],be.prototype,"csvCreator",2),h([De("excelCreator")],be.prototype,"excelCreator",2),h([g("rowRenderer")],be.prototype,"rowRenderer",2),h([g("navigationService")],be.prototype,"navigationService",2),h([g("filterManager")],be.prototype,"filterManager",2),h([g("columnModel")],be.prototype,"columnModel",2),h([g("selectionService")],be.prototype,"selectionService",2),h([g("gridOptionsService")],be.prototype,"gos",2),h([g("valueService")],be.prototype,"valueService",2),h([g("alignedGridsService")],be.prototype,"alignedGridsService",2),h([g("eventService")],be.prototype,"eventService",2),h([g("pinnedRowModel")],be.prototype,"pinnedRowModel",2),h([g("context")],be.prototype,"context",2),h([g("rowModel")],be.prototype,"rowModel",2),h([g("sortController")],be.prototype,"sortController",2),h([g("paginationProxy")],be.prototype,"paginationProxy",2),h([g("focusService")],be.prototype,"focusService",2),h([g("dragAndDropService")],be.prototype,"dragAndDropService",2),h([De("rangeService")],be.prototype,"rangeService",2),h([De("clipboardService")],be.prototype,"clipboardService",2),h([De("aggFuncService")],be.prototype,"aggFuncService",2),h([g("menuService")],be.prototype,"menuService",2),h([g("valueCache")],be.prototype,"valueCache",2),h([g("animationFrameService")],be.prototype,"animationFrameService",2),h([De("statusBarService")],be.prototype,"statusBarService",2),h([De("chartService")],be.prototype,"chartService",2),h([De("undoRedoService")],be.prototype,"undoRedoService",2),h([De("rowNodeBlockLoader")],be.prototype,"rowNodeBlockLoader",2),h([De("ssrmTransactionManager")],be.prototype,"serverSideTransactionManager",2),h([g("ctrlsService")],be.prototype,"ctrlsService",2),h([g("overlayService")],be.prototype,"overlayService",2),h([De("sideBarService")],be.prototype,"sideBarService",2),h([g("stateService")],be.prototype,"stateService",2),h([g("expansionService")],be.prototype,"expansionService",2),h([g("apiEventService")],be.prototype,"apiEventService",2),h([g("frameworkOverrides")],be.prototype,"frameworkOverrides",2),h([I],be.prototype,"init",1),be=h([V("gridApi")],be);var Yi=class extends A{constructor(){super(...arguments),this.quickFilter=null,this.quickFilterParts=null}postConstruct(){this.addManagedListener(this.eventService,f.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,f.EVENT_NEW_COLUMNS_LOADED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,f.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,f.EVENT_COLUMN_VISIBLE,()=>{this.gridOptionsService.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}),this.addManagedPropertyListener("quickFilterText",e=>this.setQuickFilter(e.currentValue)),this.addManagedPropertyListener("includeHiddenColumnsInQuickFilter",()=>this.onIncludeHiddenColumnsInQuickFilterChanged()),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.parser=this.gridOptionsService.get("quickFilterParser"),this.matcher=this.gridOptionsService.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setQuickFilterParserAndMatcher())}isQuickFilterPresent(){return null!==this.quickFilter}doesRowPassQuickFilter(e){const t=this.gridOptionsService.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(t,e):this.quickFilterParts.every(i=>t?this.doesRowPassQuickFilterCache(e,i):this.doesRowPassQuickFilterNoCache(e,i))}resetQuickFilterCache(){this.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}setQuickFilterParts(){const{quickFilter:e,parser:t}=this;this.quickFilterParts=e?t?t(e):e.split(" "):null}parseQuickFilter(e){return R(e)?this.gridOptionsService.isRowModelType("clientSide")?e.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(e){if(null!=e&&"string"!=typeof e)return void console.warn("AG Grid - Grid option quickFilterText only supports string inputs, received: "+typeof e);const t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.dispatchEvent({type:Yi.EVENT_QUICK_FILTER_CHANGED}))}setQuickFilterParserAndMatcher(){const e=this.gridOptionsService.get("quickFilterParser"),t=this.gridOptionsService.get("quickFilterMatcher"),i=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,i&&(this.setQuickFilterParts(),this.dispatchEvent({type:Yi.EVENT_QUICK_FILTER_CHANGED}))}onIncludeHiddenColumnsInQuickFilterChanged(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchEvent({type:Yi.EVENT_QUICK_FILTER_CHANGED})}doesRowPassQuickFilterNoCache(e,t){return this.columnModel.getAllColumnsForQuickFilter().some(n=>{const s=this.getQuickFilterTextForColumn(n,e);return R(s)&&s.indexOf(t)>=0})}doesRowPassQuickFilterCache(e,t){return this.checkGenerateQuickFilterAggregateText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassQuickFilterMatcher(e,t){let i;e?(this.checkGenerateQuickFilterAggregateText(t),i=t.quickFilterAggregateText):i=this.getQuickFilterAggregateText(t);const{quickFilterParts:n,matcher:s}=this;return s(n,i)}checkGenerateQuickFilterAggregateText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getQuickFilterAggregateText(e))}getQuickFilterTextForColumn(e,t){let i=this.valueService.getValue(e,t,!0);const n=e.getColDef();if(n.getQuickFilterText){const s=this.gridOptionsService.addGridCommonParams({value:i,node:t,data:t.data,column:e,colDef:n});i=n.getQuickFilterText(s)}return R(i)?i.toString().toUpperCase():null}getQuickFilterAggregateText(e){const t=[];return this.columnModel.getAllColumnsForQuickFilter().forEach(n=>{const s=this.getQuickFilterTextForColumn(n,e);R(s)&&t.push(s)}),t.join(Yi.QUICK_FILTER_SEPARATOR)}};Yi.EVENT_QUICK_FILTER_CHANGED="quickFilterChanged",Yi.QUICK_FILTER_SEPARATOR="\n",h([g("valueService")],Yi.prototype,"valueService",2),h([g("columnModel")],Yi.prototype,"columnModel",2),h([g("rowModel")],Yi.prototype,"rowModel",2),h([I],Yi.prototype,"postConstruct",1),Yi=h([V("quickFilterService")],Yi);var Pn=class extends A{constructor(){super(...arguments),this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue=[]}init(){var e,t,i;this.addManagedListener(this.eventService,f.EVENT_GRID_COLUMNS_CHANGED,()=>this.onColumnsChanged()),this.addManagedListener(this.eventService,f.EVENT_COLUMN_VALUE_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,f.EVENT_COLUMN_PIVOT_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,f.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,f.EVENT_NEW_COLUMNS_LOADED,()=>this.updateAdvancedFilterColumns()),this.addManagedListener(this.eventService,f.EVENT_COLUMN_VISIBLE,()=>this.updateAdvancedFilterColumns()),this.addManagedListener(this.eventService,f.EVENT_ROW_DATA_UPDATED,()=>this.onNewRowsLoaded("rowDataUpdated")),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",n=>this.setAdvancedFilterModel(n.currentValue)),this.addManagedListener(this.eventService,f.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,({enabled:n})=>this.onAdvancedFilterEnabledChanged(n)),this.addManagedListener(this.eventService,f.EVENT_DATA_TYPES_INFERRED,()=>this.processFilterModelUpdateQueue()),this.addManagedListener(this.quickFilterService,Yi.EVENT_QUICK_FILTER_CHANGED,()=>this.onFilterChanged({source:"quickFilter"})),this.initialFilterModel=z({},null!=(i=null==(t=null==(e=this.gridOptionsService.get("initialState"))?void 0:e.filter)?void 0:t.filterModel)?i:{})}isExternalFilterPresentCallback(){const e=this.gridOptionsService.getCallback("isExternalFilterPresent");return"function"==typeof e&&e({})}doesExternalFilterPass(e){const t=this.gridOptionsService.get("doesExternalFilterPass");return"function"==typeof t&&t(e)}setFilterModel(e,t="api"){if(this.isAdvancedFilterEnabled())return void this.warnAdvancedFilters();if(this.dataTypeService.isPendingInference())return void this.filterModelUpdateQueue.push({model:e,source:t});const i=[],n=this.getFilterModel();if(e){const s=j_(Object.keys(e));this.allColumnFilters.forEach((r,o)=>{i.push(this.setModelOnFilterWrapper(r.filterPromise,e[o])),s.delete(o)}),s.forEach(r=>{const o=this.columnModel.getPrimaryColumn(r)||this.columnModel.getGridColumn(r);if(!o)return void console.warn("AG Grid: setFilterModel() - no column found for colId: "+r);if(!o.isFilterAllowed())return void console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+r);const a=this.getOrCreateFilterWrapper(o,"NO_UI");a?i.push(this.setModelOnFilterWrapper(a.filterPromise,e[r])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+r)})}else this.allColumnFilters.forEach(s=>{i.push(this.setModelOnFilterWrapper(s.filterPromise,null))});Ki.all(i).then(()=>{const s=this.getFilterModel(),r=[];this.allColumnFilters.forEach((o,a)=>{fe.jsonEquals(n?n[a]:null,s?s[a]:null)||r.push(o.column)}),r.length>0&&this.onFilterChanged({columns:r,source:t})})}setModelOnFilterWrapper(e,t){return new Ki(i=>{e.then(n=>{"function"!=typeof n.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),i()),(n.setModel(t)||Ki.resolve()).then(()=>i())})})}getFilterModel(){const e={};return this.allColumnFilters.forEach((t,i)=>{const n=this.getModelFromFilterWrapper(t);R(n)&&(e[i]=n)}),e}getModelFromFilterWrapper(e){var t;const n=e.filterPromise.resolveNow(null,s=>s);return null==n?null!=(t=this.initialFilterModel[e.column.getColId()])?t:null:"function"!=typeof n.getModel?(console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel"),null):n.getModel()}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(e){var t;e?this.allColumnFilters.size&&(this.allColumnFilters.forEach(i=>this.disposeFilterWrapper(i,"advancedFilterEnabled")),this.onFilterChanged({source:"advancedFilter"})):null!=(t=this.advancedFilterService)&&t.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){var e;return!(null==(e=this.advancedFilterService)||!e.isEnabled())}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;const e=n=>!!n&&(n.isFilterActive?n.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1)),t=!!this.gridOptionsService.getGroupAggFiltering(),i=n=>{if(!n.isPrimary())return!0;const r=!this.columnModel.isPivotActive();return!(!n.isValueActive()||!r)&&(!!this.columnModel.isPivotMode()||t)};this.allColumnFilters.forEach(n=>{if(n.filterPromise.resolveNow(!1,e)){const s=n.filterPromise.resolveNow(null,r=>r);i(n.column)?this.activeAggregateFilters.push(s):this.activeColumnFilters.push(s)}})}updateFilterFlagInColumns(e,t){this.allColumnFilters.forEach(i=>{const n=i.filterPromise.resolveNow(!1,s=>s.isFilterActive());i.column.setFilterActive(n,e,t)})}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}doColumnFiltersPass(e,t,i){const{data:n,aggData:s}=e,r=i?this.activeAggregateFilters:this.activeColumnFilters,o=i?s:n;for(let a=0;a<r.length;a++){const l=r[a];if(null!=l&&l!==t){if("function"!=typeof l.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!l.doesFilterPass({node:e,data:o}))return!1}}return!0}resetQuickFilterCache(){this.quickFilterService.resetQuickFilterCache()}refreshFiltersForAggregations(){this.gridOptionsService.getGroupAggFiltering()&&this.onFilterChanged()}callOnFilterChangedOutsideRenderCycle(e){const t=()=>this.onFilterChanged(e);this.rowRenderer.isRefreshInProgress()?setTimeout(t,0):t()}onFilterChanged(e={}){const{source:t,filterInstance:i,additionalEventAttributes:n,columns:s}=e;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",n),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach(o=>{o.filterPromise&&o.filterPromise.then(a=>{a&&a!==i&&a.onAnyFilterChanged&&a.onAnyFilterChanged()})});const r={source:t,type:f.EVENT_FILTER_CHANGED,columns:s||[]};n&&cn(r,n),this.processingFilterChange=!0,this.eventService.dispatchEvent(r),this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){var e;return!(null!=(e=this.gridOptionsService.get("allowShowChangeAfterFilter"))&&e)&&this.processingFilterChange}isQuickFilterPresent(){return this.quickFilterService.isQuickFilterPresent()}updateAggFiltering(){this.aggFiltering=!!this.gridOptionsService.getGroupAggFiltering()}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&(this.aggFiltering||this.columnModel.isPivotMode())}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!(this.aggFiltering||this.columnModel.isPivotMode())}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}doesRowPassFilter(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))}onNewRowsLoaded(e){this.allColumnFilters.forEach(t=>{t.filterPromise.then(i=>{i.onNewRowsLoaded&&i.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(e,{afterDataChange:!0}),this.updateActiveFilters()}createValueGetter(e){return({node:t})=>this.valueService.getValue(e,t,!0)}createGetValue(e){return(t,i)=>{const n=i?this.columnModel.getGridColumn(i):e;return n?this.valueService.getValue(n,t,!0):void 0}}getFilterComponent(e,t,i=!0){var n;if(i)return(null==(n=this.getOrCreateFilterWrapper(e,t))?void 0:n.filterPromise)||null;const s=this.cachedFilter(e);return s?s.filterPromise:null}isFilterActive(e){const t=this.cachedFilter(e);return!!t&&t.filterPromise.resolveNow(!1,i=>i.isFilterActive())}getOrCreateFilterWrapper(e,t){if(!e.isFilterAllowed())return null;let i=this.cachedFilter(e);return i?"NO_UI"!==t&&this.putIntoGui(i,t):(i=this.createFilterWrapper(e,t),this.setColumnFilterWrapper(e,i)),i}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let t;if(ke.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()))t="agSetColumnFilter";else{const i=this.dataTypeService.getBaseDataType(e);t="number"===i?"agNumberColumnFilter":"date"===i||"dateString"===i?"agDateColumnFilter":"agTextColumnFilter"}return t}getDefaultFloatingFilter(e){let t;if(ke.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()))t="agSetColumnFloatingFilter";else{const i=this.dataTypeService.getBaseDataType(e);t="number"===i?"agNumberColumnFloatingFilter":"date"===i||"dateString"===i?"agDateColumnFloatingFilter":"agTextColumnFloatingFilter"}return t}createFilterInstance(e){const t=this.getDefaultFilter(e),i=e.getColDef();let n;const s=ot(z({},this.createFilterParams(e,i)),{filterModifiedCallback:()=>this.filterModifiedCallbackFactory(n,e)(),filterChangedCallback:o=>this.filterChangedCallbackFactory(n,e)(o),doesRowPassOtherFilter:o=>this.doesRowPassOtherFilters(n,o)}),r=this.userComponentFactory.getFilterDetails(i,s,t);return r?{filterPromise:()=>{const o=r.newAgStackInstance();return o&&o.then(a=>n=a),o},compDetails:r}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return this.gridOptionsService.addGridCommonParams({column:e,colDef:Qy(t),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e,t){var i;const n={column:e,filterPromise:null,compiledElement:null,guiPromise:Ki.resolve(null),compDetails:null},{filterPromise:s,compDetails:r}=this.createFilterInstance(e);return n.filterPromise=null!=(i=s?.())?i:null,n.compDetails=r,s&&this.putIntoGui(n,t),n}putIntoGui(e,t){const i=document.createElement("div");i.className="ag-filter",e.guiPromise=new Ki(n=>{e.filterPromise.then(s=>{let r=s.getGui();R(r)||console.warn(`AG Grid: getGui method from filter returned ${r}, it should be a DOM element or an HTML template string.`),"string"==typeof r&&(r=qi(r)),i.appendChild(r),n(i),this.eventService.dispatchEvent({type:f.EVENT_FILTER_OPENED,column:e.column,source:t,eGui:i})})})}onColumnsChanged(){const e=[];this.allColumnFilters.forEach((t,i)=>{let n;n=t.column.isPrimary()?this.columnModel.getPrimaryColumn(i):this.columnModel.getGridColumn(i),!n&&(e.push(t.column),this.disposeFilterWrapper(t,"columnChanged"),this.disposeColumnListener(i))}),e.length>0?this.onFilterChanged({columns:e,source:"api"}):this.updateDependantFilters()}updateDependantFilters(){const e=this.columnModel.getGroupAutoColumns();e?.forEach(t=>{"agGroupColumnFilter"===t.getColDef().filter&&this.getOrCreateFilterWrapper(t,"NO_UI")})}isFilterAllowed(e){var t,i;if(this.isAdvancedFilterEnabled()||!e.isFilterAllowed())return!1;const s=this.allColumnFilters.get(e.getColId());return null==(i=null==(t=s?.filterPromise)?void 0:t.resolveNow(!0,r=>"function"!=typeof r?.isFilterAllowed||r?.isFilterAllowed()))||i}getFloatingFilterCompDetails(e,t){const i=l=>{const d=this.getFilterComponent(e,"NO_UI");d?.then(c=>{l(Uo(c))})},n=e.getColDef(),s=ot(z({},this.createFilterParams(e,n)),{filterChangedCallback:()=>i(l=>this.filterChangedCallbackFactory(l,e)())}),r=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(n,sS,s);let o=this.userComponentFactory.getDefaultFloatingFilterType(n,()=>this.getDefaultFloatingFilter(e));return null==o&&(o="agReadOnlyFloatingFilter"),this.userComponentFactory.getFloatingFilterCompDetails(n,{column:e,filterParams:r,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:i,showParentFilter:t,suppressFilterButton:!1},o)}getCurrentFloatingFilterParentModel(e){const t=this.getFilterComponent(e,"NO_UI",!1);return t?t.resolveNow(null,i=>i&&i.getModel()):null}destroyFilter(e,t="api"){const i=e.getColId(),n=this.allColumnFilters.get(i);this.disposeColumnListener(i),delete this.initialFilterModel[i],n&&(this.disposeFilterWrapper(n,t),this.onFilterChanged({columns:[e],source:"api"}))}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){e.filterPromise.then(i=>{this.getContext().destroyBean(i),e.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventService.dispatchEvent({type:f.EVENT_FILTER_DESTROYED,source:t,column:e.column})})}filterModifiedCallbackFactory(e,t){return()=>{this.eventService.dispatchEvent({type:f.EVENT_FILTER_MODIFIED,column:t,filterInstance:e})}}filterChangedCallbackFactory(e,t){return i=>{var n;const s=null!=(n=i?.source)?n:"api";this.callOnFilterChangedOutsideRenderCycle({filter:e,additionalEventAttributes:i,columns:[t],source:s})}}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const i=t.column,{compDetails:n}=i.isFilterAllowed()?this.createFilterInstance(i):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,n))return void this.destroyFilter(i,"paramsUpdated");const s=i.getColDef().filterParams;t.filterPromise?t.filterPromise.then(r=>{!1===(!r?.refresh||r.refresh(z(ot(z({},this.createFilterParams(i,i.getColDef())),{filterModifiedCallback:this.filterModifiedCallbackFactory(r,i),filterChangedCallback:this.filterChangedCallbackFactory(r,i),doesRowPassOtherFilter:a=>this.doesRowPassOtherFilters(r,a)}),s)))&&this.destroyFilter(i,"paramsUpdated")}):this.destroyFilter(i,"paramsUpdated")}setColumnFilterWrapper(e,t){const i=e.getColId();this.allColumnFilters.set(i,t),this.allColumnListeners.set(i,this.addManagedListener(e,ze.EVENT_COL_DEF_CHANGED,()=>this.checkDestroyFilter(i)))}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:i}=e,{componentClass:n}=t;return!(i===n||i?.render&&n?.render&&i.render===n.render)}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(e){if(this.isAdvancedFilterEnabled()){if(this.dataTypeService.isPendingInference())return void this.advancedFilterModelUpdateQueue.push(e);this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})}}showAdvancedFilterBuilder(e){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder(e,!0)}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return!this.isAdvancedFilterEnabled()&&this.columnModel.getAllGridColumns().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e,t){if(this.isAdvancedFilterEnabled())return void this.warnAdvancedFilters();const i=this.getFilterInstanceImpl(e,s=>{if(!t)return;const r=Uo(s);t(r)});return Uo(i)}getColumnFilterInstance(e){return new Promise(t=>{this.getFilterInstance(e,i=>{t(i)})})}getFilterInstanceImpl(e,t){const i=this.columnModel.getPrimaryColumn(e);if(!i)return;const n=this.getFilterComponent(i,"NO_UI"),s=n&&n.resolveNow(null,r=>r);return s?setTimeout(t,0,s):n&&n.then(r=>{t(r)}),s}warnAdvancedFilters(){$("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(e){var t;null==(t=this.advancedFilterService)||t.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:t})=>this.setFilterModel(e,t)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:t,resolve:i})=>{this.setColumnFilterModel(e,t).then(()=>i())}),this.columnFilterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue.forEach(e=>this.setAdvancedFilterModel(e)),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(e){const t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){if(this.isAdvancedFilterEnabled())return this.warnAdvancedFilters(),Promise.resolve();if(this.dataTypeService.isPendingInference()){let r=()=>{};const o=new Promise(a=>{r=a});return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:r}),o}const i=this.columnModel.getPrimaryColumn(e),n=i?this.getOrCreateFilterWrapper(i,"NO_UI"):null;return n?(r=this.setModelOnFilterWrapper(n.filterPromise,t),new Promise(o=>{r.then(a=>o(a))})):Promise.resolve();var r}getFilterWrapper(e){var t;const i=this.columnModel.getPrimaryColumn(e);return i&&null!=(t=this.cachedFilter(i))?t:null}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};h([g("valueService")],Pn.prototype,"valueService",2),h([g("columnModel")],Pn.prototype,"columnModel",2),h([g("rowModel")],Pn.prototype,"rowModel",2),h([g("userComponentFactory")],Pn.prototype,"userComponentFactory",2),h([g("rowRenderer")],Pn.prototype,"rowRenderer",2),h([g("dataTypeService")],Pn.prototype,"dataTypeService",2),h([g("quickFilterService")],Pn.prototype,"quickFilterService",2),h([De("advancedFilterService")],Pn.prototype,"advancedFilterService",2),h([I],Pn.prototype,"init",1),Pn=h([V("filterManager")],Pn);var oS=class extends ee{constructor(e,t){super(e),this.ctrl=t}getCtrl(){return this.ctrl}},zo=class tV extends oS{constructor(t){super(tV.TEMPLATE,t)}postConstruct(){const t=this.getGui();this.ctrl.setComp({addOrRemoveCssClass:(n,s)=>this.addOrRemoveCssClass(n,s),addOrRemoveBodyCssClass:(n,s)=>this.eFloatingFilterBody.classList.toggle(n,s),setButtonWrapperDisplayed:n=>we(this.eButtonWrapper,n),setCompDetails:n=>this.setCompDetails(n),getFloatingFilterComp:()=>this.compPromise,setWidth:n=>t.style.width=n,setMenuIcon:n=>this.eButtonShowMainFilter.appendChild(n)},t,this.eButtonShowMainFilter,this.eFloatingFilterBody)}setCompDetails(t){if(!t)return this.destroyFloatingFilterComp(),void(this.compPromise=null);this.compPromise=t.newAgStackInstance(),this.compPromise.then(i=>this.afterCompCreated(i))}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(t){if(t){if(!this.isAlive())return void this.destroyBean(t);this.destroyFloatingFilterComp(),this.floatingFilterComp=t,this.eFloatingFilterBody.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached()}}};zo.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',h([N("eFloatingFilterBody")],zo.prototype,"eFloatingFilterBody",2),h([N("eButtonWrapper")],zo.prototype,"eButtonWrapper",2),h([N("eButtonShowMainFilter")],zo.prototype,"eButtonShowMainFilter",2),h([I],zo.prototype,"postConstruct",1),h([Fi],zo.prototype,"destroyFloatingFilterComp",1);var kJ=zo,eg=class extends A{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.getDomLayout(),t={autoHeight:"autoHeight"===e,normal:"normal"===e,print:"print"===e};this.view.updateLayoutClasses(t.autoHeight?"ag-layout-auto-height":t.print?"ag-layout-print":"ag-layout-normal",t)}getDomLayout(){var e;const t=null!=(e=this.gridOptionsService.get("domLayout"))?e:"normal";return-1===["normal","print","autoHeight"].indexOf(t)?($(`${t} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):t}};h([I],eg.prototype,"postConstruct",1);var cr=class extends A{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=e,this.resetLastHScrollDebounced=Ii(()=>this.lastScrollSource[1]=null,500),this.resetLastVScrollDebounced=Ii(()=>this.lastScrollSource[0]=null,500)}postConstruct(){this.enableRtl=this.gridOptionsService.get("enableRtl"),this.addManagedListener(this.eventService,f.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(e=>{this.centerRowContainerCtrl=e.centerRowContainerCtrl,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){const e=this.ctrlsService.getFakeHScrollComp(),t=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),e.onScrollCallback(this.onFakeHScroll.bind(this));const i=this.gridOptionsService.get("debounceVerticalScrollbar"),n=i?Ii(this.onVScroll.bind(this),100):this.onVScroll.bind(this),s=i?Ii(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",n),t.onScrollCallback(s)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){if(null==this.centerRowContainerCtrl)return;void 0===e&&(e=this.centerRowContainerCtrl.getCenterViewportScrollLeft());const i=this.enableRtl?e:-e,n=this.ctrlsService.getTopCenterRowContainerCtrl(),s=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),r=this.ctrlsService.getBottomCenterRowContainerCtrl(),o=this.ctrlsService.getFakeHScrollComp();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(-i),r.setContainerTranslateX(i),n.setContainerTranslateX(i),s.setContainerTranslateX(i);const l=this.centerRowContainerCtrl.getViewportElement(),d=0===this.lastScrollSource[1];e=Math.abs(e),d?o.setScrollPosition(e):Su(l,e,this.enableRtl)}isControllingScroll(e,t){return null==this.lastScrollSource[t]?(this.lastScrollSource[t]=e,!0):this.lastScrollSource[t]===e}onFakeHScroll(){this.isControllingScroll(1,1)&&this.onHScrollCommon(1)}onHScroll(){this.isControllingScroll(0,1)&&this.onHScrollCommon(0)}onHScrollCommon(e){const t=this.centerRowContainerCtrl.getViewportElement(),{scrollLeft:i}=t;if(this.shouldBlockScrollUpdate(1,i,!0))return;let n;n=0===e?_u(t,this.enableRtl):this.ctrlsService.getFakeHScrollComp().getScrollPosition(),this.doHorizontalScroll(Math.round(n)),this.resetLastHScrollDebounced()}onFakeVScroll(){this.isControllingScroll(1,0)&&this.onVScrollCommon(1)}onVScroll(){this.isControllingScroll(0,0)&&this.onVScrollCommon(0)}onVScrollCommon(e){let t;t=0===e?this.eBodyViewport.scrollTop:this.ctrlsService.getFakeVScrollComp().getScrollPosition(),!this.shouldBlockScrollUpdate(0,t,!0)&&(this.animationFrameService.setScrollTop(t),this.nextScrollTop=t,0===e?this.ctrlsService.getFakeVScrollComp().setScrollPosition(t):this.eBodyViewport.scrollTop=t,this.gridOptionsService.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(e){const t=this.ctrlsService.getFakeHScrollComp().getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowContainerCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:f.EVENT_BODY_SCROLL,direction:1===e?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{const i=ot(z({},t),{type:f.EVENT_BODY_SCROLL_END});this.eventService.dispatchEvent(i)},100)}shouldBlockScrollUpdate(e,t,i=!1){return!(i&&!ar())&&(0===e?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t))}shouldBlockVerticalScroll(e){const t=bu(this.eBodyViewport),{scrollHeight:i}=this.eBodyViewport;return e<0||e+t>i}shouldBlockHorizontalScroll(e){const t=this.centerRowContainerCtrl.getCenterWidth(),{scrollWidth:i}=this.centerRowContainerCtrl.getViewportElement();if(this.enableRtl&&yu()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>i}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(0)}scrollGridIfNeeded(){const e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e,t=!1){const n=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(e=this.enableRtl&&yu()?e>0?0:n:Math.min(Math.max(e,0),n)),Su(this.centerRowContainerCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){return this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight,{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowContainerCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const t=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowContainerCtrl.getViewportElement().scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const i=this.rowModel.getRowCount();let n=-1;for(let s=0;s<i;s++){const r=this.rowModel.getRow(s);if("function"==typeof e){if(r&&e(r)){n=s;break}}else if(e===r||e===r.data){n=s;break}}n>=0&&this.ensureIndexVisible(n,t)}ensureIndexVisible(e,t){if(this.gridOptionsService.isDomLayout("print"))return;const i=this.paginationProxy.getRowCount();if("number"!=typeof e||e<0||e>=i)return void console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+e);const s=this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(()=>{s||this.paginationProxy.goToPageWithIndex(e);const o=this.ctrlsService.getGridBodyCtrl().getStickyTopHeight(),a=this.paginationProxy.getRow(e);let l;do{const d=a.rowTop,c=a.rowHeight,u=this.paginationProxy.getPixelOffset(),p=a.rowTop-u,m=p+a.rowHeight,v=this.getVScrollPosition(),C=this.heightScaler.getDivStretchOffset(),b=v.top+C,y=v.bottom+C,w=y-b,E=this.heightScaler.getScrollPositionForPixel(p),D=this.heightScaler.getScrollPositionForPixel(m-w),M=Math.min((E+D)/2,p);let te=null;"top"===t?te=E:"bottom"===t?te=D:"middle"===t?te=M:b+o>p?te=E-o:y<m&&(te=D),null!==te&&(this.setVerticalScrollPosition(te),this.rowRenderer.redraw({afterScroll:!0})),l=d!==a.rowTop||c!==a.rowHeight}while(l);this.animationFrameService.flushAllFrames()})}ensureColumnVisible(e,t="auto"){const i=this.columnModel.getGridColumn(e);if(!i||i.isPinned()||!this.columnModel.isColumnDisplayed(i))return;const n=this.getPositionedHorizontalScroll(i,t);this.getFrameworkOverrides().wrapIncoming(()=>{null!==n&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(n),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()})}setScrollPosition(e,t){this.getFrameworkOverrides().wrapIncoming(()=>{this.centerRowContainerCtrl.setCenterViewportScrollLeft(t),this.setVerticalScrollPosition(e),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:i,columnAfterEnd:n}=this.isColumnOutsideViewport(e),s=this.centerRowContainerCtrl.getCenterWidth()<e.getActualWidth(),r=this.centerRowContainerCtrl.getCenterWidth(),o=this.enableRtl;let a=(o?i:n)||s,l=o?n:i;"auto"!==t&&(a="start"===t,l="end"===t);const d="middle"===t;if(a||l||d){const{colLeft:c,colMiddle:u,colRight:p}=this.getColumnBounds(e);return d?u-r/2:a?o?p:c:o?c-r:p-r}return null}isColumnOutsideViewport(e){const{start:t,end:i}=this.getViewportBounds(),{colLeft:n,colRight:s}=this.getColumnBounds(e),r=this.enableRtl;return{columnBeforeStart:r?t>s:i<s,columnAfterEnd:r?i<n:t>n}}getColumnBounds(e){const t=this.enableRtl,i=this.columnModel.getBodyContainerWidth(),n=e.getActualWidth(),s=e.getLeft(),r=t?-1:1,o=t?i-s:s;return{colLeft:o,colMiddle:o+n/2*r,colRight:o+n*r}}getViewportBounds(){const e=this.centerRowContainerCtrl.getCenterWidth(),t=this.centerRowContainerCtrl.getCenterViewportScrollLeft();return{start:t,end:e+t,width:e}}};h([g("ctrlsService")],cr.prototype,"ctrlsService",2),h([g("animationFrameService")],cr.prototype,"animationFrameService",2),h([g("paginationProxy")],cr.prototype,"paginationProxy",2),h([g("rowModel")],cr.prototype,"rowModel",2),h([g("rowContainerHeightService")],cr.prototype,"heightScaler",2),h([g("rowRenderer")],cr.prototype,"rowRenderer",2),h([g("columnModel")],cr.prototype,"columnModel",2),h([I],cr.prototype,"postConstruct",1);var xk="ag-force-vertical-scroll",Pi=class extends A{constructor(){super(...arguments),this.stickyTopHeight=0}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(e,t,i,n,s,r){this.comp=e,this.eGridBody=t,this.eBodyViewport=i,this.eTop=n,this.eBottom=s,this.eStickyTop=r,this.setCellTextSelection(this.gridOptionsService.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",o=>this.setCellTextSelection(o.currentValue)),this.createManagedBean(new eg(this.comp)),this.bodyScrollFeature=this.createManagedBean(new cr(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([n,i,s,r]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager.setupAdvancedFilterHeaderComp(n),this.ctrlsService.registerGridBodyCtrl(this)}getComp(){return this.comp}addEventListeners(){this.addManagedListener(this.eventService,f.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,f.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,f.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,f.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))}addFocusListeners(e){e.forEach(t=>{this.addManagedListener(t,"focusin",i=>{const{target:n}=i,s=Po(n,"ag-root",t);t.classList.toggle("ag-has-focus",!s)}),this.addManagedListener(t,"focusout",i=>{const{target:n,relatedTarget:s}=i,r=t.contains(s),o=Po(s,"ag-root",t);Po(n,"ag-root",t)||(!r||o)&&t.classList.remove("ag-has-focus")})})}setColumnMovingCss(e){this.comp.setColumnMovingCss("ag-column-moving",e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss("ag-selectable",e)}onScrollVisibilityChanged(){const e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyTopWidth(e);const n=`calc(100% + ${(e&&this.gridOptionsService.getScrollbarWidth()||0)+(M_()?16:0)}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(n))}onGridColumnsChanged(){const e=this.columnModel.getAllGridColumns();this.comp.setColumnCount(e.length)}disableBrowserDragging(){this.addManagedListener(this.eGridBody,"dragstart",e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1})}addStopEditingWhenGridLosesFocus(){if(!this.gridOptionsService.get("stopEditingWhenCellsLoseFocus"))return;const e=i=>{const n=i.relatedTarget;if(null===Gm(n))return void this.rowRenderer.stopEditing();let s=t.some(r=>r.contains(n))&&this.mouseEventService.isElementInThisGrid(n);if(!s){const r=this.popupService;s=r.getActivePopups().some(o=>o.contains(n))||r.isElementWithinCustomPopup(n)}s||this.rowRenderer.stopEditing()},t=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];t.forEach(i=>this.addManagedListener(i,"focusout",e))}updateRowCount(){const e=this.headerNavigationService.getHeaderRowCount()+this.filterManager.getHeaderRowCount(),t=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1;this.comp.setRowCount(-1===t?-1:e+t)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){this.comp.setPinnedTopBottomOverflowY(e?"scroll":"hidden")}isVerticalScrollShowing(){const e=this.gridOptionsService.get("alwaysShowVerticalScroll"),t=e?xk:null,i=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||i&&AN(this.eBodyViewport)}setupRowAnimationCssClass(){const e=()=>{const t=this.gridOptionsService.isAnimateRows()&&!this.rowContainerHeightService.isStretching();this.comp.setRowAnimationCssOnBodyViewport(t?"ag-row-animation":"ag-row-no-animation",t)};e(),this.addManagedListener(this.eventService,f.EVENT_HEIGHT_SCALE_CHANGED,e),this.addManagedPropertyListener("animateRows",e)}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const e=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",e),this.mockContextMenuForIPad(e),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this)),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){const e=this.eBodyViewport.querySelector(".ag-full-width-container"),t=this.eBodyViewport.querySelector(".ag-center-cols-viewport");e&&t&&this.addManagedListener(e,"wheel",i=>this.onFullWidthContainerWheel(i,t))}onFullWidthContainerWheel(e,t){!e.deltaX||Math.abs(e.deltaY)>Math.abs(e.deltaX)||!this.mouseEventService.isEventFromThisGrid(e)||(e.preventDefault(),t.scrollBy({left:e.deltaX}))}onBodyViewportContextMenu(e,t,i){if(!e&&!i)return;this.gridOptionsService.get("preventDefaultOnContextMenu")&&(e||i).preventDefault();const{target:n}=e||t;(n===this.eBodyViewport||n===this.ctrlsService.getCenterRowContainerCtrl().getViewportElement())&&this.menuService.showContextMenu({mouseEvent:e,touchEvent:i,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(e){if(!ar())return;const t=new Jt(this.eBodyViewport);this.addManagedListener(t,Jt.EVENT_LONG_TAP,n=>{e(void 0,n.touchStart,n.touchEvent)}),this.addDestroyFunc(()=>t.destroy())}onBodyViewportWheel(e){this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}onStickyTopWheel(e){e.preventDefault(),e.offsetY&&this.scrollVertically(e.deltaY)}getGui(){return this.eGridBody}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new pn(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)}getRowDragFeature(){return this.rowDragFeature}onPinnedRowDataChanged(){this.setFloatingHeights()}setFloatingHeights(){const{pinnedRowModel:e}=this;let t=e.getPinnedTopTotalHeight(),i=e.getPinnedBottomTotalHeight();this.comp.setTopHeight(t),this.comp.setBottomHeight(i),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none"),this.setStickyTopOffsetTop()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}getStickyTopHeight(){return this.stickyTopHeight}setStickyTopWidth(e){if(e){const t=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`)}else this.comp.setStickyTopWidth("100%")}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){const t=this.ctrlsService.getGridHeaderCtrl().getHeaderHeight()+this.filterManager.getHeaderHeight(),i=this.pinnedRowModel.getPinnedTopTotalHeight();let n=0;t>0&&(n+=t+1),i>0&&(n+=i+1),this.comp.setStickyTopTop(`${n}px`)}sizeColumnsToFit(e,t){const n=this.isVerticalScrollShowing()?this.gridOptionsService.getScrollbarWidth():0,r=Lo(this.eGridBody)-n;r>0?this.columnModel.sizeColumnsToFit(r,"sizeColumnsToFit",!1,e):void 0===t?window.setTimeout(()=>{this.sizeColumnsToFit(e,100)},0):100===t?window.setTimeout(()=>{this.sizeColumnsToFit(e,500)},100):500===t?window.setTimeout(()=>{this.sizeColumnsToFit(e,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})}removeScrollEventListener(e){this.eBodyViewport.removeEventListener("scroll",e)}};h([g("animationFrameService")],Pi.prototype,"animationFrameService",2),h([g("rowContainerHeightService")],Pi.prototype,"rowContainerHeightService",2),h([g("ctrlsService")],Pi.prototype,"ctrlsService",2),h([g("columnModel")],Pi.prototype,"columnModel",2),h([g("scrollVisibleService")],Pi.prototype,"scrollVisibleService",2),h([g("menuService")],Pi.prototype,"menuService",2),h([g("headerNavigationService")],Pi.prototype,"headerNavigationService",2),h([g("dragAndDropService")],Pi.prototype,"dragAndDropService",2),h([g("pinnedRowModel")],Pi.prototype,"pinnedRowModel",2),h([g("rowRenderer")],Pi.prototype,"rowRenderer",2),h([g("popupService")],Pi.prototype,"popupService",2),h([g("mouseEventService")],Pi.prototype,"mouseEventService",2),h([g("rowModel")],Pi.prototype,"rowModel",2),h([g("filterManager")],Pi.prototype,"filterManager",2);var Lu="ag-cell-range-selected",JJ=class extends A{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListener(this.beans.eventService,f.EVENT_NEW_COLUMNS_LOADED,()=>this.onNewColumnsLoaded())}setComp(e){this.eGui=e,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();Ds(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,f.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,f.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))}onWidthChanged(){if(!this.eGui)return;const e=this.getCellWidth();this.eGui.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const e=this.column.getColSpan(this.rowNode),t=[];if(1===e)t.push(this.column);else{let i=this.column;const n=this.column.getPinned();for(let s=0;i&&s<e&&(t.push(i),i=this.beans.columnModel.getDisplayedColAfter(i),i&&!Y(i)&&n===i.getPinned());s++);}return t}onLeftChanged(){if(!this.eGui)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return e=this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?Ae(this.colsSpanning):this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.isPrintLayout()||"left"===this.column.getPinned())return e;const t=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===this.column.getPinned()?t+this.beans.columnModel.getBodyContainerWidth()+(e||0):t+(e||0)}applyRowSpan(e){if(1===this.rowSpan&&!e)return;const i=this.beans.gridOptionsService.getRowHeightAsNumber()*this.rowSpan;this.eGui.style.height=`${i}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},eee=class extends A{constructor(e,t){super(),this.staticClasses=[],this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const e=this.column.getColDef(),{cellClassRules:t}=e,i=this.beans.gridOptionsService.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(t===this.cellClassRules?void 0:this.cellClassRules,t,i,n=>this.cellComp.addOrRemoveCssClass(n,!0),n=>this.cellComp.addOrRemoveCssClass(n,!1)),this.cellClassRules=t}applyUserStyles(){const e=this.column.getColDef();if(!e.cellStyle)return;let t;if("function"==typeof e.cellStyle){const i=this.beans.gridOptionsService.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex});t=(0,e.cellStyle)(i)}else t=e.cellStyle;t&&this.cellComp.setUserStyles(t)}applyClassesFromColDef(){const e=this.column.getColDef(),t=this.beans.gridOptionsService.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,t),this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!0))}destroy(){super.destroy()}},J=class{postConstruct(){this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)}};h([g("resizeObserverService")],J.prototype,"resizeObserverService",2),h([g("paginationProxy")],J.prototype,"paginationProxy",2),h([g("context")],J.prototype,"context",2),h([g("columnApi")],J.prototype,"columnApi",2),h([g("gridApi")],J.prototype,"gridApi",2),h([g("gridOptionsService")],J.prototype,"gridOptionsService",2),h([g("expressionService")],J.prototype,"expressionService",2),h([g("environment")],J.prototype,"environment",2),h([g("rowRenderer")],J.prototype,"rowRenderer",2),h([g("templateService")],J.prototype,"templateService",2),h([g("valueService")],J.prototype,"valueService",2),h([g("eventService")],J.prototype,"eventService",2),h([g("columnModel")],J.prototype,"columnModel",2),h([g("headerNavigationService")],J.prototype,"headerNavigationService",2),h([g("navigationService")],J.prototype,"navigationService",2),h([g("columnAnimationService")],J.prototype,"columnAnimationService",2),h([De("rangeService")],J.prototype,"rangeService",2),h([g("focusService")],J.prototype,"focusService",2),h([g("popupService")],J.prototype,"popupService",2),h([g("valueFormatterService")],J.prototype,"valueFormatterService",2),h([g("stylingService")],J.prototype,"stylingService",2),h([g("columnHoverService")],J.prototype,"columnHoverService",2),h([g("userComponentFactory")],J.prototype,"userComponentFactory",2),h([g("userComponentRegistry")],J.prototype,"userComponentRegistry",2),h([g("animationFrameService")],J.prototype,"animationFrameService",2),h([g("dragService")],J.prototype,"dragService",2),h([g("dragAndDropService")],J.prototype,"dragAndDropService",2),h([g("sortController")],J.prototype,"sortController",2),h([g("filterManager")],J.prototype,"filterManager",2),h([g("rowContainerHeightService")],J.prototype,"rowContainerHeightService",2),h([g("frameworkOverrides")],J.prototype,"frameworkOverrides",2),h([g("cellPositionUtils")],J.prototype,"cellPositionUtils",2),h([g("rowPositionUtils")],J.prototype,"rowPositionUtils",2),h([g("selectionService")],J.prototype,"selectionService",2),h([De("selectionHandleFactory")],J.prototype,"selectionHandleFactory",2),h([g("rowCssClassCalculator")],J.prototype,"rowCssClassCalculator",2),h([g("rowModel")],J.prototype,"rowModel",2),h([g("ctrlsService")],J.prototype,"ctrlsService",2),h([g("ctrlsFactory")],J.prototype,"ctrlsFactory",2),h([g("agStackComponentsRegistry")],J.prototype,"agStackComponentsRegistry",2),h([g("valueCache")],J.prototype,"valueCache",2),h([g("rowNodeEventThrottle")],J.prototype,"rowNodeEventThrottle",2),h([g("localeService")],J.prototype,"localeService",2),h([g("valueParserService")],J.prototype,"valueParserService",2),h([g("syncService")],J.prototype,"syncService",2),h([g("ariaAnnouncementService")],J.prototype,"ariaAnnouncementService",2),h([I],J.prototype,"postConstruct",1),J=h([V("beans")],J);var tee=class extends J{constructor(e,t,i){super(),this.cellCtrl=e,this.beans=t,this.column=i}onMouseEvent(e,t){if(!ts(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t)}}onCellClicked(e){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(e),void e.preventDefault();const{eventService:t,rangeService:i,gridOptionsService:n}=this.beans;i&&(e.ctrlKey||e.metaKey)&&i.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&i.intersectLastRange(!0);const r=this.cellCtrl.createEvent(e,f.EVENT_CELL_CLICKED);t.dispatchEvent(r);const o=this.column.getColDef();o.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{o.onCellClicked(r)})},0),(n.get("singleClickEdit")||o.singleClickEdit)&&!n.get("suppressClickEdit")&&(!e.shiftKey||0==i?.getCellRanges().length)&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!ar()||l_("dblclick"))return!1;const e=(new Date).getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t}onCellDoubleClicked(e){const t=this.column.getColDef(),i=this.cellCtrl.createEvent(e,f.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(i),"function"==typeof t.onCellDoubleClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{t.onCellDoubleClicked(i)})},0),!this.beans.gridOptionsService.get("singleClickEdit")&&!this.beans.gridOptionsService.get("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit(null,e)}onMouseDown(e){const{ctrlKey:t,metaKey:i,shiftKey:n}=e,s=e.target,{cellCtrl:r,beans:o}=this,{eventService:a,rangeService:l,focusService:d}=o;if(this.isRightClickInExistingRange(e))return;const c=l&&0!=l.getCellRanges().length;if(!n||!c){const u=Rs()&&!r.isEditing()&&!L_(s);r.focusCell(u)}if(n&&c&&!d.isCellFocused(r.getCellPosition())){e.preventDefault();const u=d.getFocusedCell();if(u){const{column:p,rowIndex:m,rowPinned:v}=u,C=o.rowRenderer.getRowByPosition({rowIndex:m,rowPinned:v}),b=C?.getCellCtrl(p);b?.isEditing()&&b.stopEditing(),d.setFocusedCell({column:p,rowIndex:m,rowPinned:v,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(s)){if(l){const u=this.cellCtrl.getCellPosition();n?l.extendLatestRangeToCell(u):l.setRangeToCell(u,t||i)}a.dispatchEvent(this.cellCtrl.createEvent(e,f.EVENT_CELL_MOUSE_DOWN))}}isRightClickInExistingRange(e){const{rangeService:t}=this.beans;if(t){const i=t.isCellInAnyRange(this.cellCtrl.getCellPosition()),n=2===e.button||e.ctrlKey&&this.beans.gridOptionsService.get("allowContextMenuWithControlKey");if(i&&n)return!0}return!1}containsWidget(e){return Po(e,"ag-selection-checkbox",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const t=this.cellCtrl.createEvent(e,f.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const t=this.cellCtrl.createEvent(e,f.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.getGui(),i=t.contains(e.target),n=t.contains(e.relatedTarget);return i&&n}destroy(){}},iee=class extends A{constructor(e,t,i,n,s){super(),this.cellCtrl=e,this.beans=t,this.rowNode=n,this.rowCtrl=s}setComp(e){this.eGui=e}onKeyDown(e){const t=e.key;switch(t){case S.ENTER:this.onEnterKeyDown(e);break;case S.F2:this.onF2KeyDown(e);break;case S.ESCAPE:this.onEscapeKeyDown(e);break;case S.TAB:this.onTabKeyDown(e);break;case S.BACKSPACE:case S.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case S.DOWN:case S.UP:case S.RIGHT:case S.LEFT:this.onNavigationKeyDown(e,t)}}onNavigationKeyDown(e,t){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,t,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}onShiftRangeSelect(e){if(!this.beans.rangeService)return;const t=this.beans.rangeService.extendLatestRangeInDirection(e);t&&this.beans.navigationService.ensureCellVisible(t)}onTabKeyDown(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:i,beans:n,rowNode:s}=this,{gridOptionsService:r,rangeService:o,eventService:a}=n;i.isEditing()||(a.dispatchEvent({type:f.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),GN(e,r.get("enableCellEditingOnBackspace"))?o&&r.get("enableRangeSelection")?o.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"}):i.isCellEditable()&&s.setDataValue(i.getColumn(),null,"cellClear"):i.startRowOrCellEdit(e,t),a.dispatchEvent({type:f.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))}onEnterKeyDown(e){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey):this.beans.gridOptionsService.get("enterNavigatesVertically")?this.beans.navigationService.navigateToNextCell(null,e.shiftKey?S.UP:S.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(S.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault())}onF2KeyDown(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(S.F2,e)}onEscapeKeyDown(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.isEditing())return;const n=e.key;" "===n?this.onSpaceKeyDown(e):(this.cellCtrl.startRowOrCellEdit(n,e),e.preventDefault())}onSpaceKeyDown(e){const{gridOptionsService:t}=this.beans;if(!this.cellCtrl.isEditing()&&t.isRowSelection()){const i=this.rowNode.isSelected(),n=!i;if(n||!t.get("suppressRowDeselection")){const s=this.beans.gridOptionsService.get("groupSelectsFiltered"),r=this.rowNode.setSelectedParams({newValue:n,rangeSelect:e.shiftKey,groupSelectsFiltered:s,event:e,source:"spaceKey"});void 0===i&&0===r&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:s,event:e,source:"spaceKey"})}}e.preventDefault()}destroy(){super.destroy()}},Rk=class extends ee{constructor(e,t,i){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=i}postConstruct(){this.getGui().appendChild(ct("rowDrag",this.gridOptionsService,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const t=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0),t?t(this.gridOptionsService.addGridCommonParams({rowNode:this.rowNode,dragEvent:e})):(()=>{try{const n=JSON.stringify(this.rowNode.data);e.dataTransfer.setData("application/json",n),e.dataTransfer.setData("text/plain",n)}catch{}})()}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};h([I],Rk.prototype,"postConstruct",1);var tg=class{static getHeaderClassesFromColDef(e,t,i,n){return Y(e)?[]:this.getColumnClassesFromCollDef(e.headerClass,e,t,i,n)}static getToolPanelClassesFromColDef(e,t,i,n){return Y(e)?[]:this.getColumnClassesFromCollDef(e.toolPanelClass,e,t,i,n)}static refreshFirstAndLastStyles(e,t,i){e.addOrRemoveCssClass("ag-column-first",i.isColumnAtEdge(t,"first")),e.addOrRemoveCssClass("ag-column-last",i.isColumnAtEdge(t,"last"))}static getClassParams(e,t,i,n){return t.addGridCommonParams({colDef:e,column:i,columnGroup:n})}static getColumnClassesFromCollDef(e,t,i,n,s){if(Y(e))return[];let r;return r="function"==typeof e?e(this.getClassParams(t,i,n,s)):e,"string"==typeof r?[r]:Array.isArray(r)?[...r]:[]}},fee=0,Tk=class oE extends A{constructor(t,i,n,s){super(),this.cellRangeFeature=null,this.cellPositionFeature=null,this.cellCustomStyleFeature=null,this.tooltipFeature=null,this.cellMouseListenerFeature=null,this.cellKeyboardListenerFeature=null,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.column=t,this.rowNode=i,this.beans=n,this.rowCtrl=s,this.instanceId=t.getId()+"-"+fee++,this.colIdSanitised=Nt(this.column.getId()),n.gridOptionsService.get("suppressCellFocus")||(this.tabIndex=-1),this.createCellPosition(),this.addFeatures(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}addFeatures(){this.cellPositionFeature=new JJ(this,this.beans),this.addDestroyFunc(()=>{var i;null==(i=this.cellPositionFeature)||i.destroy(),this.cellPositionFeature=null}),this.cellCustomStyleFeature=new eee(this,this.beans),this.addDestroyFunc(()=>{var i;null==(i=this.cellCustomStyleFeature)||i.destroy(),this.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new tee(this,this.beans,this.column),this.addDestroyFunc(()=>{var i;null==(i=this.cellMouseListenerFeature)||i.destroy(),this.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new iee(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(()=>{var i;null==(i=this.cellKeyboardListenerFeature)||i.destroy(),this.cellKeyboardListenerFeature=null}),this.column.isTooltipEnabled()&&(this.enableTooltipFeature(),this.addDestroyFunc(()=>{this.disableTooltipFeature()})),this.beans.rangeService&&this.beans.gridOptionsService.get("enableRangeSelection")&&(this.cellRangeFeature=new class{constructor(e,t){this.beans=e,this.cellCtrl=t}setComp(e,t){this.cellComp=e,this.eGui=t,this.onRangeSelectionChanged()}onRangeSelectionChanged(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(Lu,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass(`${Lu}-1`,1===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${Lu}-2`,2===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${Lu}-3`,3===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${Lu}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),Hl(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const e=this.getRangeBorders(),t=this.isSingleCell(),n=!t&&e.right,s=!t&&e.bottom,r=!t&&e.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",!t&&e.top),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",n),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",s),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",r)}isSingleCell(){const{rangeService:e}=this.beans;return 1===this.rangeCount&&e&&!e.isMoreThanOneCell()}getHasChartRange(){const{rangeService:e}=this.beans;if(!this.rangeCount||!e)return!1;const t=e.getCellRanges();return t.length>0&&t.every(i=>un([1,0],i.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const e=this.beans.gridOptionsService.get("enableRtl");let t=!1,i=!1,n=!1,s=!1;const r=this.cellCtrl.getCellPosition().column,{rangeService:o,columnModel:a}=this.beans;let l,d;e?(l=a.getDisplayedColAfter(r),d=a.getDisplayedColBefore(r)):(l=a.getDisplayedColBefore(r),d=a.getDisplayedColAfter(r));const c=o.getCellRanges().filter(u=>o.isCellInSpecificRange(this.cellCtrl.getCellPosition(),u));l||(s=!0),d||(i=!0);for(let u=0;u<c.length&&!(t&&i&&n&&s);u++){const p=c[u],m=o.getRangeStartRow(p),v=o.getRangeEndRow(p);!t&&this.beans.rowPositionUtils.sameRow(m,this.cellCtrl.getCellPosition())&&(t=!0),!n&&this.beans.rowPositionUtils.sameRow(v,this.cellCtrl.getCellPosition())&&(n=!0),!s&&l&&p.columns.indexOf(l)<0&&(s=!0),!i&&d&&p.columns.indexOf(d)<0&&(i=!0)}return{top:t,right:i,bottom:n,left:s}}refreshHandle(){if(!this.beans.rangeService||this.beans.context.isDestroyed())return;const e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}shouldHaveSelectionHandle(){const{gridOptionsService:e,rangeService:t}=this.beans,i=t.getCellRanges(),n=i.length;if(this.rangeCount<1||n<1)return!1;const s=Ae(i),r=this.cellCtrl.getCellPosition(),o=e.get("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),a=e.get("enableRangeHandle");let l=1===n&&!this.cellCtrl.isEditing()&&(o||a);if(this.hasChartRange){const c=1===i[0].type&&t.isCellInSpecificRange(r,i[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",c),l=0===s.type}return l&&null!=s.endRow&&t.isContiguousRange(s)&&t.isBottomRightCell(s,r)}addSelectionHandle(){const{gridOptionsService:e,rangeService:t}=this.beans,i=Ae(t.getCellRanges()).type,s=e.get("enableFillHandle")&&Y(i)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==s&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(s)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}}(this.beans,this),this.addDestroyFunc(()=>{var i;null==(i=this.cellRangeFeature)||i.destroy(),this.cellRangeFeature=null}))}enableTooltipFeature(t,i){const s="whenTruncated"===this.beans.gridOptionsService.get("tooltipShowMode");!i&&s&&!this.isCellRenderer()&&(i=()=>{const o=this.getGui(),a=0===o.children.length?o:o.querySelector(".ag-cell-value");return!a||a.scrollWidth>a.clientWidth}),this.tooltipFeature=new lr({getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:null!=t?()=>t:()=>{const o=this.column.getColDef(),a=this.rowNode.data;if(o.tooltipField&&R(a))return Nl(a,o.tooltipField,this.column.isTooltipFieldContainsDots());const l=o.tooltipValueGetter;return l?l(this.beans.gridOptionsService.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:i},this.beans)}disableTooltipFeature(){this.tooltipFeature&&(this.tooltipFeature.destroy(),this.tooltipFeature=null)}setComp(t,i,n,s,r){var o,a,l,d;this.cellComp=t,this.eGui=i,this.printLayout=s,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(n),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),null==(o=this.cellPositionFeature)||o.setComp(i),null==(a=this.cellCustomStyleFeature)||a.setComp(t),null==(l=this.tooltipFeature)||l.refreshToolTip(),null==(d=this.cellKeyboardListenerFeature)||d.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(t,i),r&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(c=>c()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(t){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!t)return;const i=t.parentElement,n=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,s=a=>{if(this.editing||!this.isAlive())return;const{paddingTop:l,paddingBottom:d,borderBottomWidth:c,borderTopWidth:u}=Hr(i),v=t.offsetHeight+(l+d+c+u);if(a<5){const b=this.beans.gridOptionsService.getDocument();if(!b||!b.contains(t)||0==v)return void window.setTimeout(()=>s(a+1),0)}const C=Math.max(v,n);this.rowNode.setRowAutoHeight(C,this.column)},r=()=>s(0);r();const o=this.beans.resizeObserverService.observeResize(t,r);this.addDestroyFunc(()=>{o(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getCellAriaRole(){var t;return null!=(t=this.column.getColDef().cellAriaRole)?t:"gridcell"}getInstanceId(){return this.instanceId}getIncludeSelection(){return this.includeSelection}getIncludeRowDrag(){return this.includeRowDrag}getIncludeDndSource(){return this.includeDndSource}getColumnIdSanitised(){return this.colIdSanitised}getTabIndex(){return this.tabIndex}isCellRenderer(){const t=this.column.getColDef();return null!=t.cellRenderer||null!=t.cellRendererSelector}getValueToDisplay(){return null!=this.valueFormatted?this.valueFormatted:this.value}showValue(t=!1){const i=this.getValueToDisplay();let n;if(this.isCellRenderer()){const s=this.createCellRendererParams();n=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),s)}this.cellComp.setRenderDetails(n,i,t),this.refreshHandle()}setupControlComps(){const t=this.column.getColDef();this.includeSelection=this.isIncludeControl(t.checkboxSelection),this.includeRowDrag=this.isIncludeControl(t.rowDrag),this.includeDndSource=this.isIncludeControl(t.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gridOptionsService.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(t){return null==this.rowNode.rowPinned&&("function"==typeof t||!0===t)}refreshShouldDestroy(){const t=this.column.getColDef(),i=this.includeSelection!=this.isIncludeControl(t.checkboxSelection),n=this.includeRowDrag!=this.isIncludeControl(t.rowDrag),s=this.includeDndSource!=this.isIncludeControl(t.dndSource);return i||n||s}startEditing(t=null,i=!1,n=null){if(!this.isCellEditable()||this.editing)return;if(!this.cellComp)return void this.onCellCompAttachedFuncs.push(()=>{this.startEditing(t,i,n)});const s=this.createCellEditorParams(t,i),r=this.column.getColDef(),o=this.beans.userComponentFactory.getCellEditorDetails(r,s);this.editCompDetails=o;const a=null!=o?.popupFromSelector?o.popupFromSelector:!!r.cellEditorPopup,l=null!=o?.popupPositionFromSelector?o.popupPositionFromSelector:r.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(o,a,l,this.beans.gridOptionsService.get("reactiveCustomComponents"));const d=this.createEvent(n,f.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(d)}setEditing(t){this.editing!==t&&(this.editing=t,this.refreshHandle())}stopRowOrCellEdit(t=!1){"fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.stopEditing(t):this.stopEditing(t)}onPopupEditorClosed(){this.isEditing()&&this.stopEditingAndFocus()}takeValueFromCellEditor(t){const i={newValueExists:!1};if(t)return i;const n=this.cellComp.getCellEditor();return!n||n.isCancelAfterEnd&&n.isCancelAfterEnd()?i:{newValue:n.getValue(),newValueExists:!0}}saveNewValue(t,i){if(i===t)return!1;this.suppressRefreshCell=!0;const n=this.rowNode.setDataValue(this.column,i,"edit");return this.suppressRefreshCell=!1,n}stopEditing(t=!1){if(!this.editing)return!1;const{newValue:i,newValueExists:n}=this.takeValueFromCellEditor(t),s=this.rowNode.getValueFromValueService(this.column);let r=!1;return n&&(r=this.saveNewValue(s,i)),this.setEditing(!1),this.cellComp.setEditDetails(),this.editCompDetails=void 0,this.updateAndFormatValue(!1),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(s,i,!t&&!!r),r}dispatchEditingStoppedEvent(t,i,n){const s=ot(z({},this.createEvent(null,f.EVENT_CELL_EDITING_STOPPED)),{oldValue:t,newValue:i,valueChanged:n});this.beans.eventService.dispatchEvent(s)}createCellEditorParams(t,i){return this.beans.gridOptionsService.addGridCommonParams({value:this.rowNode.getValueFromValueService(this.column),eventKey:t,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,cellStartedEdit:i,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)})}createCellRendererParams(){return this.beans.gridOptionsService.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.rowNode.getValueFromValueService(this.column),setValue:i=>this.beans.valueService.setValue(this.rowNode,this.column,i),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(i,n,s,r)=>this.registerRowDragger(i,n,r),setTooltip:(i,n)=>{this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(i,n),this.refreshToolTip()}})}parseValue(t){return this.beans.valueParserService.parseValue(this.column,this.rowNode,t,this.getValue())}setFocusOutOnEditor(){if(!this.editing)return;const t=this.cellComp.getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(){if(!this.editing)return;const t=this.cellComp.getCellEditor();t&&t.focusIn?t.focusIn():this.focusCell(!0)}onCellChanged(t){t.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(t){var i;this.refreshShouldDestroy()?null==(i=this.rowCtrl)||i.refreshCell(this):this.refreshCell(t)}refreshCell(t){var i,n,s;if(this.suppressRefreshCell||this.editing)return;const r=this.column.getColDef(),o=null!=t&&!!t.newData,a=null!=t&&!!t.suppressFlash||!!r.suppressCellFlash,d=t&&t.forceRefresh||null==r.field&&null==r.valueGetter&&null==r.showRowGroup||o,c=!!this.cellComp,u=this.updateAndFormatValue(c);if(c){if(d||u){this.showValue(o);const m=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!a&&!m&&(this.beans.gridOptionsService.get("enableCellChangeFlash")||r.enableCellChangeFlash)&&this.flashCell(),null==(i=this.cellCustomStyleFeature)||i.applyUserStyles(),null==(n=this.cellCustomStyleFeature)||n.applyClassesFromColDef()}this.refreshToolTip(),null==(s=this.cellCustomStyleFeature)||s.applyCellClassRules()}}stopEditingAndFocus(t=!1,i=!1){this.stopRowOrCellEdit(),this.focusCell(!0),t||this.navigateAfterEdit(i)}navigateAfterEdit(t){this.beans.gridOptionsService.get("enterNavigatesVerticallyAfterEdit")&&this.beans.navigationService.navigateToNextCell(null,t?S.UP:S.DOWN,this.getCellPosition(),!1)}flashCell(t){var i,n;const s=null!=(i=t?.flashDuration)?i:t?.flashDelay,r=null!=(n=t?.fadeDuration)?n:t?.fadeDelay;this.animateCell("data-changed",s,r)}animateCell(t,i,n){if(!this.cellComp)return;const s=`ag-cell-${t}`,r=`ag-cell-${t}-animation`,{gridOptionsService:o}=this.beans;i||(i=o.get("cellFlashDuration")),R(n)||(n=o.get("cellFadeDuration")),this.cellComp.addOrRemoveCssClass(s,!0),this.cellComp.addOrRemoveCssClass(r,!1),this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(s,!1),this.cellComp.addOrRemoveCssClass(r,!0),this.eGui.style.transition=`background-color ${n}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(r,!1),this.eGui.style.transition="")},n))},i)})}onFlashCells(t){if(!this.cellComp)return;const i=this.beans.cellPositionUtils.createId(this.getCellPosition());t.cells[i]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(t){var i;return null!=(i=this.callValueFormatter(t))?i:t}callValueFormatter(t){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,t)}updateAndFormatValue(t){const i=this.value,n=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),!t||!this.valuesAreEqual(i,this.value)||this.valueFormatted!=n}valuesAreEqual(t,i){const n=this.column.getColDef();return n.equals?n.equals(t,i):t===i}getComp(){return this.cellComp}getValue(){return this.value}getValueFormatted(){return this.valueFormatted}addDomData(){const t=this.getGui();this.beans.gridOptionsService.setDomData(t,oE.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(()=>this.beans.gridOptionsService.setDomData(t,oE.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(t,i){return this.beans.gridOptionsService.addGridCommonParams({type:i,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:t,rowIndex:this.rowNode.rowIndex})}processCharacter(t){var i;null==(i=this.cellKeyboardListenerFeature)||i.processCharacter(t)}onKeyDown(t){var i;null==(i=this.cellKeyboardListenerFeature)||i.onKeyDown(t)}onMouseEvent(t,i){var n;null==(n=this.cellMouseListenerFeature)||n.onMouseEvent(t,i)}getGui(){return this.eGui}refreshToolTip(){var t;null==(t=this.tooltipFeature)||t.refreshToolTip()}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){var t;this.cellComp&&(null==(t=this.cellPositionFeature)||t.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{cellComp:t,column:i,beans:n}=this;tg.refreshFirstAndLastStyles(t,i,n.columnModel)}refreshAriaColIndex(){const t=this.beans.columnModel.getAriaColumnIndex(this.column);v_(this.getGui(),t)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){var t;return null==(t=this.cellPositionFeature)?void 0:t.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}getBeans(){return this.beans}isPrintLayout(){return this.printLayout}appendChild(t){this.eGui.appendChild(t)}refreshHandle(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(t,i=null){this.cellComp?"fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.startRowEditing(t,this):this.startEditing(t,!0,i):this.onCellCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(t,i)})}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onRangeSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}isRangeSelectionEnabled(){return null!=this.cellRangeFeature}focusCell(t=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:t})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}onFirstRightPinnedChanged(){if(!this.cellComp)return;const t=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",t)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const t=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",t)}onCellFocused(t){if(this.beans.gridOptionsService.get("suppressCellFocus"))return;const i=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp)return void(i&&t?.forceBrowserFocus&&(this.focusEventToRestore=t));this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass("ag-cell-focus",i),i&&t&&t.forceBrowserFocus&&this.cellComp.getFocusableElement().focus({preventScroll:!!t.preventScrollOnBrowserFocus});const n="fullRow"===this.beans.gridOptionsService.get("editType");!i&&!n&&this.editing&&this.stopRowOrCellEdit(),i&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:Es(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass("ag-cell-not-inline-editing",!0);const t=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",t),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!t)}onColumnHover(){if(!this.cellComp||!this.beans.gridOptionsService.get("columnHoverHighlight"))return;const t=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",t)}onColDefChanged(){var t;if(this.cellComp)if(this.column.isAutoHeight()!==this.isAutoHeight&&(null==(t=this.rowCtrl)||t.refreshCell(this)),this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing){const s=this.getCellEditor();if(s?.refresh){const{eventKey:r,cellStartedEdit:o}=this.editCompDetails.params,a=this.createCellEditorParams(r,o),l=this.column.getColDef(),d=this.beans.userComponentFactory.getCellEditorDetails(l,a);s.refresh(d.params)}}else this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0})}setWrapText(){const t=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",t)}dispatchCellContextMenuEvent(t){const i=this.column.getColDef(),n=this.createEvent(t,f.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(n),i.onCellContextMenu&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{i.onCellContextMenu(n)})},0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const t=new Zm;return this.beans.context.createBean(t),t.init({rowNode:this.rowNode,column:this.column}),t}createDndSource(){const t=new Rk(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(t),t}registerRowDragger(t,i,n){if(this.customRowDragComp)return void this.customRowDragComp.setDragElement(t,i);const s=this.createRowDragComp(t,i,n);s&&(this.customRowDragComp=s,this.addDestroyFunc(()=>{this.beans.context.destroyBean(s),this.customRowDragComp=null}))}createRowDragComp(t,i,n){const s=this.beans.gridOptionsService.get("pagination"),r=this.beans.gridOptionsService.get("rowDragManaged"),o=this.beans.gridOptionsService.isRowModelType("clientSide");if(r){if(!o)return void $("managed row dragging is only allowed in the Client Side Row Model");if(s)return void $("managed row dragging is not possible when doing pagination")}const a=new Ho(()=>this.value,this.rowNode,this.column,t,i,n);return this.beans.context.createBean(a),a}};Tk.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var Wo=Tk,mee=0,Ak=class aE extends A{constructor(t,i,n,s,r){super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=i,this.gridOptionsService=i.gridOptionsService,this.rowNode=t,this.paginationPage=i.paginationProxy.getCurrentPage(),this.useAnimationFrameForCreate=s,this.printLayout=r,this.suppressRowTransform=this.gridOptionsService.get("suppressRowTransform"),this.instanceId=t.id+"-"+mee++,this.rowId=Nt(t.id),this.initRowBusinessKey(),this.rowFocused=i.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=i.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.isFullWidth()&&!this.gridOptionsService.get("suppressCellFocus")&&(this.tabIndex=-1),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gridOptionsService.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if("function"!=typeof this.businessKeyForNodeFunc)return;const t=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=Nt(t)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}getTabIndex(){return this.tabIndex}isSticky(){return this.rowNode.sticky}getBeans(){return this.beans}getInstanceId(){return this.instanceId}setComp(t,i,n){const s={rowComp:t,element:i,containerType:n};this.allRowGuis.push(s),"left"===n?this.leftGui=s:"right"===n?this.rightGui=s:"fullWidth"===n?this.fullWidthGui=s:this.centerGui=s,this.initialiseRowComp(s),"FullWidthLoading"!==this.rowType&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(t){switch(this.allRowGuis=this.allRowGuis.filter(i=>i.containerType!==t),t){case"left":this.leftGui=void 0;break;case"right":this.rightGui=void 0;break;case"fullWidth":this.fullWidthGui=void 0;break;case"center":this.centerGui=void 0}}isCacheable(){return"FullWidthDetail"===this.rowType&&this.gridOptionsService.get("keepDetailRows")}setCached(t){const i=t?"none":"";this.allRowGuis.forEach(n=>n.element.style.display=i)}initialiseRowComp(t){const i=this.gridOptionsService;this.listenOnDomOrder(t),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(t),this.updateRowIndexes(t),this.setFocusedClasses(t),this.setStylesFromGridOptions(!1,t),i.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(t),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=t.rowComp;this.getInitialRowClasses(t.containerType).forEach(r=>n.addOrRemoveCssClass(r,!0)),this.executeSlideAndFadeAnimations(t),this.rowNode.group&&or(t.element,1==this.rowNode.expanded),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),i.setDomData(t.element,aE.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(()=>i.setDomData(t.element,aE.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,t.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t.element),this.isFullWidth()&&this.setupFullWidth(t),i.get("rowDragEntireRow")&&this.addRowDraggerToRow(t),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&t.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(t){null!=this.businessKeySanitised&&t.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(t){this.rowId=Nt(this.rowNode.id),null!=this.rowId&&t.setRowId(this.rowId)}executeSlideAndFadeAnimations(t){const{containerType:i}=t;this.slideInAnimation[i]&&(Jy(()=>{this.onTopChanged()}),this.slideInAnimation[i]=!1),this.fadeInAnimation[i]&&(Jy(()=>{t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[i]=!1)}addRowDraggerToRow(t){if(this.gridOptionsService.get("enableRangeSelection"))return void $("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`");const i=this.beans.localeService.getLocaleTextFunc(),n=new Ho(()=>`1 ${i("rowDragRow","row")}`,this.rowNode,void 0,t.element,void 0,!0),s=this.createBean(n,this.beans.context);this.rowDragComps.push(s)}setupFullWidth(t){const i=this.getPinnedForContainer(t.containerType);if("FullWidthDetail"==this.rowType&&!ke.__assertRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))return;const n=this.createFullWidthCompDetails(t.element,i);t.rowComp.showFullWidth(n)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){var t,i;return this.gridOptionsService.get("embedFullWidthRows")?this.allRowGuis.map(n=>{var s;return null==(s=n?.rowComp)?void 0:s.getFullWidthCellRenderer()}):[null==(i=null==(t=this.fullWidthGui)?void 0:t.rowComp)?void 0:i.getFullWidthCellRenderer()]}getCellElement(t){const i=this.getCellCtrl(t);return i?i.getGui():null}executeProcessRowPostCreateFunc(){const t=this.gridOptionsService.getCallback("processRowPostCreate");t&&this.areAllContainersReady()&&t({eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})}areAllContainersReady(){const t=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),i=!!this.centerGui,n=!!this.rightGui||!this.beans.columnModel.isPinningRight();return t&&i&&n}setRowType(){const t=this.rowNode.stub,i=this.rowNode.isFullWidthCell(),n=this.gridOptionsService.get("masterDetail")&&this.rowNode.detail,s=this.beans.columnModel.isPivotMode(),o=!!this.rowNode.group&&!this.rowNode.footer&&this.gridOptionsService.isGroupUseEntireRow(s);this.rowType=t?"FullWidthLoading":n?"FullWidthDetail":i?"FullWidth":o?"FullWidthGroup":"Normal"}updateColumnLists(t=!1,i=!1){this.isFullWidth()||(t||this.gridOptionsService.get("suppressAnimationFrame")||this.printLayout?this.updateColumnListsImpl(i):this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0))}createCellCtrls(t,i,n=null){const s={list:[],map:{}},r=(o,a)=>{s.list.push(a),s.map[o]=a};return i.forEach(o=>{const a=o.getInstanceId();let l=t.map[a];l||(l=new Wo(o,this.rowNode,this.beans,this)),r(a,l)}),t.list.forEach(o=>{null==s.map[o.getColumn().getInstanceId()]&&(this.isCellEligibleToBeRemoved(o,n)?o.destroy():r(o.getColumn().getInstanceId(),o))}),s}updateColumnListsImpl(t){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(t)}setCellCtrls(t){this.allRowGuis.forEach(i=>{const n=this.getCellCtrlsForContainer(i.containerType);i.rowComp.setCellCtrls(n,t)})}getCellCtrlsForContainer(t){switch(t){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list;default:throw new Error(`Unhandled case: ${t}`)}}createAllCellCtrls(){const t=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const i=t.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i);const n=t.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,n,"left");const s=t.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,s,"right")}}isCellEligibleToBeRemoved(t,i){if(t.getColumn().getPinned()!=i)return!0;const o=t.isEditing(),a=this.beans.focusService.isCellFocused(t.getCellPosition());if(o||a){const d=t.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(d)>=0)}return!0}getDomOrder(){return this.gridOptionsService.get("ensureDomOrder")||this.gridOptionsService.isDomLayout("print")}listenOnDomOrder(t){const i=()=>{t.rowComp.setDomOrder(this.getDomOrder())};this.addManagedPropertyListener("domLayout",i),this.addManagedPropertyListener("ensureDomOrder",i)}setAnimateFlags(t){if(this.isSticky()||!t)return;const i=R(this.rowNode.oldRowTop),n=this.beans.columnModel.isPinningLeft(),s=this.beans.columnModel.isPinningRight();if(i){if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows"))return void(this.slideInAnimation.fullWidth=!0);this.slideInAnimation.center=!0,this.slideInAnimation.left=n,this.slideInAnimation.right=s}else{if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows"))return void(this.fadeInAnimation.fullWidth=!0);this.fadeInAnimation.center=!0,this.fadeInAnimation.left=n,this.fadeInAnimation.right=s}}isEditing(){return this.editingRow}isFullWidth(){return"Normal"!==this.rowType}getRowType(){return this.rowType}refreshFullWidth(){const t=(a,l)=>!a||a.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(a.element,l).params),i=t(this.fullWidthGui,null),n=t(this.centerGui,null),s=t(this.leftGui,"left"),r=t(this.rightGui,"right");return i&&n&&s&&r}addListeners(){this.addManagedListener(this.rowNode,me.EVENT_HEIGHT_CHANGED,()=>this.onRowHeightChanged()),this.addManagedListener(this.rowNode,me.EVENT_ROW_SELECTED,()=>this.onRowSelected()),this.addManagedListener(this.rowNode,me.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,me.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,me.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,me.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.rowNode.detail&&this.addManagedListener(this.rowNode.parent,me.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,me.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,me.EVENT_CELL_CHANGED,this.postProcessCss.bind(this)),this.addManagedListener(this.rowNode,me.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,me.EVENT_DRAGGING_CHANGED,this.postProcessRowDragging.bind(this)),this.addManagedListener(this.rowNode,me.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));const t=this.beans.eventService;this.addManagedListener(t,f.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(t,f.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(t,f.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(t,f.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(t,f.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(t,f.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusChanged.bind(this)),this.addManagedListener(t,f.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(t,f.EVENT_MODEL_UPDATED,this.refreshFirstAndLastRowStyles.bind(this)),this.addManagedListener(t,f.EVENT_COLUMN_MOVED,this.updateColumnLists.bind(this)),this.addDestroyFunc(()=>{this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))}),this.addManagedPropertyListeners(["rowDragEntireRow"],()=>{this.gridOptionsService.get("rowDragEntireRow")?this.allRowGuis.forEach(n=>{this.addRowDraggerToRow(n)}):(this.destroyBeans(this.rowDragComps,this.beans.context),this.rowDragComps=[])}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListener(this.rowNode,me.EVENT_ROW_INDEX_CHANGED,()=>{this.getAllCellCtrls().forEach(t=>t.onRowIndexChanged())}),this.addManagedListener(this.rowNode,me.EVENT_CELL_CHANGED,t=>{this.getAllCellCtrls().forEach(i=>i.onCellChanged(t))})}onRowNodeDataChanged(t){this.isFullWidth()===!!this.rowNode.isFullWidthCell()?this.isFullWidth()?this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode):(this.getAllCellCtrls().forEach(n=>n.refreshCell({suppressFlash:!t.update,newData:!t.update})),this.allRowGuis.forEach(n=>{this.setRowCompRowId(n.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(n.rowComp)}),this.onRowSelected(),this.postProcessCss()):this.beans.rowRenderer.redrawRow(this.rowNode)}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const t=this.rowNode.highlighted;this.allRowGuis.forEach(i=>{const s=1===t;i.rowComp.addOrRemoveCssClass("ag-row-highlight-above",0===t),i.rowComp.addOrRemoveCssClass("ag-row-highlight-below",s)})}postProcessRowDragging(){const t=this.rowNode.dragging;this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-dragging",t))}updateExpandedCss(){const t=this.rowNode.isExpandable(),i=1==this.rowNode.expanded;this.allRowGuis.forEach(n=>{n.rowComp.addOrRemoveCssClass("ag-row-group",t),n.rowComp.addOrRemoveCssClass("ag-row-group-expanded",t&&i),n.rowComp.addOrRemoveCssClass("ag-row-group-contracted",t&&!i),or(n.element,t&&i)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Es(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(t){const i=this.allRowGuis.find(l=>l.element.contains(t.target));if((i?i.element:null)!==t.target)return;const r=this.rowNode,o=this.beans.focusService.getFocusedCell();this.beans.navigationService.navigateToNextCell(t,t.key,{rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:o&&o.column},!0),t.preventDefault()}onTabKeyDown(t){if(t.defaultPrevented||ts(t))return;const i=this.allRowGuis.find(o=>o.element.contains(t.target)),n=i?i.element:null,s=n===t.target;let r=null;s||(r=this.beans.focusService.findNextFocusableElement(n,!1,t.shiftKey)),(this.isFullWidth()&&s||!r)&&this.beans.navigationService.onTabKeyDown(this,t)}onFullWidthRowFocused(t){var i;const n=this.rowNode,s=!!t&&this.isFullWidth()&&t.rowIndex===n.rowIndex&&t.rowPinned==n.rowPinned,r=this.fullWidthGui?this.fullWidthGui.element:null==(i=this.centerGui)?void 0:i.element;r&&(r.classList.toggle("ag-full-width-focus",s),s&&r.focus({preventScroll:!0}))}refreshCell(t){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,t),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,t),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,t),this.updateColumnLists()}removeCellCtrl(t,i){const n={list:[],map:{}};return t.list.forEach(s=>{s!==i&&(n.list.push(s),n.map[s.getInstanceId()]=s)}),n}onMouseEvent(t,i){switch(t){case"dblclick":this.onRowDblClick(i);break;case"click":this.onRowClick(i);break;case"touchstart":case"mousedown":this.onRowMouseDown(i)}}createRowEvent(t,i){return this.gridOptionsService.addGridCommonParams({type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:i})}createRowEventWithSource(t,i){const n=this.createRowEvent(t,i);return n.source=this,n}onRowDblClick(t){if(ts(t))return;const i=this.createRowEventWithSource(f.EVENT_ROW_DOUBLE_CLICKED,t);this.beans.eventService.dispatchEvent(i)}onRowMouseDown(t){if(this.lastMouseDownOnDragger=Po(t.target,"ag-row-drag",3),!this.isFullWidth())return;const i=this.rowNode,n=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:i.rowIndex,column:n.getAllDisplayedColumns()[0],rowPinned:i.rowPinned,forceBrowserFocus:!0})}onRowClick(t){if(ts(t)||this.lastMouseDownOnDragger)return;const n=this.createRowEventWithSource(f.EVENT_ROW_CLICKED,t);this.beans.eventService.dispatchEvent(n);const s=t.ctrlKey||t.metaKey,r=t.shiftKey;if(this.gridOptionsService.get("groupSelectsChildren")&&this.rowNode.group||this.isRowSelectionBlocked()||this.gridOptionsService.get("suppressRowClickSelection"))return;const a=this.gridOptionsService.get("rowMultiSelectWithClick"),l=!this.gridOptionsService.get("suppressRowDeselection"),d="rowClicked";this.rowNode.isSelected()?a?this.rowNode.setSelectedParams({newValue:!1,event:t,source:d}):s?l&&this.rowNode.setSelectedParams({newValue:!1,event:t,source:d}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!r,rangeSelect:r,event:t,source:d}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!a&&!s,rangeSelect:r,event:t,source:d})}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!this.gridOptionsService.isRowSelection()}setupDetailRowAutoHeight(t){if("FullWidthDetail"!==this.rowType||!this.gridOptionsService.get("detailRowAutoHeight"))return;const i=()=>{const s=t.clientHeight;null!=s&&s>0&&window.setTimeout(()=>{this.rowNode.setRowHeight(s),this.beans.clientSideRowModel?this.beans.clientSideRowModel.onRowHeightChanged():this.beans.serverSideRowModel&&this.beans.serverSideRowModel.onRowHeightChanged()},0)},n=this.beans.resizeObserverService.observeResize(t,i);this.addDestroyFunc(n),i()}createFullWidthCompDetails(t,i){const n=this.gridOptionsService.addGridCommonParams({fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,eGridCell:t,eParentOfValue:t,pinned:i,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(s,r,o,a)=>this.addFullWidthRowDragging(s,r,o,a),setTooltip:(s,r)=>this.refreshRowTooltip(s,r)});switch(this.rowType){case"FullWidthDetail":return this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(n);case"FullWidthGroup":return this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(n);case"FullWidthLoading":return this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(n);default:return this.beans.userComponentFactory.getFullWidthCellRendererDetails(n)}}refreshRowTooltip(t,i){if(!this.fullWidthGui)return;const n={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>t,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:i};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new lr(n,this.beans))}addFullWidthRowDragging(t,i,n="",s){if(!this.isFullWidth())return;const r=new Ho(()=>n,this.rowNode,void 0,t,i,s);this.createBean(r,this.beans.context),this.addDestroyFunc(()=>{this.destroyBean(r,this.beans.context)})}onUiLevelChanged(){const t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){const i="ag-row-level-"+t,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(s=>{s.rowComp.addOrRemoveCssClass(i,!0),s.rowComp.addOrRemoveCssClass(n,!1)})}this.rowLevel=t}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()}refreshFirstAndLastRowStyles(){const t=this.isFirstRowOnPage(),i=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-first",t))),this.lastRowOnPage!==i&&(this.lastRowOnPage=i,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-last",i)))}stopEditing(t=!1){if(this.stoppingRowEdit)return;const i=this.getAllCellCtrls(),n=this.editingRow;this.stoppingRowEdit=!0;let s=!1;for(const r of i){const o=r.stopEditing(t);n&&!t&&!s&&o&&(s=!0)}if(s){const r=this.createRowEvent(f.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(r)}n&&this.setEditingRow(!1),this.stoppingRowEdit=!1}setInlineEditingCss(t){this.allRowGuis.forEach(i=>{i.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),i.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})}setEditingRow(t){this.editingRow=t,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-editing",t));const i=this.createRowEvent(t?f.EVENT_ROW_EDITING_STARTED:f.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(i)}startRowEditing(t=null,i=null,n=null){this.editingRow||this.getAllCellCtrls().reduce((r,o)=>{const a=o===i;return o.startEditing(a?t:null,a,n),!!r||o.isEditing()},!1)&&this.setEditingRow(!0)}getAllCellCtrls(){return 0===this.leftCellCtrls.list.length&&0===this.rightCellCtrls.list.length?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const t=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!t||!t.length||t.forEach(i=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(i,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,t=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(t,!0))},t=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(t,!1))})}setStylesFromGridOptions(t,i){t&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(i,n=>n.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(t){return"left"===t?"left":"right"===t?"right":null}getInitialRowClasses(t){const i=this.getPinnedForContainer(t),n={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[t],rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:i};return this.beans.rowCssClassCalculator.getInitialRowClasses(n)}processStylesFromGridOptions(){const t=this.gridOptionsService.get("rowStyle");if(t&&"function"==typeof t)return void console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");const i=this.gridOptionsService.getCallback("getRowStyle");let n;return i&&(n=i({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex})),n||t?Object.assign({},t,n):this.emptyStyle}onRowSelected(t){const i=this.beans.gridOptionsService.getDocument(),n=!!this.rowNode.isSelected();this.forEachGui(t,s=>{s.rowComp.addOrRemoveCssClass("ag-row-selected",n),Hl(s.element,n),s.element.contains(i.activeElement)&&(s===this.centerGui||s===this.fullWidthGui)&&this.announceDescription()})}announceDescription(){if(this.isRowSelectionBlocked())return;const t=this.rowNode.isSelected();if(t&&this.beans.gridOptionsService.get("suppressRowDeselection"))return;const n=this.beans.localeService.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(n)}isUseAnimationFrameForCreate(){return this.useAnimationFrameForCreate}addHoverFunctionality(t){this.active&&(this.addManagedListener(t,"mouseenter",()=>this.rowNode.onMouseEnter()),this.addManagedListener(t,"mouseleave",()=>this.rowNode.onMouseLeave()),this.addManagedListener(this.rowNode,me.EVENT_MOUSE_ENTER,()=>{!this.beans.dragService.isDragging()&&!this.gridOptionsService.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),this.rowNode.setHovered(!0))}),this.addManagedListener(this.rowNode,me.EVENT_MOUSE_LEAVE,()=>{t.classList.remove("ag-row-hover"),this.rowNode.setHovered(!1)}))}roundRowTopToBounds(t){const i=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(i.top,!0)-100,s=this.applyPaginationOffset(i.bottom,!0)+100;return Math.min(Math.max(n,t),s)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(t,i){t?i(t):this.allRowGuis.forEach(i)}onRowHeightChanged(t){if(null==this.rowNode.rowHeight)return;const i=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),r=this.gridOptionsService.isGetRowHeightFunction()?this.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,o=r?Math.min(n,r)-2+"px":void 0;this.forEachGui(t,a=>{a.element.style.height=`${i}px`,o&&a.element.style.setProperty("--ag-line-height",o)})}addEventListener(t,i){super.addEventListener(t,i)}removeEventListener(t,i){super.removeEventListener(t,i)}destroyFirstPass(t=!1){if(this.active=!1,!t&&this.gridOptionsService.isAnimateRows()&&!this.isSticky())if(null!=this.rowNode.rowTop){const s=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(s)}else this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));this.rowNode.setHovered(!1);const i=this.createRowEvent(f.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(i),this.beans.eventService.dispatchEvent(i),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();const t=i=>(i.list.forEach(n=>n.destroy()),{list:[],map:{}});this.centerCellCtrls=t(this.centerCellCtrls),this.leftCellCtrls=t(this.leftCellCtrls),this.rightCellCtrls=t(this.rightCellCtrls)}setFocusedClasses(t){this.forEachGui(t,i=>{i.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),i.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const t=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses()),!t&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){const t=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(t,i=!1){return this.rowNode.isRowPinned()||this.rowNode.sticky?t:t+this.beans.paginationProxy.getPixelOffset()*(i?1:-1)}setRowTop(t){if(!this.printLayout&&R(t)){const i=this.applyPaginationOffset(t),r=`${this.rowNode.isRowPinned()||this.rowNode.sticky?i:this.beans.rowContainerHeightService.getRealPixelPosition(i)}px`;this.setRowTopStyle(r)}}getInitialRowTop(t){return this.suppressRowTransform?this.getInitialRowTopShared(t):void 0}getInitialTransform(t){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(t)})`}getInitialRowTopShared(t){if(this.printLayout)return"";let i;if(this.isSticky())i=this.rowNode.stickyRowTop;else{const n=this.slideInAnimation[t]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,s=this.applyPaginationOffset(n);i=this.rowNode.isRowPinned()?s:this.beans.rowContainerHeightService.getRealPixelPosition(s)}return i+"px"}setRowTopStyle(t){this.allRowGuis.forEach(i=>this.suppressRowTransform?i.rowComp.setTop(t):i.rowComp.setTransform(`translateY(${t})`))}getRowNode(){return this.rowNode}getCellCtrl(t){let i=null;return this.getAllCellCtrls().forEach(n=>{n.getColumn()==t&&(i=n)}),null!=i||this.getAllCellCtrls().forEach(n=>{n.getColSpanningList().indexOf(t)>=0&&(i=n)}),i}onRowIndexChanged(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(t){const i=this.rowNode.getRowIndexString(),n=this.beans.headerNavigationService.getHeaderRowCount()+this.beans.filterManager.getHeaderRowCount(),s=this.rowNode.rowIndex%2==0,r=n+this.rowNode.rowIndex+1;this.forEachGui(t,o=>{o.rowComp.setRowIndex(i),o.rowComp.addOrRemoveCssClass("ag-row-even",s),o.rowComp.addOrRemoveCssClass("ag-row-odd",!s),g_(o.element,r)})}};Ak.DOM_DATA_KEY_ROW_CTRL="renderedRow";var jo=Ak,Qi=class extends A{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedListener(this.element,e,t)}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",l_("touchstart")?"touchstart":"mousedown"].forEach(i=>{const n=this.processMouseEvent.bind(this,i);this.addManagedListener(this.element,i,n)})}processMouseEvent(e,t){if(!this.mouseEventService.isEventFromThisGrid(t)||ts(t))return;const i=this.getRowForEvent(t),n=this.mouseEventService.getRenderedCellForEvent(t);"contextmenu"===e?this.handleContextMenuMouseEvent(t,void 0,i,n):(n&&n.onMouseEvent(e,t),i&&i.onMouseEvent(e,t))}mockContextMenuForIPad(){if(!ar())return;const e=new Jt(this.element);this.addManagedListener(e,Jt.EVENT_LONG_TAP,i=>{const n=this.getRowForEvent(i.touchEvent),s=this.mouseEventService.getRenderedCellForEvent(i.touchEvent);this.handleContextMenuMouseEvent(void 0,i.touchEvent,n,s)}),this.addDestroyFunc(()=>e.destroy())}getRowForEvent(e){let t=e.target;for(;t;){const i=this.gridOptionsService.getDomData(t,jo.DOM_DATA_KEY_ROW_CTRL);if(i)return i;t=t.parentElement}return null}handleContextMenuMouseEvent(e,t,i,n){const s=i?i.getRowNode():null,r=n?n.getColumn():null;let o=null;r&&(n.dispatchCellContextMenuEvent((e||t)??null),o=this.valueService.getValue(r,s));const a=this.ctrlsService.getGridBodyCtrl(),l=n?n.getGui():a.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:e,touchEvent:t,rowNode:s,column:r,value:o,anchorToElement:l})}getControlsForEventTarget(e){return{cellCtrl:Tm(this.gridOptionsService,e,Wo.DOM_DATA_KEY_CELL_CTRL),rowCtrl:Tm(this.gridOptionsService,e,jo.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(e,t){const{cellCtrl:i,rowCtrl:n}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(i?this.processCellKeyboardEvent(i,e,t):n&&n.isFullWidth()&&this.processFullWidthRowKeyboardEvent(n,e,t))}processCellKeyboardEvent(e,t,i){const n=e.getRowNode(),s=e.getColumn(),r=e.isEditing();if(!zm(this.gridOptionsService,i,n,s,r)&&"keydown"===t&&(!r&&this.navigationService.handlePageScrollingKey(i)||e.onKeyDown(i),this.doGridOperations(i,e.isEditing()),Um(i)&&e.processCharacter(i)),"keydown"===t){const a=e.createEvent(i,f.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(a)}}processFullWidthRowKeyboardEvent(e,t,i){const n=e.getRowNode(),s=this.focusService.getFocusedCell();if(!zm(this.gridOptionsService,i,n,s&&s.column,!1)&&"keydown"===t)switch(i.key){case S.PAGE_HOME:case S.PAGE_END:case S.PAGE_UP:case S.PAGE_DOWN:this.navigationService.handlePageScrollingKey(i,!0);break;case S.UP:case S.DOWN:e.onKeyboardNavigate(i);break;case S.TAB:e.onTabKeyDown(i)}if("keydown"===t){const a=e.createRowEvent(f.EVENT_CELL_KEY_DOWN,i);this.eventService.dispatchEvent(a)}}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!this.mouseEventService.isEventFromThisGrid(e))return;const i=VN(e);return i===S.A?this.onCtrlAndA(e):i===S.C?this.onCtrlAndC(e):i===S.D?this.onCtrlAndD(e):i===S.V?this.onCtrlAndV(e):i===S.X?this.onCtrlAndX(e):i===S.Y?this.onCtrlAndY():i===S.Z?this.onCtrlAndZ(e):void 0}onCtrlAndA(e){const{pinnedRowModel:t,paginationProxy:i,rangeService:n}=this;if(n&&i.isRowsToRender()){const[s,r]=[t.isEmpty("top"),t.isEmpty("bottom")],o=s?null:"top";let a,l;r?(a=null,l=this.paginationProxy.getRowCount()-1):(a="bottom",l=t.getPinnedBottomRowData().length-1);const d=this.columnModel.getAllDisplayedColumns();if(dn(d))return;n.setCellRange({rowStartIndex:0,rowStartPinned:o,rowEndIndex:l,rowEndPinned:a,columnStart:d[0],columnEnd:Ae(d)})}e.preventDefault()}onCtrlAndC(e){if(!this.clipboardService||this.gridOptionsService.get("enableCellTextSelection"))return;const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t?.isEditing()||i?.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(e){if(!this.clipboardService||this.gridOptionsService.get("enableCellTextSelection")||this.gridOptionsService.get("suppressCutToClipboard"))return;const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t?.isEditing()||i?.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(e){const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t?.isEditing()||i?.isEditing()||this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(e){this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()}onCtrlAndZ(e){this.gridOptionsService.get("undoRedoCellEditing")&&(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){this.undoRedoService.redo("ui")}};h([g("mouseEventService")],Qi.prototype,"mouseEventService",2),h([g("valueService")],Qi.prototype,"valueService",2),h([g("menuService")],Qi.prototype,"menuService",2),h([g("ctrlsService")],Qi.prototype,"ctrlsService",2),h([g("navigationService")],Qi.prototype,"navigationService",2),h([g("focusService")],Qi.prototype,"focusService",2),h([g("undoRedoService")],Qi.prototype,"undoRedoService",2),h([g("columnModel")],Qi.prototype,"columnModel",2),h([g("paginationProxy")],Qi.prototype,"paginationProxy",2),h([g("pinnedRowModel")],Qi.prototype,"pinnedRowModel",2),h([De("rangeService")],Qi.prototype,"rangeService",2),h([De("clipboardService")],Qi.prototype,"clipboardService",2),h([I],Qi.prototype,"postConstruct",1);var ql=class extends A{constructor(e){super(),this.centerContainerCtrl=e}postConstruct(){this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl(),this.listenForResize()}),this.addManagedListener(this.eventService,f.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this)),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const e=()=>this.onCenterViewportResized();this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){const t=Lo(this.gridBodyCtrl.getBodyViewportElement());if(t<=50)return;let i=this.getPinnedColumnsOverflowingViewport(t-50);const n=this.gridOptionsService.getCallback("processUnpinnedColumns");i.length&&(n&&(i=n({columns:i,viewportWidth:t})),this.columnModel.setColumnsPinned(i,null,"viewportSizeFeature"))}getPinnedColumnsOverflowingViewport(e){const n=this.pinnedWidthService.getPinnedRightWidth()+this.pinnedWidthService.getPinnedLeftWidth();if(n<e)return[];const s=[...this.columnModel.getDisplayedLeftColumns()],r=[...this.columnModel.getDisplayedRightColumns()];let o=0,a=0;const d=[];let c=n-0-e;for(;(a<s.length||o<r.length)&&c>0;){if(o<r.length){const u=r[o++];c-=u.getActualWidth(),d.push(u)}if(a<s.length&&c>0){const u=s[a++];c-=u.getActualWidth(),d.push(u)}}return d}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const t=bu(this.gridBodyCtrl.getBodyViewportElement());this.bodyHeight!==t&&(this.bodyHeight=t,this.eventService.dispatchEvent({type:f.EVENT_BODY_HEIGHT_CHANGED}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(e,t)}};h([g("ctrlsService")],ql.prototype,"ctrlsService",2),h([g("pinnedWidthService")],ql.prototype,"pinnedWidthService",2),h([g("columnModel")],ql.prototype,"columnModel",2),h([g("scrollVisibleService")],ql.prototype,"scrollVisibleService",2),h([I],ql.prototype,"postConstruct",1);var aS=class extends A{constructor(e){super(),this.element=e}postConstruct(){this.addManagedListener(this.eventService,f.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))}onPinnedLeftWidthChanged(){const e=this.pinnedWidthService.getPinnedLeftWidth();we(this.element,e>0),Fn(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}};h([g("pinnedWidthService")],aS.prototype,"pinnedWidthService",2),h([I],aS.prototype,"postConstruct",1);var lS=class extends A{constructor(e){super(),this.element=e}postConstruct(){this.addManagedListener(this.eventService,f.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))}onPinnedRightWidthChanged(){const e=this.pinnedWidthService.getPinnedRightWidth();we(this.element,e>0),Fn(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}};h([g("pinnedWidthService")],lS.prototype,"pinnedWidthService",2),h([I],lS.prototype,"postConstruct",1);var ig=class extends A{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedListener(this.eventService,f.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))}onHeightChanged(){const e=this.maxDivHeightScaler.getUiContainerHeight(),t=null!=e?`${e}px`:"";this.eContainer.style.height=t,this.eViewport&&(this.eViewport.style.height=t)}};h([g("rowContainerHeightService")],ig.prototype,"maxDivHeightScaler",2),h([I],ig.prototype,"postConstruct",1);var ng=class extends A{constructor(e){super(),this.eContainer=e}postConstruct(){Y(this.rangeService)||(this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListener("enableRangeSelection",t=>{t.currentValue?this.enableFeature():this.disableFeature()}),this.addDestroyFunc(()=>this.disableFeature()),this.gridOptionsService.get("enableRangeSelection")&&this.enableFeature())}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}};h([De("rangeService")],ng.prototype,"rangeService",2),h([g("dragService")],ng.prototype,"dragService",2),h([I],ng.prototype,"postConstruct",1);var Kl=class extends A{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedListener(this.eventService,f.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,f.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,f.EVENT_LEFT_PINNED_WIDTH_CHANGED,e),this.addSpacer&&(this.addManagedListener(this.eventService,f.EVENT_RIGHT_PINNED_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,f.EVENT_SCROLL_VISIBILITY_CHANGED,e),this.addManagedListener(this.eventService,f.EVENT_SCROLLBAR_WIDTH_CHANGED,e)),this.setWidth()}setWidth(){const{columnModel:e}=this,t=this.gridOptionsService.isDomLayout("print"),i=e.getBodyContainerWidth(),n=e.getDisplayedColumnsLeftWidth(),s=e.getDisplayedColumnsRightWidth();let r;t?r=i+n+s:(r=i,this.addSpacer&&0===(this.gridOptionsService.get("enableRtl")?n:s)&&this.scrollVisibleService.isVerticalScrollShowing()&&(r+=this.gridOptionsService.getScrollbarWidth())),this.callback(r)}};h([g("columnModel")],Kl.prototype,"columnModel",2),h([g("scrollVisibleService")],Kl.prototype,"scrollVisibleService",2),h([I],Kl.prototype,"postConstruct",1);var bee=Gr([["center","ag-center-cols-container"],["left","ag-pinned-left-cols-container"],["right","ag-pinned-right-cols-container"],["fullWidth","ag-full-width-container"],["topCenter","ag-floating-top-container"],["topLeft","ag-pinned-left-floating-top"],["topRight","ag-pinned-right-floating-top"],["topFullWidth","ag-floating-top-full-width-container"],["stickyTopCenter","ag-sticky-top-container"],["stickyTopLeft","ag-pinned-left-sticky-top"],["stickyTopRight","ag-pinned-right-sticky-top"],["stickyTopFullWidth","ag-sticky-top-full-width-container"],["bottomCenter","ag-floating-bottom-container"],["bottomLeft","ag-pinned-left-floating-bottom"],["bottomRight","ag-pinned-right-floating-bottom"],["bottomFullWidth","ag-floating-bottom-full-width-container"]]),wee=Gr([["center","ag-center-cols-viewport"],["topCenter","ag-floating-top-viewport"],["stickyTopCenter","ag-sticky-top-viewport"],["bottomCenter","ag-floating-bottom-viewport"]]),$o=class iV extends A{constructor(t){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=t,this.isFullWithContainer="topFullWidth"===this.name||"stickyTopFullWidth"===this.name||"bottomFullWidth"===this.name||"fullWidth"===this.name}static getRowContainerCssClasses(t){return{container:bee.get(t),viewport:wee.get(t)}}static getPinned(t){switch(t){case"bottomLeft":case"topLeft":case"stickyTopLeft":case"left":return"left";case"bottomRight":case"topRight":case"stickyTopRight":case"right":return"right";default:return null}}postConstruct(){this.enableRtl=this.gridOptionsService.get("enableRtl"),this.forContainers(["center"],()=>this.viewportSizeFeature=this.createManagedBean(new ql(this)))}registerWithCtrlsService(){switch(this.name){case"center":this.ctrlsService.registerCenterRowContainerCtrl(this);break;case"left":this.ctrlsService.registerLeftRowContainerCtrl(this);break;case"right":this.ctrlsService.registerRightRowContainerCtrl(this);break;case"topCenter":this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case"topLeft":this.ctrlsService.registerTopLeftRowContainerCon(this);break;case"topRight":this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case"stickyTopCenter":this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case"stickyTopLeft":this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case"stickyTopRight":this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case"bottomCenter":this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case"bottomLeft":this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case"bottomRight":this.ctrlsService.registerBottomRightRowContainerCtrl(this)}}forContainers(t,i){t.indexOf(this.name)>=0&&i()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(t,i,n){this.comp=t,this.eContainer=i,this.eViewport=n,this.createManagedBean(new Qi(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();this.forContainers(["left","bottomLeft","topLeft","stickyTopLeft"],()=>{this.pinnedWidthFeature=this.createManagedBean(new aS(this.eContainer)),this.addManagedListener(this.eventService,f.EVENT_LEFT_PINNED_WIDTH_CHANGED,()=>this.onPinnedWidthChanged())}),this.forContainers(["right","bottomRight","topRight","stickyTopRight"],()=>{this.pinnedWidthFeature=this.createManagedBean(new lS(this.eContainer)),this.addManagedListener(this.eventService,f.EVENT_RIGHT_PINNED_WIDTH_CHANGED,()=>this.onPinnedWidthChanged())}),this.forContainers(["center","left","right","fullWidth"],()=>this.createManagedBean(new ig(this.eContainer,"center"===this.name?n:void 0))),this.forContainers(["topCenter","topLeft","topRight","bottomCenter","bottomLeft","bottomRight","center","left","right","stickyTopCenter","stickyTopLeft","stickyTopRight"],()=>this.createManagedBean(new ng(this.eContainer))),this.forContainers(["center","topCenter","stickyTopCenter","bottomCenter"],()=>this.createManagedBean(new Kl(m=>this.comp.setContainerWidth(`${m}px`)))),this.addListeners(),this.registerWithCtrlsService()}addListeners(){this.addManagedListener(this.eventService,f.EVENT_DISPLAYED_COLUMNS_CHANGED,()=>this.onDisplayedColumnsChanged()),this.addManagedListener(this.eventService,f.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,()=>this.onDisplayedColumnsWidthChanged()),this.addManagedListener(this.eventService,f.EVENT_DISPLAYED_ROWS_CHANGED,t=>this.onDisplayedRowsChanged(t.afterScroll)),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(["stickyTopCenter","stickyTopLeft","stickyTopRight","stickyTopFullWidth"].indexOf(this.name)>=0)return void this.comp.setDomOrder(!0);const n=()=>{const s=this.gridOptionsService.get("ensureDomOrder"),r=this.gridOptionsService.isDomLayout("print");this.comp.setDomOrder(s||r)};this.addManagedPropertyListener("domLayout",n),n()}stopHScrollOnPinnedRows(){this.forContainers(["topCenter","stickyTopCenter","bottomCenter"],()=>{this.addManagedListener(this.eViewport,"scroll",()=>this.eViewport.scrollLeft=0)})}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const t=i=>{this.dragService.isDragging()&&i.cancelable&&i.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(t=!1){const i=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(i,n,t)}getCenterWidth(){return Lo(this.eViewport)}getCenterViewportScrollLeft(){return _u(this.eViewport,this.enableRtl)}registerViewportResizeListener(t){const i=this.resizeObserverService.observeResize(this.eViewport,t);this.addDestroyFunc(()=>i())}isViewportInTheDOMTree(){return V_(this.eViewport)}getViewportScrollLeft(){return _u(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gridOptionsService.get("alwaysShowHorizontalScroll")||TN(this.eViewport)}getViewportElement(){return this.eViewport}setContainerTranslateX(t){this.eContainer.style.transform=`translateX(${t}px)`}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(t){Su(this.eViewport,t,this.enableRtl)}isContainerVisible(){return!iV.getPinned(this.name)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const t=this.isContainerVisible();this.visible!=t&&(this.visible=t,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(t=!1){if(!this.visible)return void this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});const i=this.gridOptionsService.isDomLayout("print"),s=this.gridOptionsService.get("embedFullWidthRows")||i,r=this.getRowCtrls().filter(o=>{const a=o.isFullWidth();return this.isFullWithContainer?!s&&a:s||!a});this.comp.setRowCtrls({rowCtrls:r,useFlushSync:t})}getRowCtrls(){switch(this.name){case"topCenter":case"topLeft":case"topRight":case"topFullWidth":return this.rowRenderer.getTopRowCtrls();case"stickyTopCenter":case"stickyTopLeft":case"stickyTopRight":case"stickyTopFullWidth":return this.rowRenderer.getStickyTopRowCtrls();case"bottomCenter":case"bottomLeft":case"bottomRight":case"bottomFullWidth":return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getCentreRowCtrls()}}};h([g("dragService")],$o.prototype,"dragService",2),h([g("ctrlsService")],$o.prototype,"ctrlsService",2),h([g("columnModel")],$o.prototype,"columnModel",2),h([g("resizeObserverService")],$o.prototype,"resizeObserverService",2),h([g("rowRenderer")],$o.prototype,"rowRenderer",2),h([I],$o.prototype,"postConstruct",1);var Mk=$o,As=class extends ee{constructor(){super('<div class="ag-root ag-unselectable" role="treegrid">\n        <ag-header-root ref="gridHeader"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation">\n            <ag-row-container ref="topLeftContainer" name="topLeft"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="topCenter"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="topRight"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="topFullWidth"></ag-row-container>\n        </div>\n        <div class="ag-body" ref="eBody" role="presentation">\n            <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n                <ag-row-container ref="leftContainer" name="left"></ag-row-container>\n                <ag-row-container ref="centerContainer" name="center"></ag-row-container>\n                <ag-row-container ref="rightContainer" name="right"></ag-row-container>\n                <ag-row-container ref="fullWidthContainer" name="fullWidth"></ag-row-container>\n            </div>\n            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>\n        </div>\n        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">\n            <ag-row-container ref="stickyTopLeftContainer" name="stickyTopLeft"></ag-row-container>\n            <ag-row-container ref="stickyTopCenterContainer" name="stickyTopCenter"></ag-row-container>\n            <ag-row-container ref="stickyTopRightContainer" name="stickyTopRight"></ag-row-container>\n            <ag-row-container ref="stickyTopFullWidthContainer" name="stickyTopFullWidth"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation">\n            <ag-row-container ref="bottomLeftContainer" name="bottomLeft"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="bottomCenter"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="bottomRight"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="bottomFullWidth"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>')}init(){const e=(i,n)=>{const s=`${i}px`;n.style.minHeight=s,n.style.height=s},t={setRowAnimationCssOnBodyViewport:(i,n)=>this.setRowAnimationCssOnBodyViewport(i,n),setColumnCount:i=>uN(this.getGui(),i),setRowCount:i=>cN(this.getGui(),i),setTopHeight:i=>e(i,this.eTop),setBottomHeight:i=>e(i,this.eBottom),setTopDisplay:i=>this.eTop.style.display=i,setBottomDisplay:i=>this.eBottom.style.display=i,setStickyTopHeight:i=>this.eStickyTop.style.height=i,setStickyTopTop:i=>this.eStickyTop.style.top=i,setStickyTopWidth:i=>this.eStickyTop.style.width=i,setColumnMovingCss:(i,n)=>this.addOrRemoveCssClass(i,n),updateLayoutClasses:(i,n)=>{[this.eBodyViewport.classList,this.eBody.classList].forEach(r=>{r.toggle("ag-layout-auto-height",n.autoHeight),r.toggle("ag-layout-normal",n.normal),r.toggle("ag-layout-print",n.print)}),this.addOrRemoveCssClass("ag-layout-auto-height",n.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",n.normal),this.addOrRemoveCssClass("ag-layout-print",n.print)},setAlwaysVerticalScrollClass:(i,n)=>this.eBodyViewport.classList.toggle(xk,n),registerBodyViewportResizeListener:i=>{const n=this.resizeObserverService.observeResize(this.eBodyViewport,i);this.addDestroyFunc(()=>n())},setPinnedTopBottomOverflowY:i=>this.eTop.style.overflowY=this.eBottom.style.overflowY=i,setCellSelectableCss:(i,n)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(s=>s.classList.toggle(i,n))},setBodyViewportWidth:i=>this.eBodyViewport.style.width=i};this.ctrl=this.createManagedBean(new Pi),this.ctrl.setComp(t,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService&&this.gridOptionsService.get("enableRangeSelection")||"multiple"===this.gridOptionsService.get("rowSelection"))&&dN(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(e,t){const i=this.eBodyViewport.classList;i.toggle("ag-row-animation",t),i.toggle("ag-row-no-animation",!t)}getFloatingTopBottom(){return[this.eTop,this.eBottom]}};h([g("resizeObserverService")],As.prototype,"resizeObserverService",2),h([De("rangeService")],As.prototype,"rangeService",2),h([N("eBodyViewport")],As.prototype,"eBodyViewport",2),h([N("eStickyTop")],As.prototype,"eStickyTop",2),h([N("eTop")],As.prototype,"eTop",2),h([N("eBottom")],As.prototype,"eBottom",2),h([N("gridHeader")],As.prototype,"headerRootComp",2),h([N("eBody")],As.prototype,"eBody",2),h([I],As.prototype,"init",1);var Yl=class extends A{postConstruct(){this.addManagedListener(this.eventService,f.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,f.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))}onDisplayedColumnsChanged(){this.update()}onDisplayedColumnsWidthChanged(){this.update()}update(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(()=>{this.columnAnimationService.executeLaterVMTurn(()=>this.updateImpl())}):this.updateImpl()}updateImpl(){const e=this.ctrlsService.getCenterRowContainerCtrl();if(!e||this.columnAnimationService.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(t)}setScrollsVisible(e){this.horizontalScrollShowing===e.horizontalScrollShowing&&this.verticalScrollShowing===e.verticalScrollShowing||(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:f.EVENT_SCROLL_VISIBILITY_CHANGED}))}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}};h([g("ctrlsService")],Yl.prototype,"ctrlsService",2),h([g("columnAnimationService")],Yl.prototype,"columnAnimationService",2),h([I],Yl.prototype,"postConstruct",1),Yl=h([V("scrollVisibleService")],Yl);var ur=class extends A{constructor(){super(...arguments),this.gridInstanceId=ur.gridInstanceSequence.next()}stampTopLevelGridCompWithGridInstance(e){e[ur.GRID_DOM_KEY]=this.gridInstanceId}getRenderedCellForEvent(e){return Tm(this.gridOptionsService,e.target,Wo.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(e){return this.isElementInThisGrid(e.target)}isElementInThisGrid(e){let t=e;for(;t;){const i=t[ur.GRID_DOM_KEY];if(R(i))return i===this.gridInstanceId;t=t.parentElement}return!1}getCellPositionForEvent(e){const t=this.getRenderedCellForEvent(e);return t?t.getCellPosition():null}getNormalisedPosition(e){const t=this.gridOptionsService.isDomLayout("normal");let n,s;if(null!=e.clientX||null!=e.clientY?(n=e.clientX,s=e.clientY):(n=e.x,s=e.y),t){const r=this.ctrlsService.getGridBodyCtrl(),o=r.getScrollFeature().getVScrollPosition();n+=r.getScrollFeature().getHScrollPosition().left,s+=o.top}return{x:n,y:s}}};ur.gridInstanceSequence=new Wl,ur.GRID_DOM_KEY="__ag_grid_instance",h([g("ctrlsService")],ur.prototype,"ctrlsService",2),ur=h([V("mouseEventService")],ur);var mi=class extends A{constructor(){super(),this.onPageDown=e_(this.onPageDown,100),this.onPageUp=e_(this.onPageUp,100)}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const i=e.key,n=e.altKey,s=e.ctrlKey||e.metaKey,r=!!this.rangeService&&e.shiftKey,o=this.mouseEventService.getCellPositionForEvent(e);let a=!1;switch(i){case S.PAGE_HOME:case S.PAGE_END:!s&&!n&&(this.onHomeOrEndKey(i),a=!0);break;case S.LEFT:case S.RIGHT:case S.UP:case S.DOWN:if(!o)return!1;s&&!n&&!r&&(this.onCtrlUpDownLeftRight(i,o),a=!0);break;case S.PAGE_DOWN:case S.PAGE_UP:!s&&!n&&(a=this.handlePageUpDown(i,o,t))}return a&&e.preventDefault(),a}handlePageUpDown(e,t,i){return i&&(t=this.focusService.getFocusedCell()),!!t&&(e===S.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0)}navigateTo(e){const{scrollIndex:t,scrollType:i,scrollColumn:n,focusIndex:s,focusColumn:r}=e;R(n)&&!n.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(n),R(t)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t,i),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(s),this.focusService.setFocusedCell({rowIndex:s,column:r,rowPinned:null,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:s,rowPinned:null,column:r})}onPageDown(e){const i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.getViewportHeight(),s=this.paginationProxy.getPixelOffset(),o=this.paginationProxy.getRowIndexAtPixel(i.top+n+s);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,o):this.navigateToNextPage(e,o)}onPageUp(e){const i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.paginationProxy.getPixelOffset(),r=this.paginationProxy.getRowIndexAtPixel(i.top+n);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,r,!0):this.navigateToNextPage(e,r,!0)}navigateToNextPage(e,t,i=!1){const n=this.getViewportHeight(),s=this.paginationProxy.getPageFirstRow(),r=this.paginationProxy.getPageLastRow(),o=this.paginationProxy.getPixelOffset(),a=this.paginationProxy.getRow(e.rowIndex),l=i?a?.rowHeight-n-o:n-o;let u,c=this.paginationProxy.getRowIndexAtPixel(a?.rowTop+l+o);c===e.rowIndex&&(t=c=e.rowIndex+(i?-1:1)),i?(u="bottom",c<s&&(c=s),t<s&&(t=s)):(u="top",c>r&&(c=r),t>r&&(t=r)),this.isRowTallerThanView(c)&&(t=c,u="top"),this.navigateTo({scrollIndex:t,scrollType:u,scrollColumn:null,focusIndex:c,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,i=!1){this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const n=this.getNextFocusIndexForAutoHeight(e,i);this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){var i;const n=t?-1:1,s=this.getViewportHeight(),r=this.paginationProxy.getPageLastRow();let o=0,a=e.rowIndex;for(;a>=0&&a<=r;){const l=this.paginationProxy.getRow(a);if(l){const d=null!=(i=l.rowHeight)?i:0;if(o+d>s)break;o+=d}a+=n}return Math.max(0,Math.min(a,r))}getViewportHeight(){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.gridOptionsService.getScrollbarWidth();let n=t.bottom-t.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(n-=i),n}isRowTallerThanView(e){const t=this.paginationProxy.getRow(e);if(!t)return!1;const i=t.rowHeight;return"number"==typeof i&&i>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const i=this.cellNavigationService.getNextCellToFocus(e,t,!0),{rowIndex:n,column:s}=i;this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:s,focusIndex:n,focusColumn:s})}onHomeOrEndKey(e){const t=e===S.PAGE_HOME,i=this.columnModel.getAllDisplayedColumns(),n=t?i[0]:Ae(i),s=t?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:n,focusIndex:s,focusColumn:n})}onTabKeyDown(e,t){const i=t.shiftKey;if(this.tabToNextCellCommon(e,i,t))t.preventDefault();else if(i){const{rowIndex:s,rowPinned:r}=e.getRowPosition();(r?0===s:s===this.paginationProxy.getPageFirstRow())&&(0===this.gridOptionsService.get("headerHeight")||this.gridOptionsService.get("suppressHeaderFocus")?this.focusService.focusNextGridCoreContainer(!0,!0):(t.preventDefault(),this.focusService.focusPreviousFromFirstCell(t)))}else e instanceof Wo&&e.focusCell(!0),this.focusService.focusNextGridCoreContainer(i)&&t.preventDefault()}tabToNextCell(e,t){const i=this.focusService.getFocusedCell();if(!i)return!1;let n=this.getCellByPosition(i);return!!(n||(n=this.rowRenderer.getRowByPosition(i),n&&n.isFullWidth()))&&this.tabToNextCellCommon(n,e,t)}tabToNextCellCommon(e,t,i){let s,n=e.isEditing();if(!n&&e instanceof Wo){const o=e.getRowCtrl();o&&(n=o.isEditing())}return s=n?"fullRow"===this.gridOptionsService.get("editType")?this.moveToNextEditingRow(e,t,i):this.moveToNextEditingCell(e,t,i):this.moveToNextCellNotEditing(e,t),s||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(e,t,i=null){const n=e.getCellPosition();e.getGui().focus(),e.stopEditing();const s=this.findNextCellToFocusOn(n,t,!0);return null!=s&&(s.startEditing(null,!0,i),s.focusCell(!1),!0)}moveToNextEditingRow(e,t,i=null){const n=e.getCellPosition(),s=this.findNextCellToFocusOn(n,t,!0);if(null==s)return!1;const r=s.getCellPosition(),o=this.isCellEditable(n),a=this.isCellEditable(r),l=r&&n.rowIndex===r.rowIndex&&n.rowPinned===r.rowPinned;return o&&e.setFocusOutOnEditor(),l||(e.getRowCtrl().stopEditing(),s.getRowCtrl().startRowEditing(void 0,void 0,i)),a?(s.setFocusInOnEditor(),s.focusCell()):s.focusCell(!0),!0}moveToNextCellNotEditing(e,t){const i=this.columnModel.getAllDisplayedColumns();let n;n=e instanceof jo?ot(z({},e.getRowPosition()),{column:t?i[0]:Ae(i)}):e.getCellPosition();const s=this.findNextCellToFocusOn(n,t,!1);if(s instanceof Wo)s.focusCell(!0);else if(s)return this.tryToFocusFullWidthRow(s.getRowPosition(),t);return R(s)}findNextCellToFocusOn(e,t,i){let n=e;for(;;){e!==n&&(e=n),t||(n=this.getLastCellOfColSpan(n)),n=this.cellNavigationService.getNextTabbedCell(n,t);const s=this.gridOptionsService.getCallback("tabToNextCell");if(R(s)){const l=s({backwards:t,editing:i,previousCellPosition:e,nextCellPosition:n||null});R(l)?(l.floating&&($("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),l.rowPinned=l.floating),n={rowIndex:l.rowIndex,column:l.column,rowPinned:l.rowPinned}):n=null}if(!n)return null;if(n.rowIndex<0){const a=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a+n.rowIndex,column:n.column},fromCell:!0}),null}const r="fullRow"===this.gridOptionsService.get("editType");if(i&&!r&&!this.isCellEditable(n))continue;this.ensureCellVisible(n);const o=this.getCellByPosition(n);if(!o){const a=this.rowRenderer.getRowByPosition(n);if(!a||!a.isFullWidth()||i)continue;return a}if(!o.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(n),o}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return!!t&&e.column.isCellEditable(t)}getCellByPosition(e){const t=this.rowRenderer.getRowByPosition(e);return t?t.getCellCtrl(e.column):null}lookupRowNodeForCell(e){return"top"===e.rowPinned?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):"bottom"===e.rowPinned?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)}navigateToNextCell(e,t,i,n){let s=i,r=!1;for(;s&&(s===i||!this.isValidNavigateCell(s));)this.gridOptionsService.get("enableRtl")?t===S.LEFT&&(s=this.getLastCellOfColSpan(s)):t===S.RIGHT&&(s=this.getLastCellOfColSpan(s)),s=this.cellNavigationService.getNextCellToFocus(t,s),r=Y(s);if(r&&e&&e.key===S.UP&&(s={rowIndex:-1,rowPinned:null,column:i.column}),n){const a=this.gridOptionsService.getCallback("navigateToNextCell");if(R(a)){const d=a({key:t,previousCellPosition:i,nextCellPosition:s||null,event:e});R(d)?(d.floating&&($("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),d.rowPinned=d.floating),s={rowPinned:d.rowPinned,rowIndex:d.rowIndex,column:d.column}):s=null}}if(!s)return;if(s.rowIndex<0){const a=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a+s.rowIndex,column:i.column},event:e||void 0,fromCell:!0})}const o=this.getNormalisedPosition(s);o?this.focusPosition(o):this.tryToFocusFullWidthRow(s)}getNormalisedPosition(e){this.ensureCellVisible(e);const t=this.getCellByPosition(e);return t?(e=t.getCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t=!1){const i=this.columnModel.getAllDisplayedColumns(),n=this.rowRenderer.getRowByPosition(e);if(!n||!n.isFullWidth())return!1;const s=this.focusService.getFocusedCell(),r={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?Ae(i):i[0])};this.focusPosition(r);const o=null!=s&&this.rowPositionUtils.before(r,s);return this.eventService.dispatchEvent({type:f.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:r.column,isFullWidthCell:!0,floating:r.rowPinned,fromBelow:o}),!0}focusPosition(e){this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(e)}isValidNavigateCell(e){return!!this.rowPositionUtils.getRowNode(e)}getLastCellOfColSpan(e){const t=this.getCellByPosition(e);if(!t)return e;const i=t.getColSpanningList();return 1===i.length?e:{rowIndex:e.rowIndex,column:Ae(i),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=this.gridOptionsService.isGroupRowsSticky(),i=this.rowModel.getRow(e.rowIndex);!(t&&i?.sticky)&&Y(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)}};h([g("mouseEventService")],mi.prototype,"mouseEventService",2),h([g("paginationProxy")],mi.prototype,"paginationProxy",2),h([g("focusService")],mi.prototype,"focusService",2),h([De("rangeService")],mi.prototype,"rangeService",2),h([g("columnModel")],mi.prototype,"columnModel",2),h([g("rowModel")],mi.prototype,"rowModel",2),h([g("ctrlsService")],mi.prototype,"ctrlsService",2),h([g("rowRenderer")],mi.prototype,"rowRenderer",2),h([g("headerNavigationService")],mi.prototype,"headerNavigationService",2),h([g("rowPositionUtils")],mi.prototype,"rowPositionUtils",2),h([g("cellNavigationService")],mi.prototype,"cellNavigationService",2),h([g("pinnedRowModel")],mi.prototype,"pinnedRowModel",2),h([I],mi.prototype,"postConstruct",1),mi=h([V("navigationService")],mi);var dS=class nV extends Go{constructor(t){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=t}postConstruct(){this.gridOptionsService.setDomData(this.getGui(),nV.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()}addKeyDownListener(){const t=this.getGui(),i=this.params;this.addManagedListener(t,"keydown",s=>{zm(this.gridOptionsService,s,i.node,i.column,!0)||i.onKeyDown(s)})}};dS.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",h([I],dS.prototype,"postConstruct",1);var _ee=dS,See=class extends ee{constructor(e,t,i,n,s){super(),this.rendererVersion=0,this.editorVersion=0,this.beans=e,this.column=t.getColumn(),this.rowNode=t.getRowNode(),this.rowCtrl=t.getRowCtrl(),this.eRow=n,this.cellCtrl=t;const r=document.createElement("div");r.setAttribute("comp-id",`${this.getCompId()}`),this.setTemplateFromElement(r);const o=this.getGui();this.forceWrapper=t.isForceWrapper(),this.refreshWrapper(!1);const a=(c,u)=>{null!=u&&""!=u?o.setAttribute(c,u):o.removeAttribute(c)};ht(o,t.getCellAriaRole()),a("col-id",t.getColumnIdSanitised());const l=t.getTabIndex();void 0!==l&&a("tabindex",l.toString()),t.setComp({addOrRemoveCssClass:(c,u)=>this.addOrRemoveCssClass(c,u),setUserStyles:c=>B_(o,c),getFocusableElement:()=>this.getFocusableElement(),setIncludeSelection:c=>this.includeSelection=c,setIncludeRowDrag:c=>this.includeRowDrag=c,setIncludeDndSource:c=>this.includeDndSource=c,setRenderDetails:(c,u,p)=>this.setRenderDetails(c,u,p),setEditDetails:(c,u,p)=>this.setEditDetails(c,u,p),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()},this.getGui(),this.eCellWrapper,i,s)}getParentOfValue(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()}setRenderDetails(e,t,i){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=null==this.firstRender;const s=this.refreshWrapper(!1);this.refreshEditStyles(!1),e?!i&&!s&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(t))}setEditDetails(e,t,i){e?this.createCellEditorInstance(e,t,i):this.destroyEditor()}removeControls(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)}refreshWrapper(e){const t=this.includeRowDrag||this.includeDndSource||this.includeSelection,i=t||this.forceWrapper,n=i&&null==this.eCellWrapper;if(n){const d=document.createElement("div");d.setAttribute("role","presentation"),d.setAttribute("class","ag-cell-wrapper"),this.eCellWrapper=d,this.getGui().appendChild(this.eCellWrapper)}const s=!i&&null!=this.eCellWrapper;s&&(ns(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!i);const r=!e&&i,o=r&&null==this.eCellValue;if(o){const d=document.createElement("span");d.setAttribute("role","presentation"),d.setAttribute("class","ag-cell-value"),this.eCellValue=d,this.eCellWrapper.appendChild(this.eCellValue)}const a=!r&&null!=this.eCellValue;a&&(ns(this.eCellValue),this.eCellValue=void 0);const l=n||s||o||a;return l&&this.removeControls(),e||t&&this.addControls(),l}addControls(){this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))}createCellEditorInstance(e,t,i){const n=this.editorVersion,s=e.newAgStackInstance();if(!s)return;const{params:r}=e;s.then(a=>this.afterCellEditorCreated(n,a,r,t,i)),Y(this.cellEditor)&&r.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(e){const t=this.getParentOfValue();It(t);const i=null!=e?Nt(e,!0):null;null!=i&&(t.textContent=i)}destroyEditorAndRenderer(){this.destroyRenderer(),this.destroyEditor()}destroyRenderer(){const{context:e}=this.beans;this.cellRenderer=e.destroyBean(this.cellRenderer),ns(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){const{context:e}=this.beans;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),ns(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(e){if(null==this.cellRenderer||null==this.cellRenderer.refresh||this.cellRendererClass!==e.componentClass)return!1;const t=this.cellRenderer.refresh(e.params);return!0===t||void 0===t}createCellRendererInstance(e){const i=!this.beans.gridOptionsService.get("suppressAnimationFrame"),n=this.rendererVersion,{componentClass:s}=e,r=()=>{if(this.rendererVersion!==n||!this.isAlive())return;const a=e.newAgStackInstance(),l=this.afterCellRendererCreated.bind(this,n,s);a&&a.then(l)};i&&this.firstRender?this.beans.animationFrameService.createTask(r,this.rowNode.rowIndex,"createTasksP2"):r()}getCtrl(){return this.cellCtrl}getRowCtrl(){return this.rowCtrl}getCellRenderer(){return this.cellRenderer}getCellEditor(){return this.cellEditor}afterCellRendererCreated(e,t,i){if(this.isAlive()&&e===this.rendererVersion){if(this.cellRenderer=i,this.cellRendererClass=t,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){const s=this.getParentOfValue();It(s),s.appendChild(this.cellRendererGui)}}else this.beans.context.destroyBean(i)}afterCellEditorCreated(e,t,i,n,s){if(e!==this.editorVersion)return void this.beans.context.destroyBean(t);if(t.isCancelBeforeStart&&t.isCancelBeforeStart())return this.beans.context.destroyBean(t),void this.cellCtrl.stopEditing(!0);if(!t.getGui)return console.warn(`AG Grid: cellEditor for column ${this.column.getId()} is missing getGui() method`),void this.beans.context.destroyBean(t);this.cellEditor=t,this.cellEditorGui=t.getGui();const a=n||void 0!==t.isPopup&&t.isPopup();a?this.addPopupCellEditor(i,s):this.addInCellEditor(),this.refreshEditStyles(!0,a),t.afterGuiAttached&&t.afterGuiAttached()}refreshEditStyles(e,t){var i;this.addOrRemoveCssClass("ag-cell-inline-editing",e&&!t),this.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!t),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!t),null==(i=this.rowCtrl)||i.setInlineEditingCss(e)}addInCellEditor(){const e=this.getGui(),t=this.beans.gridOptionsService.getDocument();e.contains(t.activeElement)&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(e,t){"fullRow"===this.beans.gridOptionsService.get("editType")&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");const i=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new _ee(e));const n=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&n.appendChild(this.cellEditorGui);const s=this.beans.popupService,r=this.beans.gridOptionsService.get("stopEditingWhenCellsLoseFocus"),o=t??(i.getPopupPosition?i.getPopupPosition():"over"),a=this.beans.gridOptionsService.get("enableRtl"),l={ePopup:n,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:o,alignSide:a?"right":"left",keepWithinBounds:!0},d=s.positionPopupByComponent.bind(s,l),c=this.beans.localeService.getLocaleTextFunc(),u=s.addPopup({modal:r,eChild:n,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:d,ariaLabel:c("ariaLabelCellEditor","Cell Editor")});u&&(this.hideEditorPopup=u.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),super.destroy()}clearParentOfValue(){const e=this.getGui(),t=this.beans.gridOptionsService.getDocument();e.contains(t.activeElement)&&A_()&&e.focus({preventScroll:!0}),It(this.getParentOfValue())}},Eee=class extends ee{constructor(e,t,i){super(),this.cellComps={},this.beans=t,this.rowCtrl=e;const n=document.createElement("div");n.setAttribute("comp-id",`${this.getCompId()}`),n.setAttribute("style",this.getInitialStyle(i)),this.setTemplateFromElement(n);const s=this.getGui(),r=s.style;this.domOrder=this.rowCtrl.getDomOrder(),ht(s,"row");const o=this.rowCtrl.getTabIndex();null!=o&&s.setAttribute("tabindex",o.toString()),e.setComp({setDomOrder:l=>this.domOrder=l,setCellCtrls:l=>this.setCellCtrls(l),showFullWidth:l=>this.showFullWidth(l),getFullWidthCellRenderer:()=>this.getFullWidthCellRenderer(),addOrRemoveCssClass:(l,d)=>this.addOrRemoveCssClass(l,d),setUserStyles:l=>B_(s,l),setTop:l=>r.top=l,setTransform:l=>r.transform=l,setRowIndex:l=>s.setAttribute("row-index",l),setRowId:l=>s.setAttribute("row-id",l),setRowBusinessKey:l=>s.setAttribute("row-business-key",l),refreshFullWidth:l=>this.refreshFullWidth(l)},this.getGui(),i),this.addDestroyFunc(()=>{e.unsetComp(i)})}getInitialStyle(e){const t=this.rowCtrl.getInitialTransform(e);return t?`transform: ${t}`:`top: ${this.rowCtrl.getInitialRowTop(e)}`}showFullWidth(e){const i=e.newAgStackInstance();i&&i.then(n=>{if(this.isAlive()){const s=n.getGui();this.getGui().appendChild(s),this.rowCtrl.setupDetailRowAutoHeight(s),this.setFullWidthRowComp(n)}else this.beans.context.destroyBean(n)})}setCellCtrls(e){const t=Object.assign({},this.cellComps);e.forEach(n=>{const s=n.getInstanceId();null==this.cellComps[s]?this.newCellComp(n):t[s]=null});const i=Vr(t).filter(n=>null!=n);this.destroyCells(i),this.ensureDomOrder(e)}ensureDomOrder(e){if(!this.domOrder)return;const t=[];e.forEach(i=>{const n=this.cellComps[i.getInstanceId()];n&&t.push(n.getGui())}),H_(this.getGui(),t)}newCellComp(e){const t=new See(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.getInstanceId()]=t,this.getGui().appendChild(t.getGui())}destroy(){super.destroy(),this.destroyAllCells()}destroyAllCells(){const e=Vr(this.cellComps).filter(t=>null!=t);this.destroyCells(e)}setFullWidthRowComp(e){this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}getFullWidthCellRenderer(){return this.fullWidthCellRenderer}destroyCells(e){e.forEach(t=>{if(!t)return;const i=t.getCtrl().getInstanceId();this.cellComps[i]===t&&(t.detach(),t.destroy(),this.cellComps[i]=null)})}refreshFullWidth(e){const{fullWidthCellRenderer:t}=this;if(!t||!t.refresh)return!1;const i=e();return t.refresh(i)}},Ql=class extends ee{constructor(){super(function Dee(){const e=ee.elementGettingCreated.getAttribute("name"),t=Mk.getRowContainerCssClasses(e);let i;return i="center"===e||"topCenter"===e||"stickyTopCenter"===e||"bottomCenter"===e?`<div class="${t.viewport}" ref="eViewport" role="presentation">\n                <div class="${t.container}" ref="eContainer"></div>\n            </div>`:`<div class="${t.container}" ref="eContainer"></div>`,i}()),this.rowComps={},this.name=ee.elementGettingCreated.getAttribute("name"),this.type=function Cee(e){switch(e){case"center":case"topCenter":case"stickyTopCenter":case"bottomCenter":return"center";case"left":case"topLeft":case"stickyTopLeft":case"bottomLeft":return"left";case"right":case"topRight":case"stickyTopRight":case"bottomRight":return"right";case"fullWidth":case"topFullWidth":case"stickyTopFullWidth":case"bottomFullWidth":return"fullWidth";default:throw Error("Invalid Row Container Type")}}(this.name)}postConstruct(){const e={setViewportHeight:i=>this.eViewport.style.height=i,setRowCtrls:({rowCtrls:i})=>this.setRowCtrls(i),setDomOrder:i=>{this.domOrder=i},setContainerWidth:i=>this.eContainer.style.width=i};this.createManagedBean(new Mk(this.name)).setComp(e,this.eContainer,this.eViewport)}preDestroy(){this.setRowCtrls([])}setRowCtrls(e){const t=z({},this.rowComps);this.rowComps={},this.lastPlacedElement=null,e.forEach(n=>{const s=n.getInstanceId(),r=t[s];if(r)this.rowComps[s]=r,delete t[s],this.ensureDomOrder(r.getGui());else{if(!n.getRowNode().displayed)return;const o=new Eee(n,this.beans,this.type);this.rowComps[s]=o,this.appendRow(o.getGui())}}),Vr(t).forEach(n=>{this.eContainer.removeChild(n.getGui()),n.destroy()}),ht(this.eContainer,"rowgroup")}appendRow(e){this.domOrder?RN(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e}ensureDomOrder(e){this.domOrder&&(G_(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)}};h([g("beans")],Ql.prototype,"beans",2),h([N("eViewport")],Ql.prototype,"eViewport",2),h([N("eContainer")],Ql.prototype,"eContainer",2),h([I],Ql.prototype,"postConstruct",1),h([Fi],Ql.prototype,"preDestroy",1);var cS=class{constructor(e){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}onDragEnter(e){if(this.clearColumnsList(),this.gridOptionsService.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(i=>{i.isPrimary()&&(i.isAnyFunctionActive()||(i.isAllowValue()?this.columnsToAggregate.push(i):i.isAllowRowGroup()?this.columnsToGroup.push(i):i.isAllowPivot()&&this.columnsToPivot.push(i)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?ie.ICON_PINNED:ie.ICON_MOVE:null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}};h([g("columnModel")],cS.prototype,"columnModel",2),h([g("gridOptionsService")],cS.prototype,"gridOptionsService",2);var qo=class{static attemptMoveColumns(e){const{isFromHeader:t,hDirection:i,xPosition:n,fromEnter:s,fakeEvent:r,pinned:o,gridOptionsService:a,columnModel:l}=e,d=0===i,c=1===i;let{allMovingColumns:u}=e;if(t){let D=[];u.forEach(M=>{var L;let k=null,te=M.getParent();for(;null!=te&&1===te.getDisplayedLeafColumns().length;)k=te,te=te.getParent();null!=k?(null!=(L=k.getColGroupDef())&&L.marryChildren?k.getProvidedColumnGroup().getLeafColumns():k.getLeafColumns()).forEach(jt=>{D.includes(jt)||D.push(jt)}):D.includes(M)||D.push(M)}),u=D}const p=u.slice();l.sortColumnsLikeGridColumns(p);const m=this.calculateValidMoves({movingCols:p,draggingRight:c,xPosition:n,pinned:o,gridOptionsService:a,columnModel:l}),v=this.calculateOldIndex(p,l);if(0===m.length)return;const C=m[0];let b=null!==v&&!s;if(t&&(b=null!==v),b&&!r&&(d&&C>=v||c&&C<=v))return;const y=l.getAllDisplayedColumns();let w=[],E=null;for(let D=0;D<m.length;D++){const M=m[D],L=l.getProposedColumnOrder(p,M);if(!l.doesOrderPassRules(L))continue;const k=L.filter(xe=>y.includes(xe));if(null===E)E=k;else if(!Ds(k,E))break;const te=this.groupFragCount(L);w.push({move:M,fragCount:te})}return 0!==w.length?(w.sort((D,M)=>D.fragCount-M.fragCount),this.moveColumns(u,w[0].move,"uiColumnMoved",!1,l)):void 0}static moveColumns(e,t,i,n,s){return s.moveColumns(e,t,i,n),n?null:{columns:e,toIndex:t}}static calculateOldIndex(e,t){const i=t.getAllGridColumns(),n=BL(e.map(l=>i.indexOf(l))),s=n[0];return Ae(n)-s!=n.length-1?null:s}static groupFragCount(e){function t(n){let s=[],r=n.getOriginalParent();for(;null!=r;)s.push(r),r=r.getOriginalParent();return s}let i=0;for(let n=0;n<e.length-1;n++){let s=t(e[n]),r=t(e[n+1]);[s,r]=s.length>r.length?[s,r]:[r,s],s.forEach(o=>{-1===r.indexOf(o)&&i++})}return i}static calculateValidMoves(e){const{movingCols:t,draggingRight:i,xPosition:n,pinned:s,gridOptionsService:r,columnModel:o}=e;if(r.get("suppressMovableColumns")||t.some(w=>w.getColDef().suppressMovable))return[];const l=o.getDisplayedColumns(s),d=o.getAllGridColumns(),c=l.filter(w=>un(t,w)),u=l.filter(w=>!un(t,w)),p=d.filter(w=>!un(t,w));let C,m=0,v=n;if(i){let w=0;c.forEach(E=>w+=E.getActualWidth()),v-=w}if(v>0){for(let w=0;w<u.length&&(v-=u[w].getActualWidth(),!(v<0));w++)m++;i&&m++}m>0?C=p.indexOf(u[m-1])+1:(C=p.indexOf(u[0]),-1===C&&(C=0));const b=[C],y=(w,E)=>w-E;if(i){let w=C+1;const E=d.length-1;for(;w<=E;)b.push(w),w++;b.sort(y)}else{let w=C;const E=d.length-1;let D=d[w];for(;w<=E&&l.indexOf(D)<0;)w++,b.push(w),D=d[w];w=C-1;const M=0;for(;w>=M;)b.push(w),w--;b.sort(y).reverse()}return b}static normaliseX(e,t,i,n,s){const r=s.getHeaderRowContainerCtrl(t).getViewport();return i&&(e-=r.getBoundingClientRect().left),n.get("enableRtl")&&(e=r.clientWidth-e),null==t&&(e+=s.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),e}},Zl=class{constructor(e,t){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.eContainer=t,this.centerContainer=!R(e)}init(){this.ctrlsService.whenReady(()=>{this.gridBodyCon=this.ctrlsService.getGridBodyCtrl()})}getIconName(){return this.pinned?ie.ICON_PINNED:ie.ICON_MOVE}onDragEnter(e){const t=e.dragItem.columns;if(0===e.dragSource.type)this.setColumnsVisible(t,!0,"uiColumnDragged");else{const n=e.dragItem.visibleState,s=(t||[]).filter(r=>n[r.getId()]);this.setColumnsVisible(s,!0,"uiColumnDragged")}this.setColumnsPinned(t,this.pinned,"uiColumnDragged"),this.onDragging(e,!0,!0)}onDragLeave(){this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,i){if(e){const n=e.filter(s=>!s.getColDef().lockVisible);this.columnModel.setColumnsVisible(n,t,i)}}setColumnsPinned(e,t,i){if(e){const n=e.filter(s=>!s.getColDef().lockPinned);this.columnModel.setColumnsPinned(n,t,i)}}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}checkCenterForScrolling(e){if(this.centerContainer){const t=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),i=t+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.get("enableRtl")?(this.needToMoveRight=e<t+50,this.needToMoveLeft=e>i-50):(this.needToMoveLeft=e<t+50,this.needToMoveRight=e>i-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}}onDragging(e=this.lastDraggingEvent,t=!1,i=!1,n=!1){var s;if(n){if(this.lastMovedInfo){const{columns:c,toIndex:u}=this.lastMovedInfo;qo.moveColumns(c,u,"uiColumnMoved",!0,this.columnModel)}return}if(this.lastDraggingEvent=e,Y(e.hDirection))return;const r=qo.normaliseX(e.x,this.pinned,!1,this.gridOptionsService,this.ctrlsService);t||this.checkCenterForScrolling(r);const o=this.normaliseDirection(e.hDirection),a=e.dragSource.type,l=(null==(s=e.dragSource.getDragItem().columns)?void 0:s.filter(c=>!c.getColDef().lockPinned||c.getPinned()==this.pinned))||[],d=qo.attemptMoveColumns({allMovingColumns:l,isFromHeader:1===a,hDirection:o,xPosition:r,pinned:this.pinned,fromEnter:t,fakeEvent:i,gridOptionsService:this.gridOptionsService,columnModel:this.columnModel});d&&(this.lastMovedInfo=d)}normaliseDirection(e){if(!this.gridOptionsService.get("enableRtl"))return e;switch(e){case 0:return 1;case 1:return 0;default:console.error(`AG Grid: Unknown direction ${e}`)}}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?ie.ICON_LEFT:ie.ICON_RIGHT,!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(ie.ICON_MOVE))}moveInterval(){let e;this.intervalCount++,e=10+5*this.intervalCount,e>100&&(e=100);let t=null;const i=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=i.scrollHorizontally(-e):this.needToMoveRight&&(t=i.scrollHorizontally(e)),0!==t)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const s=this.lastDraggingEvent.dragItem.columns.filter(r=>!r.getColDef().lockPinned);s.length>0&&(this.dragAndDropService.setGhostIcon(ie.ICON_PINNED),this.failedMoveAttempts>7)&&(this.setColumnsPinned(s,this.needToMoveLeft?"left":"right","uiColumnDragged"),this.dragAndDropService.nudge())}}};h([g("columnModel")],Zl.prototype,"columnModel",2),h([g("dragAndDropService")],Zl.prototype,"dragAndDropService",2),h([g("gridOptionsService")],Zl.prototype,"gridOptionsService",2),h([g("ctrlsService")],Zl.prototype,"ctrlsService",2),h([I],Zl.prototype,"init",1);var Xl=class extends A{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){this.ctrlsService.whenReady(e=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.leftRowContainerCtrl.getContainerElement()],[e.bottomLeftRowContainerCtrl.getContainerElement()],[e.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.rightRowContainerCtrl.getContainerElement()],[e.bottomRightRowContainerCtrl.getContainerElement()],[e.topRightRowContainerCtrl.getContainerElement()]];break;default:this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.centerRowContainerCtrl.getViewportElement()],[e.bottomCenterRowContainerCtrl.getViewportElement()],[e.topCenterRowContainerCtrl.getViewportElement()]]}})}isInterestedIn(e){return 1===e||0===e&&this.gridOptionsService.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}init(){this.moveColumnFeature=this.createManagedBean(new Zl(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new cS(this.pinned)),this.dragAndDropService.addDropTarget(this)}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.columnModel.isPivotMode()&&0===e.dragSource.type}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}};h([g("dragAndDropService")],Xl.prototype,"dragAndDropService",2),h([g("columnModel")],Xl.prototype,"columnModel",2),h([g("ctrlsService")],Xl.prototype,"ctrlsService",2),h([I],Xl.prototype,"postConstruct",1),h([I],Xl.prototype,"init",1);var Jl=class sV extends oS{constructor(t){super(sV.TEMPLATE,t),this.headerCompVersion=0,this.column=t.getColumnGroupChild(),this.pinned=t.getPinned()}postConstruct(){const t=this.getGui();var r,o;r="col-id",null!=(o=this.column.getColId())&&""!=o?t.setAttribute(r,o):t.removeAttribute(r);const n={setWidth:r=>t.style.width=r,addOrRemoveCssClass:(r,o)=>this.addOrRemoveCssClass(r,o),setAriaSort:r=>r?pN(t,r):fN(t),setUserCompDetails:r=>this.setUserCompDetails(r),getUserCompInstance:()=>this.headerComp};this.ctrl.setComp(n,this.getGui(),this.eResize,this.eHeaderCompWrapper);const s=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",s)}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(t){this.headerCompVersion++;const i=this.headerCompVersion;t.newAgStackInstance().then(n=>this.afterCompCreated(i,n))}afterCompCreated(t,i){t==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=i,this.headerCompGui=i.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())):this.destroyBean(i)}};Jl.TEMPLATE='<div class="ag-header-cell" role="columnheader">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>\n        </div>',h([N("eResize")],Jl.prototype,"eResize",2),h([N("eHeaderCompWrapper")],Jl.prototype,"eHeaderCompWrapper",2),h([I],Jl.prototype,"postConstruct",1),h([Fi],Jl.prototype,"destroyHeaderComp",1);var xee=Jl,sg=class rV extends oS{constructor(t){super(rV.TEMPLATE,t)}postConstruct(){const t=this.getGui();t.setAttribute("col-id",this.ctrl.getColId()),this.ctrl.setComp({addOrRemoveCssClass:(s,r)=>this.addOrRemoveCssClass(s,r),setResizableDisplayed:s=>we(this.eResize,s),setWidth:s=>t.style.width=s,setAriaExpanded:s=>((s,r)=>null!=r?t.setAttribute(s,r):t.removeAttribute(s))("aria-expanded",s),setUserCompDetails:s=>this.setUserCompDetails(s),getUserCompInstance:()=>this.headerGroupComp},t,this.eResize)}setUserCompDetails(t){t.newAgStackInstance().then(i=>this.afterHeaderCompCreated(i))}afterHeaderCompCreated(t){const i=()=>this.destroyBean(t);if(!this.isAlive())return void i();const n=this.getGui(),s=t.getGui();n.appendChild(s),this.addDestroyFunc(i),this.headerGroupComp=t,this.ctrl.setDragSource(n)}};sg.TEMPLATE='<div class="ag-header-group-cell" role="columnheader">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',h([N("eResize")],sg.prototype,"eResize",2),h([I],sg.prototype,"postConstruct",1);var Ree=sg,uS=class extends ee{constructor(e){super(),this.headerComps={},this.ctrl=e,this.setTemplate(`<div class="${this.ctrl.getHeaderRowClass()}" role="row"></div>`)}init(){g_(this.getGui(),this.ctrl.getAriaRowIndex()),this.ctrl.setComp({setHeight:t=>this.getGui().style.height=t,setTop:t=>this.getGui().style.top=t,setHeaderCtrls:(t,i)=>this.setHeaderCtrls(t,i),setWidth:t=>this.getGui().style.width=t})}destroyHeaderCtrls(){this.setHeaderCtrls([],!1)}setHeaderCtrls(e,t){if(!this.isAlive())return;const i=this.headerComps;if(this.headerComps={},e.forEach(n=>{const s=n.getInstanceId();let r=i[s];delete i[s],null==r&&(r=this.createHeaderComp(n),this.getGui().appendChild(r.getGui())),this.headerComps[s]=r}),pi(i,(n,s)=>{this.getGui().removeChild(s.getGui()),this.destroyBean(s)}),t){const n=Vr(this.headerComps);n.sort((r,o)=>r.getCtrl().getColumnGroupChild().getLeft()-o.getCtrl().getColumnGroupChild().getLeft());const s=n.map(r=>r.getGui());H_(this.getGui(),s)}}createHeaderComp(e){let t;switch(this.ctrl.getType()){case"group":t=new Ree(e);break;case"filter":t=new kJ(e);break;default:t=new xee(e)}return this.createBean(t),t.setParentComponent(this),t}};h([I],uS.prototype,"init",1),h([Fi],uS.prototype,"destroyHeaderCtrls",1);var Aee=0,hr=class oV extends A{constructor(t,i,n){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=t,this.parentRowCtrl=n,this.beans=i,this.instanceId=t.getUniqueId()+"-"+Aee++}postConstruct(){this.addManagedPropertyListeners(["suppressHeaderFocus"],()=>this.refreshTabIndex())}shouldStopEventPropagation(t){const{headerRowIndex:i,column:n}=this.focusService.getFocusedHeader();return kN(this.gridOptionsService,t,i,n)}getWrapperHasFocus(){return this.gridOptionsService.getDocument().activeElement===this.eGui}setGui(t){this.eGui=t,this.addDomData(),this.addManagedListener(this.beans.eventService,f.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onDisplayedColumnsChanged(){!this.comp||!this.column||(this.refreshFirstAndLastStyles(),this.refreshAriaColIndex())}refreshFirstAndLastStyles(){const{comp:t,column:i,beans:n}=this;tg.refreshFirstAndLastStyles(t,i,n.columnModel)}refreshAriaColIndex(){const{beans:t,column:i}=this,n=t.columnModel.getAriaColumnIndex(i);v_(this.eGui,n)}addResizeAndMoveKeyboardListeners(){this.resizeFeature&&(this.addManagedListener(this.eGui,"keydown",this.onGuiKeyDown.bind(this)),this.addManagedListener(this.eGui,"keyup",this.onGuiKeyUp.bind(this)))}refreshTabIndex(){this.gridOptionsService.get("suppressHeaderFocus")?this.eGui.removeAttribute("tabindex"):this.eGui.setAttribute("tabindex","-1")}onGuiKeyDown(t){var i;const s=this.gridOptionsService.getDocument().activeElement,r=t.key===S.LEFT||t.key===S.RIGHT;if(this.isResizing&&(t.preventDefault(),t.stopImmediatePropagation()),s!==this.eGui||!t.shiftKey&&!t.altKey||((this.isResizing||r)&&(t.preventDefault(),t.stopImmediatePropagation()),!r))return;const o=t.key===S.LEFT!==this.gridOptionsService.get("enableRtl"),a=hk[o?"Left":"Right"];if(t.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const l=this.getViewportAdjustedResizeDiff(t);this.resizeHeader(l,t.shiftKey),null==(i=this.resizeFeature)||i.toggleColumnResizing(!0)}else this.moveHeader(a)}getViewportAdjustedResizeDiff(t){let i=this.getResizeDiff(t);if(this.column.getPinned()){const s=this.pinnedWidthService.getPinnedLeftWidth(),r=this.pinnedWidthService.getPinnedRightWidth(),o=Lo(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(s+r+i>o){if(!(o>s+r))return 0;i=o-s-r}}return i}getResizeDiff(t){let i=t.key===S.LEFT!==this.gridOptionsService.get("enableRtl");const n=this.column.getPinned(),s=this.gridOptionsService.get("enableRtl");return n&&s!==("right"===n)&&(i=!i),(i?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=setTimeout(()=>{var t;null==(t=this.resizeFeature)||t.toggleColumnResizing(!1)},150))}handleKeyDown(t){const i=this.getWrapperHasFocus();switch(t.key){case S.PAGE_DOWN:case S.PAGE_UP:case S.PAGE_HOME:case S.PAGE_END:i&&t.preventDefault()}}addDomData(){const t=oV.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,t,this),this.addDestroyFunc(()=>this.gridOptionsService.setDomData(this.eGui,t,null))}getGui(){return this.eGui}focus(t){return!!this.eGui&&(this.lastFocusEvent=t||null,this.eGui.focus(),!0)}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getInstanceId(){return this.instanceId}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(t,i,n){const s=t??i;this.gridOptionsService.get("preventDefaultOnContextMenu")&&s.preventDefault();const r=n instanceof ze?n:void 0;this.menuService.isHeaderContextMenuEnabled(r)&&this.menuService.showHeaderContextMenu(r,t,i),this.dispatchColumnMouseEvent(f.EVENT_COLUMN_HEADER_CONTEXT_MENU,n)}dispatchColumnMouseEvent(t,i){this.eventService.dispatchEvent({type:t,column:i})}destroy(){super.destroy(),this.removeDragSource(),this.comp=null,this.column=null,this.resizeFeature=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null,this.eGui=null}};hr.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",h([g("pinnedWidthService")],hr.prototype,"pinnedWidthService",2),h([g("focusService")],hr.prototype,"focusService",2),h([g("userComponentFactory")],hr.prototype,"userComponentFactory",2),h([g("ctrlsService")],hr.prototype,"ctrlsService",2),h([g("dragAndDropService")],hr.prototype,"dragAndDropService",2),h([g("menuService")],hr.prototype,"menuService",2),h([I],hr.prototype,"postConstruct",1);var rg=hr,og=class extends A{constructor(e,t,i,n){super(),this.columnOrGroup=e,this.eCell=t,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=n,this.beans=i}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?Ae(this.colsSpanning):this.columnOrGroup}postConstruct(){this.addManagedListener(this.columnOrGroup,ze.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,f.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))}setLeftFirstTime(){const e=this.beans.gridOptionsService.get("suppressColumnMoveAnimation"),t=R(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=e.getLeft(),i=e.getOldLeft(),n=this.modifyLeftForPrintLayout(e,i),s=this.modifyLeftForPrintLayout(e,t);this.setLeft(n),this.actualLeft=s,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===s&&this.setLeft(s)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){if(!this.beans.gridOptionsService.isDomLayout("print")||"left"===e.getPinned())return t;const n=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===e.getPinned()?n+this.beans.columnModel.getBodyContainerWidth()+t:n+t}setLeft(e){let t;if(R(e)&&(this.eCell.style.left=`${e}px`),this.columnOrGroup instanceof ze)t=this.columnOrGroup;else{const n=this.columnOrGroup.getLeafColumns();if(!n.length)return;n.length>1&&hN(this.ariaEl,n.length),t=n[0]}}};h([I],og.prototype,"postConstruct",1);var Nu=class extends A{constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){this.gridOptionsService.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}};h([g("columnHoverService")],Nu.prototype,"columnHoverService",2),h([I],Nu.prototype,"postConstruct",1);var Mee=class extends rg{constructor(e,t,i){super(e,t,i),this.iconCreated=!1,this.column=e}setComp(e,t,i,n){this.comp=e,this.eButtonShowMainFilter=i,this.eFloatingFilterBody=n,this.setGui(t),this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,ze.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))}resizeHeader(){}moveHeader(){}setupActive(){const e=this.column.getColDef();this.active=!!e.filter&&!!e.floatingFilter}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=ct("filter",this.gridOptionsService,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(){this.createManagedBean(new Br(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.localeService.getLocaleTextFunc();is(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(this.gridOptionsService.getDocument().activeElement===this.eGui)return;const s=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(s)return this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),void s.focus();const r=this.findNextColumnWithFloatingFilter(e.shiftKey);r&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:r},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.columnModel;let i=this.column;do{if(i=e?t.getDisplayedColBefore(i):t.getDisplayedColAfter(i),!i)break}while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case S.UP:case S.DOWN:t||e.preventDefault();case S.LEFT:case S.RIGHT:if(t)return;e.stopPropagation();case S.ENTER:t&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case S.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const i=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),n=!!e.relatedTarget&&Po(e.relatedTarget,"ag-floating-filter");if(i&&n&&e.target===this.eGui){const r=this.lastFocusEvent;r&&r&&r.key===S.TAB&&this.focusService.focusInto(this.eGui,r.shiftKey)}const s=this.getRowIndex();this.beans.focusService.setFocusedHeader(s,this.column)}setupHover(){this.createManagedBean(new Nu([this.column],this.eGui));const e=()=>{if(!this.gridOptionsService.get("columnHoverHighlight"))return;const t=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",t)};this.addManagedListener(this.eventService,f.EVENT_COLUMN_HOVER_CHANGED,e),e()}setupLeft(){const e=new og(this.column,this.eGui,this.beans);this.createManagedBean(e)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){if(!this.active)return;const e=this.beans.filterManager.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){this.menuService.showFilterMenu({column:this.column,buttonElement:this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(){if(!this.active)return;const{filterManager:e}=this.beans,t=i=>{const n=this.comp.getFloatingFilterComp();n&&n.then(s=>{if(s){const r=e.getCurrentFloatingFilterParentModel(this.column);s.onParentModelChanged(r,i)}})};this.destroySyncListener=this.addManagedListener(this.column,ze.EVENT_FILTER_CHANGED,t),e.isFilterActive(this.column)&&t(null)}setupWidth(){const e=()=>{const t=`${this.column.getActualWidth()}px`;this.comp.setWidth(t)};this.addManagedListener(this.column,ze.EVENT_WIDTH_CHANGED,e),e()}setupFilterChangedListener(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,ze.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const e=this.beans.filterManager.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(){var e,t;const i=this.active;this.setupActive();const n=!i&&this.active;i&&!this.active&&(null==(e=this.destroySyncListener)||e.call(this),null==(t=this.destroyFilterChangedListener)||t.call(this));const s=this.active?this.beans.filterManager.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,r=this.comp.getFloatingFilterComp();r&&s?r.then(o=>{var a;!o||this.beans.filterManager.areFilterCompsDifferent(null!=(a=this.userCompDetails)?a:null,s)?this.updateCompDetails(s,n):this.updateFloatingFilterParams(s)}):this.updateCompDetails(s,n)}updateCompDetails(e,t){this.isAlive()&&(this.setCompDetails(e),this.setupFilterButton(),this.setupUi(),t&&(this.setupSyncWithFilter(),this.setupFilterChangedListener()))}updateFloatingFilterParams(e){var t;if(!e)return;const i=e.params;null==(t=this.comp.getFloatingFilterComp())||t.then(n=>{let s=!1;n?.refresh&&"function"==typeof n.refresh&&null!==n.refresh(i)&&(s=!0),!s&&n?.onParamsUpdated&&"function"==typeof n.onParamsUpdated&&null!==n.onParamsUpdated(i)&&$("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")})}destroy(){super.destroy(),this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.destroySyncListener=null,this.destroyFilterChangedListener=null}},ed=class extends A{constructor(e,t,i,n,s){super(),this.pinned=e,this.column=t,this.eResize=i,this.comp=n,this.ctrl=s}postConstruct(){const e=[];let t,i;const n=()=>{if(we(this.eResize,t),!t)return;const o=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(e.push(o),i){const a=this.gridOptionsService.get("skipHeaderOnAutoSize"),l=()=>{this.columnModel.autoSizeColumn(this.column,"uiColumnResized",a)};this.eResize.addEventListener("dblclick",l);const d=new Jt(this.eResize);d.addEventListener(Jt.EVENT_DOUBLE_TAP,l),e.push(()=>{this.eResize.removeEventListener("dblclick",l),d.removeEventListener(Jt.EVENT_DOUBLE_TAP,l),d.destroy()})}},s=()=>{e.forEach(o=>o()),e.length=0},r=()=>{const o=this.column.isResizable(),a=!this.gridOptionsService.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(o!==t||a!==i)&&(t=o,i=a,s(),n())};r(),this.addDestroyFunc(s),this.ctrl.addRefreshFunction(r)}onResizing(e,t){const{column:i,lastResizeAmount:n,resizeStartWidth:s}=this,r=this.normaliseResizeAmount(t),a=[{key:i,newWidth:s+r}];this.column.getPinned()&&this.pinnedWidthService.getPinnedLeftWidth()+this.pinnedWidthService.getPinnedRightWidth()+(r-n)>Lo(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50||(this.lastResizeAmount=r,this.columnModel.setColumnWidths(a,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1))}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const i="left"!==this.pinned,n="right"===this.pinned;return this.gridOptionsService.get("enableRtl")?i&&(t*=-1):n&&(t*=-1),t}};h([g("horizontalResizeService")],ed.prototype,"horizontalResizeService",2),h([g("pinnedWidthService")],ed.prototype,"pinnedWidthService",2),h([g("ctrlsService")],ed.prototype,"ctrlsService",2),h([g("columnModel")],ed.prototype,"columnModel",2),h([I],ed.prototype,"postConstruct",1);var hS=class extends A{constructor(e){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=e}onSpaceKeyDown(e){const t=this.cbSelectAll,i=this.gridOptionsService.getDocument();t.isDisplayed()&&!t.getGui().contains(i.activeElement)&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new Ym),this.cbSelectAll.addCssClass("ag-header-select-all"),ht(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,f.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,f.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,f.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,f.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,f.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,f.EVENT_FIELD_VALUE_CHANGED,this.onCbSelectAll.bind(this)),Cu(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e);const t=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const e=this.localeService.getLocaleTextFunc(),i=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),n=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.headerCellCtrl.setAriaDescriptionProperty("selectAll",this.cbSelectAllVisible?`${n} (${i})`:null),this.cbSelectAll.setInputAriaLabel(`${n} (${i})`),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(e){return"multiple"===this.gridOptionsService.get("rowSelection")||(console.warn(`AG Grid: ${e} is only available if using 'multiple' rowSelection.`),!1)}checkRightRowModelType(e){const t=this.rowModel.getType();return"clientSide"===t||"serverSide"===t||(console.warn(`AG Grid: ${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.isFilteredOnly(),i=this.isCurrentPageOnly();let n="uiSelectAll";i?n="uiSelectAllCurrentPage":t&&(n="uiSelectAllFiltered");const s={source:n,justFiltered:t,justCurrentPage:i};e?this.selectionService.selectAllRowNodes(s):this.selectionService.deselectAllRowNodes(s)}isCheckboxSelection(){let e=this.column.getColDef().headerCheckboxSelection;return"function"==typeof e&&(e=e(this.gridOptionsService.addGridCommonParams({column:this.column,colDef:this.column.getColDef()}))),!!e&&this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection")}isFilteredOnly(){return!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){return!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}};h([g("rowModel")],hS.prototype,"rowModel",2),h([g("selectionService")],hS.prototype,"selectionService",2);var Iee=class extends rg{constructor(e,t,i){super(e,t,i),this.refreshFunctions=[],this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=e}setComp(e,t,i,n){this.comp=e,this.setGui(t),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(n),this.addColumnHoverListener(),this.setupFilterClass(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.resizeFeature=this.createManagedBean(new ed(this.getPinned(),this.column,i,e,this)),this.createManagedBean(new Nu([this.column],t)),this.createManagedBean(new og(this.column,t,this.beans)),this.createManagedBean(new Br(t,{shouldStopEventPropagation:s=>this.shouldStopEventPropagation(s),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(),this.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],this.refresh.bind(this)),this.addManagedListener(this.column,ze.EVENT_COL_DEF_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,f.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,f.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,f.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,f.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))}resizeHeader(e,t){var i,n;if(!this.column.isResizable())return;const s=this.column.getActualWidth(),r=null!=(i=this.column.getMinWidth())?i:0,o=null!=(n=this.column.getMaxWidth())?n:Number.MAX_SAFE_INTEGER,a=Math.min(Math.max(s+e,r),o);this.beans.columnModel.setColumnWidths([{key:this.column,newWidth:a}],t,!0,"uiColumnResized")}moveHeader(e){const{eGui:t,column:i,gridOptionsService:n,ctrlsService:s}=this,r=this.getPinned(),o=t.getBoundingClientRect().left,a=i.getActualWidth(),l=n.get("enableRtl"),c=qo.normaliseX(0===e!==l?o-20:o+a+20,r,!0,n,s);qo.attemptMoveColumns({allMovingColumns:[i],isFromHeader:!0,hDirection:e,xPosition:c,pinned:r,fromEnter:!1,fakeEvent:!1,gridOptionsService:n,columnModel:this.beans.columnModel}),s.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(i,"auto")}setupUserComp(){const e=this.lookupUserCompDetails();this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(t,e)}createParams(){return this.gridOptionsService.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:t=>{this.menuService.showColumnMenu({column:this.column,buttonElement:t,positionBy:"button"})},showColumnMenuAfterMouseClick:t=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:t,positionBy:"mouse"})},showFilter:t=>{this.menuService.showFilterMenu({column:this.column,buttonElement:t,containerType:"columnFilter",positionBy:"button"})},progressSort:t=>{this.beans.sortController.progressSort(this.column,!!t,"uiColumnSorted")},setSort:(t,i)=>{this.beans.sortController.setSortForColumn(this.column,t,!!i,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(t,i)=>{this.setupTooltip(t,i)}})}setupSelectAll(){this.selectAllFeature=this.createManagedBean(new hS(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===S.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===S.ENTER&&this.onEnterKeyDown(e),e.key===S.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&this.beans.sortController.progressSort(this.column,e.shiftKey,"uiColumnSorted")}showMenuOnKeyPress(e,t){const i=this.comp.getUserCompInstance();!i||!(i instanceof eS)||i.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){const t=this.getRowIndex();this.focusService.setFocusedHeader(t,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const i="whenTruncated"===this.gridOptionsService.get("tooltipShowMode"),n=this.eGui,s=this.column.getColDef();!t&&i&&!s.headerComponent&&(t=()=>{const a=n.querySelector(".ag-header-cell-text");return!a||a.scrollWidth>a.clientWidth});const o=this.createManagedBean(new lr({getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>n,getLocation:()=>"header",getTooltipValue:()=>e??this.column.getColDef().headerTooltip,shouldDisplayTooltip:t}));this.refreshFunctions.push(()=>o.refreshToolTip())}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),i=tg.getHeaderClassesFromColDef(t,this.gridOptionsService,this.column,null),n=this.userHeaderClasses;this.userHeaderClasses=new Set(i),i.forEach(s=>{n.has(s)?n.delete(s):this.comp.addOrRemoveCssClass(s,!0)}),n.forEach(s=>this.comp.addOrRemoveCssClass(s,!1))};this.refreshFunctions.push(e),e()}setDragSource(e){if(this.dragSourceElement=e,this.removeDragSource(),!e||!this.draggable)return;const{column:t,beans:i,displayName:n,dragAndDropService:s,gridOptionsService:r}=this,{columnModel:o}=i;let a=!this.gridOptionsService.get("suppressDragLeaveHidesColumns");const l=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>a?ie.ICON_HIDE:ie.ICON_NOT_ALLOWED,getDragItem:()=>this.createDragItem(t),dragItemName:n,onDragStarted:()=>{a=!r.get("suppressDragLeaveHidesColumns"),t.setMoving(!0,"uiColumnMoved")},onDragStopped:()=>t.setMoving(!1,"uiColumnMoved"),onGridEnter:d=>{var c;if(a){const u=(null==(c=d?.columns)?void 0:c.filter(p=>!p.getColDef().lockVisible))||[];o.setColumnsVisible(u,!0,"uiColumnMoved")}},onGridExit:d=>{var c;if(a){const u=(null==(c=d?.columns)?void 0:c.filter(p=>!p.getColDef().lockVisible))||[];o.setColumnsVisible(u,!1,"uiColumnMoved")}}};s.addDragSource(l,!0)}createDragItem(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}addRefreshFunction(e){this.refreshFunctions.push(e)}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==e.componentClass&&this.attemptHeaderCompRefresh(e.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!(!t||!t.refresh)&&t.refresh(e)}calculateDisplayName(){return this.beans.columnModel.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!(this.gridOptionsService.get("suppressMovableColumns")||e.suppressMovable||e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}onColumnRowGroupChanged(){this.checkDisplayName()}onColumnPivotChanged(){this.checkDisplayName()}onColumnValueChanged(){this.checkDisplayName()}setupWidth(){const e=()=>{const t=this.column.getActualWidth();this.comp.setWidth(`${t}px`)};this.addManagedListener(this.column,ze.EVENT_WIDTH_CHANGED,e),e()}setupMovingCss(){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};this.addManagedListener(this.column,ze.EVENT_MOVING_CHANGED,e),e()}setupMenuClass(){const e=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};this.addManagedListener(this.column,ze.EVENT_MENU_VISIBLE_CHANGED,e),e()}setupSortableClass(){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};e(),this.addRefreshFunction(e),this.addManagedListener(this.eventService,ze.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))}setupFilterClass(){const e=()=>{const t=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",t),this.refreshAria()};this.addManagedListener(this.column,ze.EVENT_FILTER_ACTIVE_CHANGED,e),e()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.addRefreshFunction(e)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:i,beans:n}=this;if(!t.isSpanHeaderHeight())return e.style.removeProperty("top"),e.style.removeProperty("height"),i.addOrRemoveCssClass("ag-header-span-height",!1),void i.addOrRemoveCssClass("ag-header-span-total",!1);const{numberOfParents:s,isSpanningTotal:r}=this.column.getColumnGroupPaddingInfo();i.addOrRemoveCssClass("ag-header-span-height",s>0);const{columnModel:o}=n,a=o.getColumnHeaderRowHeight();if(0===s)return i.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),void e.style.setProperty("height",`${a}px`);i.addOrRemoveCssClass("ag-header-span-total",r);const c=s*(o.isPivotMode()?o.getPivotGroupHeaderHeight():o.getGroupHeaderHeight());e.style.setProperty("top",-c+"px"),e.style.setProperty("height",`${a+c}px`)}setupAutoHeight(e){const{columnModel:t,resizeObserverService:i}=this.beans,n=d=>{if(!this.isAlive())return;const{paddingTop:c,paddingBottom:u,borderBottomWidth:p,borderTopWidth:m}=Hr(this.getGui()),b=e.offsetHeight+(c+u+p+m);if(d<5){const y=this.beans.gridOptionsService.getDocument();if(!y||!y.contains(e)||0==b)return void window.setTimeout(()=>n(d+1),0)}t.setColumnHeaderHeight(this.column,b)};let r,s=!1;const o=()=>{const d=this.column.isAutoHeaderHeight();d&&!s&&a(),!d&&s&&l()},a=()=>{s=!0,n(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),r=i.observeResize(e,()=>n(0))},l=()=>{s=!1,r&&r(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),r=void 0};o(),this.addDestroyFunc(()=>l()),this.addManagedListener(this.column,ze.EVENT_WIDTH_CHANGED,()=>s&&n(0)),this.addManagedListener(this.eventService,ze.EVENT_SORT_CHANGED,()=>{s&&window.setTimeout(()=>n(0))}),this.addRefreshFunction(o)}refreshAriaSort(){if(this.sortable){const e=this.localeService.getLocaleTextFunc(),t=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(iN(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){null!=t?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){const e=this.beans.gridOptionsService.getDocument();if(!this.eGui.contains(e.activeElement))return;const t=Array.from(this.ariaDescriptionProperties.keys()).sort((i,n)=>"filter"===i?-1:n.charCodeAt(0)-i.charCodeAt(0)).map(i=>this.ariaDescriptionProperties.get(i)).join(". ");this.beans.ariaAnnouncementService.announceValue(t)}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(){const e=()=>{if(!this.gridOptionsService.get("columnHoverHighlight"))return;const t=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",t)};this.addManagedListener(this.eventService,f.EVENT_COLUMN_HOVER_CHANGED,e),e()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(){const e=n=>this.handleMouseOverChange("mouseenter"===n.type);this.addManagedListener(this.getGui(),"mouseenter",e),this.addManagedListener(this.getGui(),"mouseleave",e),this.addManagedListener(this.getGui(),"click",()=>this.dispatchColumnMouseEvent(f.EVENT_COLUMN_HEADER_CLICKED,this.column)),this.addManagedListener(this.getGui(),"contextmenu",n=>this.handleContextMenuMouseEvent(n,void 0,this.column))}handleMouseOverChange(e){this.setActiveHeader(e),this.eventService.dispatchEvent({type:e?f.EVENT_COLUMN_HEADER_MOUSE_OVER:f.EVENT_COLUMN_HEADER_MOUSE_LEAVE,column:this.column})}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return t instanceof eS?t.getAnchorElementForMenu(e):this.getGui()}destroy(){super.destroy(),this.refreshFunctions=null,this.selectAllFeature=null,this.dragSourceElement=null,this.userCompDetails=null,this.userHeaderClasses=null,this.ariaDescriptionProperties=null}},ku=class extends A{constructor(e,t,i,n){super(),this.eResize=t,this.comp=e,this.pinned=i,this.columnGroup=n}postConstruct(){if(!this.columnGroup.isResizable())return void this.comp.setResizableDisplayed(!1);const e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gridOptionsService.get("suppressAutoSize")){const t=this.gridOptionsService.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{const i=[];this.columnGroup.getDisplayedLeafColumns().forEach(s=>{s.getColDef().suppressAutoSize||i.push(s.getColId())}),i.length>0&&this.columnModel.autoSizeColumns({columns:i,skipHeader:t,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(e){const t=this.getInitialValues(e);this.storeLocalValues(t),this.toggleColumnResizing(!0)}onResizing(e,t,i="uiColumnResized"){const n=this.normaliseDragChange(t);this.resizeColumnsFromLocalValues(this.resizeStartWidth+n,i,e)}getInitialValues(e){const t=this.getColumnsToResize(),i=this.getInitialSizeOfColumns(t),s={columnsToResize:t,resizeStartWidth:i,resizeRatios:this.getSizeRatiosOfColumns(t,i)};let r=null;if(e&&(r=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),r){const o=r.getDisplayedLeafColumns(),a=s.groupAfterColumns=o.filter(d=>d.isResizable()),l=s.groupAfterStartWidth=this.getInitialSizeOfColumns(a);s.groupAfterRatios=this.getSizeRatiosOfColumns(a,l)}else s.groupAfterColumns=void 0,s.groupAfterStartWidth=void 0,s.groupAfterRatios=void 0;return s}storeLocalValues(e){const{columnsToResize:t,resizeStartWidth:i,resizeRatios:n,groupAfterColumns:s,groupAfterStartWidth:r,groupAfterRatios:o}=e;this.resizeCols=t,this.resizeStartWidth=i,this.resizeRatios=n,this.resizeTakeFromCols=s,this.resizeTakeFromStartWidth=r,this.resizeTakeFromRatios=o}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(e){const t=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),i=this.getInitialValues();t>i.resizeStartWidth&&this.resizeColumns(i,t,e,!0)}resizeColumnsFromLocalValues(e,t,i=!0){var n,s,r;if(!this.resizeCols||!this.resizeRatios)return;const o={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:null!=(n=this.resizeTakeFromCols)?n:void 0,groupAfterStartWidth:null!=(s=this.resizeTakeFromStartWidth)?s:void 0,groupAfterRatios:null!=(r=this.resizeTakeFromRatios)?r:void 0};this.resizeColumns(o,e,t,i)}resizeColumns(e,t,i,n=!0){const{columnsToResize:s,resizeStartWidth:r,resizeRatios:o,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:d}=e,c=[];c.push({columns:s,ratios:o,width:t}),a&&c.push({columns:a,ratios:d,width:l-(t-r)}),this.columnModel.resizeColumnSets({resizeSets:c,finished:n,source:i}),n&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}getInitialSizeOfColumns(e){return e.reduce((t,i)=>t+i.getActualWidth(),0)}getSizeRatiosOfColumns(e,t){return e.map(i=>i.getActualWidth()/t)}normaliseDragChange(e){let t=e;return this.gridOptionsService.get("enableRtl")?"left"!==this.pinned&&(t*=-1):"right"===this.pinned&&(t*=-1),t}destroy(){super.destroy(),this.clearLocalValues()}};h([g("horizontalResizeService")],ku.prototype,"horizontalResizeService",2),h([g("autoWidthCalculator")],ku.prototype,"autoWidthCalculator",2),h([g("columnModel")],ku.prototype,"columnModel",2),h([I],ku.prototype,"postConstruct",1);var Ik=class extends A{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,Lt.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.addEventListener("widthChanged",e),t.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.removeEventListener("widthChanged",e),t.removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",0===e)}};h([I],Ik.prototype,"postConstruct",1);var Fee=class extends rg{constructor(e,t,i){super(e,t,i),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){const n=this.getGui();this.setDragSource(n)}},this.column=e}setComp(e,t,i){this.comp=e,this.setGui(t),this.displayName=this.beans.columnModel.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.addDestroyFunc(()=>{this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature))}),this.setupUserComp(),this.addHeaderMouseListeners();const n=this.getParentRowCtrl().getPinned(),s=this.column.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new Nu(s,t)),this.createManagedBean(new og(this.column,t,this.beans)),this.createManagedBean(new Ik(e,this.column)),this.resizeFeature=this.createManagedBean(new ku(e,i,n,this.column)),this.createManagedBean(new Br(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addManagedPropertyListener(f.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners()}resizeHeader(e,t){if(!this.resizeFeature)return;const i=this.resizeFeature.getInitialValues(t);this.resizeFeature.resizeColumns(i,i.resizeStartWidth+e,"uiColumnResized",!0)}moveHeader(e){const{beans:t,eGui:i,column:n,gridOptionsService:s,ctrlsService:r}=this,o=s.get("enableRtl"),a=0===e,l=this.getPinned(),d=i.getBoundingClientRect(),c=d.left,p=qo.normaliseX(a!==o?c-20:c+d.width+20,l,!0,s,r),m=n.getGroupId(),v=this.focusService.getFocusedHeader();qo.attemptMoveColumns({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,hDirection:e,xPosition:p,pinned:l,fromEnter:!1,fakeEvent:!1,gridOptionsService:s,columnModel:t.columnModel});const C=n.getDisplayedLeafColumns(),b=a?C[0]:Ae(C);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(b,"auto"),!this.isAlive()&&v&&this.restoreFocus(m,n,v)}restoreFocus(e,t,i){const n=t.getLeafColumns();if(!n.length)return;const s=n[0].getParent();if(!s)return;const r=this.findGroupWidthId(s,e);r&&this.focusService.focusHeaderPosition({headerPosition:ot(z({},i),{column:r})})}findGroupWidthId(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}return null}resizeLeafColumnsToFit(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)}setupUserComp(){const e=this.gridOptionsService.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:i=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),i,"gridInitializing")},setTooltip:(i,n)=>{this.setupTooltip(i,n)}}),t=this.userComponentFactory.getHeaderGroupCompDetails(e);this.comp.setUserCompDetails(t)}addHeaderMouseListeners(){const e=n=>this.handleMouseOverChange("mouseenter"===n.type);this.addManagedListener(this.getGui(),"mouseenter",e),this.addManagedListener(this.getGui(),"mouseleave",e),this.addManagedListener(this.getGui(),"click",()=>this.dispatchColumnMouseEvent(f.EVENT_COLUMN_HEADER_CLICKED,this.column.getProvidedColumnGroup())),this.addManagedListener(this.getGui(),"contextmenu",n=>this.handleContextMenuMouseEvent(n,void 0,this.column.getProvidedColumnGroup()))}handleMouseOverChange(e){const i={type:e?f.EVENT_COLUMN_HEADER_MOUSE_OVER:f.EVENT_COLUMN_HEADER_MOUSE_LEAVE,column:this.column.getProvidedColumnGroup()};this.eventService.dispatchEvent(i)}setupTooltip(e,t){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const i=this.column.getColGroupDef(),n="whenTruncated"===this.gridOptionsService.get("tooltipShowMode"),s=this.eGui;!t&&n&&!i?.headerGroupComponent&&(t=()=>{const o=s.querySelector(".ag-header-group-text");return!o||o.scrollWidth>o.clientWidth});const r={getColumn:()=>this.column,getGui:()=>s,getLocation:()=>"headerGroup",getTooltipValue:()=>e??(i&&i.headerTooltip),shouldDisplayTooltip:t};i&&(r.getColDef=()=>i),this.createBean(new lr(r))}setupExpandable(){const e=this.column.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(e,Et.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(e,Et.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))}refreshExpanded(){const e=this.column;this.expandable=e.isExpandable();const t=e.isExpanded();this.comp.setAriaExpanded(this.expandable?t?"true":"false":void 0)}getColId(){return this.column.getUniqueId()}addClasses(){const e=this.column.getColGroupDef(),t=tg.getHeaderClassesFromColDef(e,this.gridOptionsService,null,this.column);this.column.isPadding()?(t.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every(n=>n.isSpanHeaderHeight())&&t.push("ag-header-span-height")):t.push("ag-header-group-cell-with-group"),t.forEach(i=>this.comp.addOrRemoveCssClass(i,!0))}setupMovingCss(){const t=this.column.getProvidedColumnGroup().getLeafColumns(),i=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());t.forEach(n=>{this.addManagedListener(n,ze.EVENT_MOVING_CHANGED,i)}),i()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){const t=this.getRowIndex();this.beans.focusService.setFocusedHeader(t,this.column)}}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(this.expandable&&t&&e.key===S.ENTER){const i=this.column,n=!i.isExpanded();this.beans.columnModel.setColumnGroupOpened(i.getProvidedColumnGroup(),n,"uiColumnExpanded")}}setDragSource(e){if(!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),!e))return;const{beans:t,column:i,displayName:n,gridOptionsService:s,dragAndDropService:r}=this,{columnModel:o}=t,a=i.getProvidedColumnGroup().getLeafColumns();let l=!s.get("suppressDragLeaveHidesColumns");const d=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>l?ie.ICON_HIDE:ie.ICON_NOT_ALLOWED,dragItemName:n,getDragItem:()=>this.getDragItemForGroup(i),onDragStarted:()=>{l=!s.get("suppressDragLeaveHidesColumns"),a.forEach(c=>c.setMoving(!0,"uiColumnDragged"))},onDragStopped:()=>a.forEach(c=>c.setMoving(!1,"uiColumnDragged")),onGridEnter:c=>{var u;if(l){const p=(null==(u=c?.columns)?void 0:u.filter(m=>!m.getColDef().lockVisible))||[];o.setColumnsVisible(p,!0,"uiColumnMoved")}},onGridExit:c=>{var u;if(l){const p=(null==(u=c?.columns)?void 0:u.filter(m=>!m.getColDef().lockVisible))||[];o.setColumnsVisible(p,!1,"uiColumnMoved")}}};r.addDragSource(d,!0)}getDragItemForGroup(e){const t=e.getProvidedColumnGroup().getLeafColumns(),i={};t.forEach(s=>i[s.getId()]=s.isVisible());const n=[];return this.beans.columnModel.getAllDisplayedColumns().forEach(s=>{t.indexOf(s)>=0&&(n.push(s),ji(t,s))}),t.forEach(s=>n.push(s)),{columns:n,visibleState:i}}isSuppressMoving(){let e=!1;return this.column.getLeafColumns().forEach(i=>{(i.getColDef().suppressMovable||i.getColDef().lockPosition)&&(e=!0)}),e||this.gridOptionsService.get("suppressMovableColumns")}},Oee=0,Vu=class extends A{constructor(e,t,i){super(),this.instanceId=Oee++,this.rowIndex=e,this.pinned=t,this.type=i,this.headerRowClass="ag-header-row "+("group"==i?"ag-header-row-column-group":"filter"==i?"ag-header-row-column-filter":"ag-header-row-column")}postConstruct(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.isEnsureDomOrder=this.gridOptionsService.get("ensureDomOrder")}getInstanceId(){return this.instanceId}setComp(e,t=!0){this.comp=e,t&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(){this.addManagedListener(this.eventService,f.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,f.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,f.EVENT_VIRTUAL_COLUMNS_CHANGED,e=>this.onVirtualColumnsChanged(e.afterScroll)),this.addManagedListener(this.eventService,f.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,f.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,f.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",e=>this.isEnsureDomOrder=e.currentValue),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))}getHeaderCellCtrl(e){if(this.headerCellCtrls)return Io(this.headerCellCtrls).find(t=>t.getColumnGroupChild()===e)}onDisplayedColumnsChanged(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{columnModel:e}=this.beans;return this.isPrintLayout?null!=this.pinned?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){var{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){const{columnModel:e,filterManager:t}=this.beans;let i=e.getHeaderRowCount();const n=[];let s=0;t.hasFloatingFilters()&&(i++,s=1);const r=e.getColumnGroupHeaderRowHeight(),o=e.getColumnHeaderRowHeight(),l=i-(1+s);for(let u=0;u<l;u++)n.push(r);n.push(o);for(let u=0;u<s;u++)n.push(e.getFloatingFiltersHeight());let d=0;for(let u=0;u<this.rowIndex;u++)d+=n[u];return{topOffset:d,rowHeight:n[this.rowIndex]}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(e=!1){const t=this.getHeaderCtrls();this.comp.setHeaderCtrls(t,this.isEnsureDomOrder||this.isPrintLayout,e)}getHeaderCtrls(){const e=this.headerCellCtrls;this.headerCellCtrls=new Map;const t=this.getColumnsInViewport();for(const s of t)this.recycleAndCreateHeaderCtrls(s,e);const i=s=>{const{focusService:r,columnModel:o}=this.beans;return!!r.isHeaderWrapperFocused(s)&&o.isDisplayed(s.getColumnGroupChild())};if(e)for(const[s,r]of e)i(r)?this.headerCellCtrls.set(s,r):this.destroyBean(r);return Array.from(this.headerCellCtrls.values())}recycleAndCreateHeaderCtrls(e,t){if(!this.headerCellCtrls||e.isEmptyGroup())return;const i=e.getUniqueId();let n;if(t&&(n=t.get(i),t.delete(i)),n&&n.getColumnGroupChild()!=e&&(this.destroyBean(n),n=void 0),null==n)switch(this.type){case"filter":n=this.createBean(new Mee(e,this.beans,this));break;case"group":n=this.createBean(new Fee(e,this.beans,this));break;default:n=this.createBean(new Iee(e,this.beans,this))}this.headerCellCtrls.set(i,n)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(null!=this.pinned)return[];let e=[];const t=this.getActualDepth(),{columnModel:i}=this.beans;return["left",null,"right"].forEach(n=>{const s=i.getVirtualHeaderGroupRow(n,t);e=e.concat(s)}),e}getActualDepth(){return"filter"==this.type?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())}focusHeader(e,t){if(!this.headerCellCtrls)return!1;const n=Array.from(this.headerCellCtrls.values()).find(s=>s.getColumnGroupChild()==e);return!!n&&n.focus(t)}destroy(){this.headerCellCtrls&&this.headerCellCtrls.forEach(e=>{this.destroyBean(e)}),this.headerCellCtrls=void 0,super.destroy()}};h([g("beans")],Vu.prototype,"beans",2),h([I],Vu.prototype,"postConstruct",1);var Ko=class extends A{constructor(e){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=e}setComp(e,t){this.comp=e,this.eViewport=t,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,f.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,f.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,f.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()}setupDragAndDrop(e){const t=new Xl(this.pinned,e);this.createManagedBean(t)}refresh(e=!1){const t=new Wl,i=this.focusService.getFocusHeaderToUseAfterRefresh();(()=>{const a=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let l=0;l<a;l++){const d=this.createBean(new Vu(t.next(),this.pinned,"group"));this.groupsRowCtrls.push(d)}})(),(()=>{const a=t.next(),l=!(this.hidden||null!=this.columnsRowCtrl&&e&&this.columnsRowCtrl.getRowIndex()===a);(l||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),l&&(this.columnsRowCtrl=this.createBean(new Vu(a,this.pinned,"column")))})(),(()=>{this.includeFloatingFilter=this.filterManager.hasFloatingFilters()&&!this.hidden;const a=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter)return void a();const l=t.next();if(this.filtersRowCtrl){const d=this.filtersRowCtrl.getRowIndex()!==l;(!e||d)&&a()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new Vu(l,this.pinned,"filter")))})();const o=this.getAllCtrls();this.comp.setCtrls(o),this.restoreFocusOnHeader(i)}restoreFocusOnHeader(e){null==e||e.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:e})}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){const e=this.filterManager.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)}setupCenterWidth(){null==this.pinned&&this.createManagedBean(new Kl(e=>this.comp.setCenterWidth(`${e}px`),!0))}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}setupPinnedWidth(){if(null==this.pinned)return;const e="left"===this.pinned,t="right"===this.pinned;this.hidden=!0;const i=()=>{const n=e?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(null==n)return;const s=0==n,r=this.hidden!==s,o=this.gridOptionsService.get("enableRtl"),a=this.gridOptionsService.getScrollbarWidth(),d=this.scrollVisibleService.isVerticalScrollShowing()&&(o&&e||!o&&t)?n+a:n;this.comp.setPinnedContainerWidth(`${d}px`),this.comp.setDisplayed(!s),r&&(this.hidden=s,this.refresh())};this.addManagedListener(this.eventService,f.EVENT_LEFT_PINNED_WIDTH_CHANGED,i),this.addManagedListener(this.eventService,f.EVENT_RIGHT_PINNED_WIDTH_CHANGED,i),this.addManagedListener(this.eventService,f.EVENT_SCROLL_VISIBILITY_CHANGED,i),this.addManagedListener(this.eventService,f.EVENT_SCROLLBAR_WIDTH_CHANGED,i)}getHeaderCtrlForColumn(e){if(e instanceof ze)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(e):void 0;if(0!==this.groupsRowCtrls.length)for(let t=0;t<this.groupsRowCtrls.length;t++){const i=this.groupsRowCtrls[t].getHeaderCellCtrl(e);if(i)return i}}getHtmlElementForColumnHeader(e){const t=this.getHeaderCtrlForColumn(e);return t?t.getGui():null}getRowType(e){const i=this.getAllCtrls()[e];return i?i.getType():void 0}focusHeader(e,t,i){const s=this.getAllCtrls()[e];return!!s&&s.focusHeader(t,i)}getViewport(){return this.eViewport}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}};h([g("ctrlsService")],Ko.prototype,"ctrlsService",2),h([g("scrollVisibleService")],Ko.prototype,"scrollVisibleService",2),h([g("pinnedWidthService")],Ko.prototype,"pinnedWidthService",2),h([g("columnModel")],Ko.prototype,"columnModel",2),h([g("focusService")],Ko.prototype,"focusService",2),h([g("filterManager")],Ko.prototype,"filterManager",2);var Yo=class Bg extends ee{constructor(t){super(),this.headerRowComps={},this.rowCompsList=[],this.pinned=t}init(){this.selectAndSetTemplate();const t={setDisplayed:n=>this.setDisplayed(n),setCtrls:n=>this.setCtrls(n),setCenterWidth:n=>this.eCenterContainer.style.width=n,setViewportScrollLeft:n=>this.getGui().scrollLeft=n,setPinnedContainerWidth:n=>{const s=this.getGui();s.style.width=n,s.style.maxWidth=n,s.style.minWidth=n}};this.createManagedBean(new Ko(this.pinned)).setComp(t,this.getGui())}selectAndSetTemplate(){this.setTemplate("left"==this.pinned?Bg.PINNED_LEFT_TEMPLATE:"right"==this.pinned?Bg.PINNED_RIGHT_TEMPLATE:Bg.CENTER_TEMPLATE),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()}destroyRowComps(){this.setCtrls([])}destroyRowComp(t){this.destroyBean(t),this.eRowContainer.removeChild(t.getGui())}setCtrls(t){const i=this.headerRowComps;let n;this.headerRowComps={},this.rowCompsList=[];const s=r=>{const o=r.getGui();o.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(o),n&&G_(this.eRowContainer,o,n),n=o};t.forEach(r=>{const o=r.getInstanceId(),a=i[o];delete i[o];const l=a||this.createBean(new uS(r));this.headerRowComps[o]=l,this.rowCompsList.push(l),s(l)}),Vr(i).forEach(r=>this.destroyRowComp(r))}};Yo.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="rowgroup"></div>',Yo.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="rowgroup"></div>',Yo.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',h([N("eCenterContainer")],Yo.prototype,"eCenterContainer",2),h([I],Yo.prototype,"init",1),h([Fi],Yo.prototype,"destroyRowComps",1);var pS=Yo,Qo=class extends A{constructor(){super(...arguments),this.currentHeaderRowWithoutSpan=-1}postConstruct(){this.ctrlsService.whenReady(t=>{this.gridBodyCon=t.gridBodyCtrl});const e=this.gridOptionsService.getDocument();this.addManagedListener(e,"mousedown",()=>this.setCurrentHeaderRowWithoutSpan(-1))}getHeaderRowCount(){const e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0}navigateVertically(e,t,i){if(t||(t=this.focusService.getFocusedHeader()),!t)return!1;const{headerRowIndex:n,column:s}=t,r=this.getHeaderRowCount(),o=0===e;let{headerRowIndex:a,column:l,headerRowIndexWithoutSpan:d}=o?this.headerPositionUtils.getColumnVisibleParent(s,n):this.headerPositionUtils.getColumnVisibleChild(s,n),c=!1;return a<0&&(a=0,l=s,c=!0),a>=r?(a=-1,this.setCurrentHeaderRowWithoutSpan(-1)):void 0!==d&&(this.currentHeaderRowWithoutSpan=d),!(!c&&!l)&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a,column:l},allowUserOverride:!0,event:i})}setCurrentHeaderRowWithoutSpan(e){this.currentHeaderRowWithoutSpan=e}navigateHorizontally(e,t=!1,i){const n=this.focusService.getFocusedHeader(),s=2===e,r=this.gridOptionsService.get("enableRtl");let o,a;return-1!==this.currentHeaderRowWithoutSpan?n.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=n.headerRowIndex,s!==r?(a="Before",o=this.headerPositionUtils.findHeader(n,a)):(a="After",o=this.headerPositionUtils.findHeader(n,a)),o||!t?this.focusService.focusHeaderPosition({headerPosition:o,direction:a,fromTab:t,allowUserOverride:!0,event:i}):this.focusNextHeaderRow(n,a,i)}focusNextHeaderRow(e,t,i){const n=e.headerRowIndex;let r,s=null;if("Before"===t?n>0&&(r=n-1,this.currentHeaderRowWithoutSpan-=1,s=this.headerPositionUtils.findColAtEdgeForHeaderRow(r,"end")):(r=n+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),s=this.headerPositionUtils.findColAtEdgeForHeaderRow(r,"start")),!s)return!1;const{column:o,headerRowIndex:a}=this.headerPositionUtils.getHeaderIndexToFocus(s.column,s?.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:o,headerRowIndex:a},direction:t,fromTab:!0,allowUserOverride:!0,event:i})}scrollToColumn(e,t="After"){if(e.getPinned())return;let i;if(e instanceof Lt){const n=e.getDisplayedLeafColumns();i="Before"===t?Ae(n):n[0]}else i=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(i)}};h([g("focusService")],Qo.prototype,"focusService",2),h([g("headerPositionUtils")],Qo.prototype,"headerPositionUtils",2),h([g("ctrlsService")],Qo.prototype,"ctrlsService",2),h([I],Qo.prototype,"postConstruct",1),Qo=h([V("headerNavigationService")],Qo);var Zo=class extends A{setComp(e,t,i){this.comp=e,this.eGui=t,this.createManagedBean(new Br(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,f.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,f.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight();const n=this.onHeaderContextMenu.bind(this);this.addManagedListener(this.eGui,"contextmenu",n),this.mockContextMenuForIPad(n),this.ctrlsService.registerGridHeaderCtrl(this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListener("headerHeight",e),this.addManagedPropertyListener("pivotHeaderHeight",e),this.addManagedPropertyListener("groupHeaderHeight",e),this.addManagedPropertyListener("pivotGroupHeaderHeight",e),this.addManagedPropertyListener("floatingFiltersHeight",e),this.addManagedListener(this.eventService,f.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,f.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,e),this.addManagedListener(this.eventService,f.EVENT_GRID_STYLES_CHANGED,e),this.addManagedListener(this.eventService,f.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,e)}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){const{columnModel:e}=this;let n,t=0,i=e.getHeaderRowCount();this.filterManager.hasFloatingFilters()&&(i++,t=1);const r=this.columnModel.getColumnGroupHeaderRowHeight(),o=this.columnModel.getColumnHeaderRowHeight(),l=i-(1+t);n=t*e.getFloatingFiltersHeight(),n+=l*r,n+=o,this.headerHeight!==n&&(this.headerHeight=n,this.comp.setHeightAndMinHeight(`${n+1}px`),this.eventService.dispatchEvent({type:f.EVENT_HEADER_HEIGHT_CHANGED}))}onPivotModeChanged(){const e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)}onDisplayedColumnsChanged(){const t=this.columnModel.getAllDisplayedColumns().some(i=>i.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",t)}onTabKeyDown(e){const t=this.gridOptionsService.get("enableRtl");(this.headerNavigationService.navigateHorizontally(e.shiftKey!==t?2:3,!0,e)||this.focusService.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()}handleKeyDown(e){let t=null;switch(e.key){case S.LEFT:t=2;case S.RIGHT:R(t)||(t=3),this.headerNavigationService.navigateHorizontally(t,!1,e);break;case S.UP:t=0;case S.DOWN:R(t)||(t=1),this.headerNavigationService.navigateVertically(t,null,e)&&e.preventDefault();break;default:return}}onFocusOut(e){const t=this.gridOptionsService.getDocument(),{relatedTarget:i}=e;!i&&this.eGui.contains(t.activeElement)||this.eGui.contains(i)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(e,t,i){if(!e&&!i||!this.menuService.isHeaderContextMenuEnabled())return;const{target:n}=e??t;(n===this.eGui||n===this.ctrlsService.getHeaderRowContainerCtrl().getViewport())&&this.menuService.showHeaderContextMenu(void 0,e,i)}mockContextMenuForIPad(e){if(!ar())return;const t=new Jt(this.eGui);this.addManagedListener(t,Jt.EVENT_LONG_TAP,n=>{e(void 0,n.touchStart,n.touchEvent)}),this.addDestroyFunc(()=>t.destroy())}};h([g("headerNavigationService")],Zo.prototype,"headerNavigationService",2),h([g("focusService")],Zo.prototype,"focusService",2),h([g("columnModel")],Zo.prototype,"columnModel",2),h([g("ctrlsService")],Zo.prototype,"ctrlsService",2),h([g("filterManager")],Zo.prototype,"filterManager",2),h([g("menuService")],Zo.prototype,"menuService",2);var fS=class aV extends ee{constructor(){super(aV.TEMPLATE)}postConstruct(){const t={addOrRemoveCssClass:(s,r)=>this.addOrRemoveCssClass(s,r),setHeightAndMinHeight:s=>{this.getGui().style.height=s,this.getGui().style.minHeight=s}};this.createManagedBean(new Zo).setComp(t,this.getGui(),this.getFocusableElement());const n=s=>{this.createManagedBean(s),this.appendChild(s)};n(new pS("left")),n(new pS(null)),n(new pS("right"))}};fS.TEMPLATE='<div class="ag-header" role="presentation"/>',h([I],fS.prototype,"postConstruct",1);var Lee=fS,Gu=class extends A{addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(t),()=>this.dragService.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const i=t instanceof MouseEvent&&!0===t.shiftKey;e.onResizeStart(i)}setResizeIcons(){const e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e,t){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}};h([g("dragService")],Gu.prototype,"dragService",2),h([g("ctrlsService")],Gu.prototype,"ctrlsService",2),Gu=h([V("horizontalResizeService")],Gu);var zr=class extends A{hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(e,t,i){this.showPopup(e,n=>{this.popupService.positionPopupUnderMouseEvent({column:e,type:i,mouseEvent:t,ePopup:n})},i,t.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(e,t,i){let n=-1,s="left";const r=this.menuService.isLegacyMenuEnabled();!r&&this.gridOptionsService.get("enableRtl")&&(n=1,s="right");let o=r?void 0:4*n,a=r?void 0:4;this.showPopup(e,l=>{this.popupService.positionPopupByComponent({type:i,eventSource:t,ePopup:l,nudgeX:o,nudgeY:a,alignSide:s,keepWithinBounds:!0,position:"under",column:e})},i,t,r)}showPopup(e,t,i,n,s){const r=e?this.filterManager.getOrCreateFilterWrapper(e,"COLUMN_MENU"):void 0;if(!r||!e)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const o=document.createElement("div");let a;ht(o,"presentation"),o.classList.add("ag-menu"),s||o.classList.add("ag-filter-menu"),this.tabListener=this.addManagedListener(o,"keydown",v=>this.trapFocusWithin(v,o)),r.guiPromise.then(v=>o.appendChild(v));const d=this.menuService.isColumnMenuAnchoringEnabled()?n??this.ctrlsService.getGridBodyCtrl().getGui():void 0,u=this.localeService.getLocaleTextFunc(),p=s&&"columnFilter"!==i?u("ariaLabelColumnMenu","Column Menu"):u("ariaLabelColumnFilter","Column Filter"),m=this.popupService.addPopup({modal:!0,eChild:o,closeOnEsc:!0,closedCallback:v=>{e.setMenuVisible(!1,"contextMenu");const C=v instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),C&&n&&hn(n)){const b=this.focusService.findTabbableParent(n);b&&b.focus()}(()=>{var v;null==(v=r.filterPromise)||v.then(C=>{var b;return null==(b=C?.afterGuiDetached)?void 0:b.call(C)})})(),this.dispatchVisibleChangedEvent(!1,i,e)},positionCallback:()=>t(o),anchorToElement:d,ariaLabel:p});m&&(this.hidePopup=a=m.hideFunc),r.filterPromise.then(v=>{t(o),v.afterGuiAttached&&v.afterGuiAttached({container:i,hidePopup:a})}),e.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,i,e)}trapFocusWithin(e,t){e.key!==S.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,i){this.eventService.dispatchEvent({type:f.EVENT_COLUMN_MENU_VISIBLE_CHANGED,visible:e,switchingTab:!1,key:t,column:i??null})}isMenuEnabled(e){var t;return e.isFilterAllowed()&&(null!=(t=e.getColDef().menuTabs)?t:["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}};h([g("filterManager")],zr.prototype,"filterManager",2),h([g("popupService")],zr.prototype,"popupService",2),h([g("focusService")],zr.prototype,"focusService",2),h([g("ctrlsService")],zr.prototype,"ctrlsService",2),h([g("menuService")],zr.prototype,"menuService",2),zr=h([V("filterMenuFactory")],zr);var mS=class extends A{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1;const{comp:t,eTopGuard:i,eBottomGuard:n,focusTrapActive:s,forceFocusOutWhenTabGuardsAreEmpty:r,focusInnerElement:o,onFocusIn:a,onFocusOut:l,shouldStopEventPropagation:d,onTabKeyDown:c,handleKeyDown:u,eFocusableElement:p}=e;this.comp=t,this.eTopGuard=i,this.eBottomGuard=n,this.providedFocusInnerElement=o,this.eFocusableElement=p,this.focusTrapActive=!!s,this.forceFocusOutWhenTabGuardsAreEmpty=!!r,this.providedFocusIn=a,this.providedFocusOut=l,this.providedShouldStopEventPropagation=d,this.providedOnTabKeyDown=c,this.providedHandleKeyDown=u}postConstruct(){this.createManagedBean(new Br(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedListener(e,"focus",this.onFocus.bind(this)))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gridOptionsService.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.skipTabGuardFocus)return void(this.skipTabGuardFocus=!1);if(this.forceFocusOutWhenTabGuardsAreEmpty&&0===this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length)return void this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);const t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}findNextElementOutsideAndFocus(e){const t=this.gridOptionsService.getDocument(),i=this.focusService.findFocusableElements(t.body,null,!0),n=i.indexOf(e?this.eTopGuard:this.eBottomGuard);if(-1===n)return;let s,r;e?(s=0,r=n):(s=n+1,r=i.length);const o=i.slice(s,r),a=this.gridOptionsService.get("tabIndex");o.sort((l,d)=>{const c=parseInt(l.getAttribute("tabindex")||"0"),u=parseInt(d.getAttribute("tabindex")||"0");return u===a?1:c===a?-1:0===c?1:0===u?-1:c-u}),o[e?o.length-1:0].focus()}onFocusIn(e){this.focusTrapActive||(this.providedFocusIn&&this.providedFocusIn(e),this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown)return void this.providedOnTabKeyDown(e);if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const i=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),i&&(i.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e){return e===this.eTopGuard||e===this.eBottomGuard}};h([g("focusService")],mS.prototype,"focusService",2),h([I],mS.prototype,"postConstruct",1);var Hu=class extends ee{initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();const t=[this.eTopGuard,this.eBottomGuard],i={setTabIndex:n=>{t.forEach(s=>null!=n?s.setAttribute("tabindex",n):s.removeAttribute("tabindex"))}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new mS({comp:i,focusTrapActive:!!e.focusTrapActive,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:e.onFocusIn,onFocusOut:e.onFocusOut,focusInnerElement:e.focusInnerElement,handleKeyDown:e.handleKeyDown,onTabKeyDown:e.onTabKeyDown,shouldStopEventPropagation:e.shouldStopEventPropagation,forceFocusOutWhenTabGuardsAreEmpty:e.forceFocusOutWhenTabGuardsAreEmpty}))}createTabGuard(e){const t=document.createElement("div");return t.classList.add("ag-tab-guard","top"===e?"ag-tab-guard-top":"ag-tab-guard-bottom"),ht(t,"presentation"),t}addTabGuards(e,t){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];It(this.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t){Du(e)||(e=e.getGui());const{eBottomGuard:i}=this;i?i.insertAdjacentElement("beforebegin",e):super.appendChild(e,t)}},ag=class lV extends Hu{constructor(t){super(lV.getTemplate(t.cssClass)),this.items=[],this.tabbedItemScrollMap=new Map,this.params=t}postConstruct(){this.setupHeader(),this.params.items&&this.params.items.forEach(t=>this.addItem(t)),this.initialiseTabGuard({onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),focusInnerElement:this.focusInnerElement.bind(this),focusTrapActive:!0}),this.addDestroyFunc(()=>{var t,i,n;return null==(n=null==(i=null==(t=this.activeItem)?void 0:t.tabbedItem)?void 0:i.afterDetachedCallback)?void 0:n.call(i)})}static getTemplate(t){return`<div class="ag-tabs ${t}">\n            <div ref="eHeader"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body ${t?`${t}-body`:""}"></div>\n        </div>`}setupHeader(){const{enableCloseButton:t,cssClass:i}=this.params,n=(s,r)=>{s.classList.add(`ag-tabs-${r}`),i&&s.classList.add(`${i}-${r}`)};t?(this.setupCloseButton(n),this.eTabHeader=this.gridOptionsService.getDocument().createElement("div"),n(this.eHeader,"header-wrapper"),ht(this.eHeader,"presentation"),this.eHeader.appendChild(this.eTabHeader)):this.eTabHeader=this.eHeader,ht(this.eTabHeader,"tablist"),n(this.eTabHeader,"header")}setupCloseButton(t){const i=this.gridOptionsService.getDocument(),n=i.createElement("button");t(n,"close-button");const s=ct("close",this.gridOptionsService,void 0,!0);is(n,this.params.closeButtonAriaLabel),n.appendChild(s),this.addManagedListener(n,"click",()=>{var o,a;return null==(a=(o=this.params).onCloseClicked)?void 0:a.call(o)});const r=i.createElement("div");t(r,"close-button-wrapper"),ht(r,"presentation"),r.appendChild(n),this.eHeader.appendChild(r),this.eCloseButton=n}handleKeyDown(t){const i=this.gridOptionsService.getDocument();switch(t.key){case S.RIGHT:case S.LEFT:if(!this.eTabHeader.contains(i.activeElement))return;const n=t.key===S.RIGHT,s=this.gridOptionsService.get("enableRtl"),r=this.items.indexOf(this.activeItem),o=n!==s?Math.min(r+1,this.items.length-1):Math.max(r-1,0);if(r===o)return;t.preventDefault();const a=this.items[o];this.showItemWrapper(a),a.eHeaderButton.focus();break;case S.UP:case S.DOWN:t.stopPropagation()}}onTabKeyDown(t){var i,n,s,r;if(t.defaultPrevented)return;const{focusService:o,eHeader:a,eBody:l,activeItem:d,params:c}=this,{suppressTrapFocus:u,enableCloseButton:p}=c,v=this.gridOptionsService.getDocument().activeElement,C=t.target,b=t.shiftKey;if(a.contains(v))return t.preventDefault(),void(!p||!b||null!=(i=this.eCloseButton)&&i.contains(v)?u&&b?null==(s=this.focusService.findFocusableElementBeforeTabGuard(this.gridOptionsService.getDocument().body,C))||s.focus():this.focusBody(t.shiftKey):null==(n=this.eCloseButton)||n.focus());let y=null;if(o.isTargetUnderManagedComponent(l,C)&&(b&&(y=this.focusService.findFocusableElementBeforeTabGuard(l,C)),!y&&!u&&(y=d.eHeaderButton)),!y&&l.contains(v)&&(y=o.findNextFocusableElement(l,!1,b),!y))return t.preventDefault(),void(u&&!b?this.forceFocusOutOfContainer(b):p&&!b?null==(r=this.eCloseButton)||r.focus():this.focusHeader());y&&(t.preventDefault(),y.focus())}focusInnerElement(t){t?this.focusHeader():this.focusBody(!0)}focusHeader(t){this.activeItem.eHeaderButton.focus({preventScroll:t})}focusBody(t){this.focusService.focusInto(this.eBody,t)}setAfterAttachedParams(t){this.afterAttachedParams=t}showFirstItem(){this.items.length>0&&this.showItemWrapper(this.items[0])}addItem(t){const i=document.createElement("span");ht(i,"tab"),i.setAttribute("tabindex","-1"),i.appendChild(t.title),i.classList.add("ag-tab"),this.eTabHeader.appendChild(i),is(i,t.titleLabel);const n={tabbedItem:t,eHeaderButton:i};this.items.push(n),i.addEventListener("click",this.showItemWrapper.bind(this,n))}showItem(t){const i=this.items.find(n=>n.tabbedItem===t);i&&this.showItemWrapper(i)}showItemWrapper(t){var i,n,s,r,o,a;const{tabbedItem:l,eHeaderButton:d}=t;null==(n=(i=this.params).onItemClicked)||n.call(i,{item:l}),this.activeItem!==t?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),It(this.eBody),l.bodyPromise.then(c=>{this.eBody.appendChild(c);const u=!this.focusService.isKeyboardMode();if(this.params.suppressFocusBodyOnOpen||this.focusService.focusInto(this.eBody,!1,u),l.afterAttachedCallback&&l.afterAttachedCallback(this.afterAttachedParams),this.params.keepScrollPosition){const p=l.getScrollableContainer&&l.getScrollableContainer()||c;this.lastScrollListener=this.addManagedListener(p,"scroll",()=>{this.tabbedItemScrollMap.set(l.name,p.scrollTop)});const m=this.tabbedItemScrollMap.get(l.name);void 0!==m&&setTimeout(()=>{p.scrollTop=m},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),null==(a=(o=this.activeItem.tabbedItem).afterDetachedCallback)||a.call(o)),d.classList.add("ag-tab-selected"),this.activeItem=t):null==(r=(s=this.params).onActiveItemClicked)||r.call(s)}};h([g("focusService")],ag.prototype,"focusService",2),h([N("eHeader")],ag.prototype,"eHeader",2),h([N("eBody")],ag.prototype,"eBody",2),h([I],ag.prototype,"postConstruct",1);var gS=class extends A{constructor(){super(...arguments),this.polyfillFunctions=[]}observeResize(e,t){const i=this.gridOptionsService.getWindow(),s=()=>{var a,l;let d=null!=(a=e?.clientWidth)?a:0,c=null!=(l=e?.clientHeight)?l:0,u=!0;const p=()=>{var m,v;if(u){const C=null!=(m=e?.clientWidth)?m:0,b=null!=(v=e?.clientHeight)?v:0;(C!==d||b!==c)&&(d=C,c=b,t()),this.doNextPolyfillTurn(p)}};return p(),()=>u=!1},r=this.gridOptionsService.get("suppressBrowserResizeObserver");return i.ResizeObserver&&!r?(()=>{const a=new i.ResizeObserver(t);return a.observe(e),()=>a.disconnect()})():this.getFrameworkOverrides().wrapIncoming(()=>s(),"resize-observer")}doNextPolyfillTurn(e){this.polyfillFunctions.push(e),this.schedulePolyfill()}schedulePolyfill(){this.polyfillScheduled||(this.polyfillScheduled=!0,window.setTimeout(()=>{const t=this.polyfillFunctions;this.polyfillScheduled=!1,this.polyfillFunctions=[],t.forEach(i=>i())},50))}};gS=h([V("resizeObserverService")],gS);var td=class extends A{constructor(){super(...arguments),this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}setScrollTop(e){const t=this.gridOptionsService.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,t&&0===e){const i=this.paginationProxy.getCurrentPage();i!==this.lastPage&&(this.lastPage=i,this.scrollGoingDown=!0)}this.lastScrollTop=e}init(){this.useAnimationFrame=!this.gridOptionsService.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(e){!1===this.useAnimationFrame&&console.warn(`AG Grid: AnimationFrameService.${e} called but animation frames are off`)}createTask(e,t,i){this.verifyAnimationFrameOn(i);const n={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[i],n),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((i,n)=>i.index!==n.index?t*(n.index-i.index):n.createOrder-i.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const t=this.createTasksP1,i=t.list,n=this.createTasksP2,s=n.list,r=this.destroyTasks,o=(new Date).getTime();let a=(new Date).getTime()-o;const l=e<=0,d=this.ctrlsService.getGridBodyCtrl();for(;l||a<e;){if(!d.getScrollFeature().scrollGridIfNeeded()){let u;if(i.length)this.sortTaskList(t),u=i.pop().task;else if(s.length)this.sortTaskList(n),u=s.pop().task;else{if(!r.length){this.cancelledTasks.clear();break}u=r.pop()}this.cancelledTasks.has(u)||u()}a=(new Date).getTime()-o}i.length||s.length||r.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)}requestAnimationFrame(e){const t=this.gridOptionsService.getWindow();t.requestAnimationFrame?t.requestAnimationFrame(e):t.webkitRequestAnimationFrame?t.webkitRequestAnimationFrame(e):t.setTimeout(e,0)}isQueueEmpty(){return!this.ticking}debounce(e){let t=!1;return()=>{this.isOn()?t||(t=!0,this.addDestroyTask(()=>{t=!1,e()})):window.setTimeout(e,0)}}};h([g("ctrlsService")],td.prototype,"ctrlsService",2),h([g("paginationProxy")],td.prototype,"paginationProxy",2),h([I],td.prototype,"init",1),td=h([V("animationFrameService")],td);var Bu=class extends A{postConstruct(){this.isClientSideRowModel="clientSide"===this.rowModel.getType()}expandRows(e){if(!this.isClientSideRowModel)return;const t=new Set(e);this.rowModel.forEachNode(i=>{i.id&&t.has(i.id)&&(i.expanded=!0)}),this.onGroupExpandedOrCollapsed()}getExpandedRows(){const e=[];return this.rowModel.forEachNode(({expanded:t,id:i})=>{t&&i&&e.push(i)}),e}expandAll(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)}setRowNodeExpanded(e,t,i){e&&(i&&e.parent&&-1!==e.parent.level&&this.setRowNodeExpanded(e.parent,t,i),e.setExpanded(t))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}};h([g("rowModel")],Bu.prototype,"rowModel",2),h([I],Bu.prototype,"postConstruct",1),Bu=h([V("expansionService")],Bu);var os=class extends A{postConstruct(){var e;this.activeMenuFactory=null!=(e=this.enterpriseMenuFactory)?e:this.filterMenuFactory}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const t=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(t,e,e.containerType,!0)}showHeaderContextMenu(e,t,i){this.activeMenuFactory.showMenuAfterContextMenuEvent(e,t,i)}showContextMenu(e){var t,i,n;const{column:s,anchorToElement:r,rowNode:o,value:a}=e;null==(n=this.contextMenuFactory)||n.onContextMenu(null!=(t=e.mouseEvent)?t:null,null!=(i=e.touchEvent)?i:null,o??null,s??null,a,r)}showColumnChooser(e){var t;null==(t=this.columnChooserFactory)||t.showColumnChooser(e)}hidePopupMenu(){var e;null==(e=this.contextMenuFactory)||e.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){var e;null==(e=this.columnChooserFactory)||e.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(e){const{suppressMenu:t,suppressHeaderMenuButton:i}=e.getColDef();return!(i??t)&&this.activeMenuFactory.isMenuEnabled(e)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&this.filterManager.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!e?.getColDef().suppressHeaderContextMenu&&"new"===this.getColumnMenuType()}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(ar()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return this.filterManager.isFilterAllowed(e)&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return"new"===this.getColumnMenuType()}isLegacyMenuEnabled(){return"legacy"===this.getColumnMenuType()}isFloatingFilterButtonEnabled(e){var t;const i=e.getColDef(),n=null==(t=i.floatingFilterComponentParams)?void 0:t.suppressFilterButton;return null!=n&&$("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),null==i.suppressFloatingFilterButton?!n:!i.suppressFloatingFilterButton}getColumnMenuType(){var e;return null!=(e=this.gridOptionsService.get("columnMenu"))?e:"legacy"}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gridOptionsService.get("suppressMenuHide");return!this.isLegacyMenuEnabled()&&!this.gridOptionsService.exists("suppressMenuHide")||e}showColumnMenuCommon(e,t,i,n){const{column:s,positionBy:r}=t;if("button"===r){const{buttonElement:o}=t;e.showMenuAfterButtonClick(s,o,i,n)}else if("mouse"===r){const{mouseEvent:o}=t;e.showMenuAfterMouseEvent(s,o,i,n)}else s&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(s,"auto"),this.animationFrameService.requestAnimationFrame(()=>{const o=this.ctrlsService.getHeaderRowContainerCtrl(s.getPinned()).getHeaderCtrlForColumn(s);e.showMenuAfterButtonClick(s,o.getAnchorElementForMenu(n),i,!0)}))}};h([De("enterpriseMenuFactory")],os.prototype,"enterpriseMenuFactory",2),h([g("filterMenuFactory")],os.prototype,"filterMenuFactory",2),h([De("contextMenuFactory")],os.prototype,"contextMenuFactory",2),h([g("ctrlsService")],os.prototype,"ctrlsService",2),h([g("animationFrameService")],os.prototype,"animationFrameService",2),h([De("columnChooserFactory")],os.prototype,"columnChooserFactory",2),h([g("filterManager")],os.prototype,"filterManager",2),h([I],os.prototype,"postConstruct",1),os=h([V("menuService")],os);var Xo=class extends A{postConstruct(){this.ctrlsService.whenReady(e=>{this.centerRowContainerCtrl=e.centerRowContainerCtrl})}getPreferredWidthForColumn(e,t){const i=this.getHeaderCellForColumn(e);if(!i)return-1;const n=this.rowRenderer.getAllCellsForColumn(e);return t||n.push(i),this.addElementsToContainerAndGetWidth(n)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1}addElementsToContainerAndGetWidth(e){const t=document.createElement("form");t.style.position="fixed";const i=this.centerRowContainerCtrl.getContainerElement();e.forEach(r=>this.cloneItemIntoDummy(r,t)),i.appendChild(t);const n=t.offsetWidth;return i.removeChild(t),n+this.getAutoSizePadding()}getAutoSizePadding(){return this.gridOptionsService.get("autoSizePadding")}getHeaderCellForColumn(e){let t=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(i=>{const n=i.getHtmlElementForColumnHeader(e);null!=n&&(t=n)}),t}cloneItemIntoDummy(e,t){const i=e.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";const n=document.createElement("div"),s=n.classList;["ag-header-cell","ag-header-group-cell"].some(a=>i.classList.contains(a))?(s.add("ag-header","ag-header-row"),n.style.position="static"):s.add("ag-row");let o=e.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(l=>o.classList.contains(l))){for(let l=0;l<o.classList.length;l++){const d=o.classList[l];"ag-row-position-absolute"!=d&&s.add(d)}break}o=o.parentElement}n.appendChild(i),t.appendChild(n)}};h([g("rowRenderer")],Xo.prototype,"rowRenderer",2),h([g("ctrlsService")],Xo.prototype,"ctrlsService",2),h([g("rowCssClassCalculator")],Xo.prototype,"rowCssClassCalculator",2),h([I],Xo.prototype,"postConstruct",1),Xo=h([V("autoWidthCalculator")],Xo);var Uu=class extends A{constructor(e,t){super(),this.createRowCon=e,this.destroyRowCtrls=t,this.stickyRowCtrls=[],this.containerHeight=0}postConstruct(){this.isClientSide="clientSide"===this.rowModel.getType(),this.ctrlsService.whenReady(e=>{this.gridBodyCtrl=e.gridBodyCtrl})}getStickyRowCtrls(){return this.stickyRowCtrls}checkStickyRows(){let e=0;if(!this.gridOptionsService.isGroupRowsSticky())return this.refreshNodesAndContainerHeight([],e);const t=[],i=this.rowRenderer.getFirstVisibleVerticalPixel(),n=r=>{var o,a,l;let d;if(t.push(r),this.isClientSide){let u=r;for(;u.isExpandable()&&u.expanded;)if(u.master)u=u.detailNode;else if(u.childrenAfterSort){if(0===u.childrenAfterSort.length)break;u=Ae(u.childrenAfterSort)}d=u.rowTop+u.rowHeight}else if(r.master)d=r.detailNode.rowTop+r.detailNode.rowHeight;else{const u=null==(o=r.childStore)?void 0:o.getStoreBounds();d=(null!=(a=u?.heightPx)?a:0)+(null!=(l=u?.topPx)?l:0)}const c=i+e+r.rowHeight;r.stickyRowTop=d<c?e+(d-c):e,e=0,t.forEach(u=>{const p=u.stickyRowTop+u.rowHeight;e<p&&(e=p)})};let s=0;for(;;){const r=i+e,o=this.rowModel.getRowIndexAtPixel(r),a=this.rowModel.getRow(o);if(null==a||a.level<0||100==s++)break;const l=[];let d=a.parent;for(;d.level>=0;)l.push(d),d=d.parent;const c=l.reverse().find(u=>t.indexOf(u)<0&&u.displayed);if(c)n(c);else{if(!(a.isExpandable()&&a.expanded&&a.rowTop<r))break;n(a)}}return this.refreshNodesAndContainerHeight(t,e)}refreshStickyNode(e){const t=[];for(let i=0;i<this.stickyRowCtrls.length;i++){const n=this.stickyRowCtrls[i].getRowNode();n!==e&&t.push(n)}this.refreshNodesAndContainerHeight(t,this.containerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(e,t){let i=!1;const n=this.stickyRowCtrls.filter(a=>-1===e.indexOf(a.getRowNode())),s=e.filter(a=>-1===this.stickyRowCtrls.findIndex(l=>l.getRowNode()===a));(n.length||s.length)&&(i=!0);const r={};n.forEach(a=>{r[a.getRowNode().id]=a,this.stickyRowCtrls=this.stickyRowCtrls.filter(l=>l!==a)});for(const a of Object.values(r))a.getRowNode().sticky=!1;this.destroyRowCtrls(r,!1);const o=s.map(a=>(a.sticky=!0,this.createRowCon(a,!1,!1)));return this.stickyRowCtrls.push(...o),this.stickyRowCtrls.forEach(a=>a.setRowTop(a.getRowNode().stickyRowTop)),this.stickyRowCtrls.sort((a,l)=>l.getRowNode().rowIndex-a.getRowNode().rowIndex),this.containerHeight!==t&&(this.containerHeight=t,this.gridBodyCtrl.setStickyTopHeight(t),i=!0),i}};h([g("rowModel")],Uu.prototype,"rowModel",2),h([g("rowRenderer")],Uu.prototype,"rowRenderer",2),h([g("ctrlsService")],Uu.prototype,"ctrlsService",2),h([I],Uu.prototype,"postConstruct",1);var fn=class extends A{constructor(){super(...arguments),this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(r=>r.onRangeSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(r=>r.updateRangeBordersIfRangeCount())},i=()=>{this.eventService.addEventListener(f.EVENT_RANGE_SELECTION_CHANGED,e),this.eventService.addEventListener(f.EVENT_COLUMN_MOVED,t),this.eventService.addEventListener(f.EVENT_COLUMN_PINNED,t),this.eventService.addEventListener(f.EVENT_COLUMN_VISIBLE,t)},n=()=>{this.eventService.removeEventListener(f.EVENT_RANGE_SELECTION_CHANGED,e),this.eventService.removeEventListener(f.EVENT_COLUMN_MOVED,t),this.eventService.removeEventListener(f.EVENT_COLUMN_PINNED,t),this.eventService.removeEventListener(f.EVENT_COLUMN_VISIBLE,t)};this.addDestroyFunc(()=>n()),this.addManagedPropertyListener("enableRangeSelection",r=>{r.currentValue?i():n()}),this.gridOptionsService.get("enableRangeSelection")&&i()}}postConstruct(){this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl(),this.initialise()})}initialise(){if(this.addManagedListener(this.eventService,f.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,f.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,f.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,f.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,f.EVENT_BODY_HEIGHT_CHANGED,this.redraw.bind(this)),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListeners(["suppressCellFocus","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.gridOptionsService.isGroupRowsSticky()){const e=this.rowModel.getType();("clientSide"===e||"serverSide"===e)&&(this.stickyRowFeature=this.createManagedBean(new Uu(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gridOptionsService.get("keepDetailRows")){const e=this.getKeepDetailRowsCount();this.cachedRowCtrls=new Gee(e??3)}}getKeepDetailRowsCount(){return this.gridOptionsService.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]}updateAllRowCtrls(){const e=Vr(this.rowCtrlsByRowIndex),t=Vr(this.zombieRowCtrls),i=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=t.length>0||i.length>0?[...e,...t,...i]:e}onCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}registerCellEventListeners(){this.addManagedListener(this.eventService,f.EVENT_CELL_FOCUSED,e=>{this.onCellFocusChanged(e)}),this.addManagedListener(this.eventService,f.EVENT_CELL_FOCUS_CLEARED,()=>{this.onCellFocusChanged()}),this.addManagedListener(this.eventService,f.EVENT_FLASH_CELLS,e=>{this.getAllCellCtrls().forEach(t=>t.onFlashCells(e))}),this.addManagedListener(this.eventService,f.EVENT_COLUMN_HOVER_CHANGED,()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())}),this.addManagedListener(this.eventService,f.EVENT_DISPLAYED_COLUMNS_CHANGED,()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())}),this.addManagedListener(this.eventService,f.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,f.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.columnModel.getAllGridColumns().forEach(t=>{const i=l=>{this.getAllCellCtrls().forEach(d=>{d.getColumn()===t&&l(d)})},n=()=>{i(l=>l.onLeftChanged())},s=()=>{i(l=>l.onWidthChanged())},r=()=>{i(l=>l.onFirstRightPinnedChanged())},o=()=>{i(l=>l.onLastLeftPinnedChanged())},a=()=>{i(l=>l.onColDefChanged())};t.addEventListener("leftChanged",n),t.addEventListener("widthChanged",s),t.addEventListener("firstRightPinnedChanged",r),t.addEventListener("lastLeftPinnedChanged",o),t.addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.removeEventListener("leftChanged",n),t.removeEventListener("widthChanged",s),t.removeEventListener("firstRightPinnedChanged",r),t.removeEventListener("lastLeftPinnedChanged",o),t.removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){const e=this.gridOptionsService.isDomLayout("print"),t=e||this.gridOptionsService.get("embedFullWidthRows"),i=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){this.redrawAfterModelUpdate({recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0})}getAllCellsForColumn(e){const t=[];return this.getAllRowCtrls().forEach(i=>{const n=i.getCellElement(e);n&&t.push(n)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(e,t){e.forEach(i=>{i.destroyFirstPass(),i.destroySecondPass()}),e.length=0,t&&t.forEach(i=>{const n=new jo(i,this.beans,!1,!1,this.printLayout);e.push(n)})}onPinnedRowDataChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(e,t=!1){var i;if(e.sticky)this.stickyRowFeature.refreshStickyNode(e);else{if(null!=(i=this.cachedRowCtrls)&&i.has(e))return void this.cachedRowCtrls.removeRow(e);{const n=s=>{const r=s[e.rowIndex];r&&r.getRowNode()===e&&(r.destroyFirstPass(),r.destroySecondPass(),s[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":n(this.topRowCtrls);break;case"bottom":n(this.bottomRowCtrls);break;default:n(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(null!=e)return e?.forEach(i=>this.redrawRow(i,!0)),void this.dispatchDisplayedRowsChanged(!1);this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){const t=e?.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==t)return null;const n=this.gridOptionsService.getDocument().activeElement,s=this.gridOptionsService.getDomData(n,Wo.DOM_DATA_KEY_CELL_CTRL),r=this.gridOptionsService.getDomData(n,jo.DOM_DATA_KEY_ROW_CTRL);return s||r?t:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const i=!e.domLayoutChanged&&!!e.recycleRows,n=e.animate&&this.gridOptionsService.isAnimateRows(),s=i?this.getRowsToRecycle():null;i||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows(),this.recycleRows(s,n),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),null!=t&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){const t=e.newData||e.newPage,i=this.gridOptionsService.get("suppressScrollOnNewData");t&&!i&&this.gridBodyCtrl.getScrollFeature().scrollToTop()}updateContainerHeights(){if(this.printLayout)return void this.rowContainerHeightService.setModelHeight(null);let e=this.paginationProxy.getCurrentPageHeight();0===e&&(e=1),this.rowContainerHeightService.setModelHeight(e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0}releaseLockOnRefresh(){this.refreshInProgress=!1}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&(this.focusService.setRestoreFocusedCell(e),this.onCellFocusChanged(this.beans.gridOptionsService.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"mock"})))}stopEditing(e=!1){this.getAllRowCtrls().forEach(t=>{t.stopEditing(e)})}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),i=t.length;for(let n=0;n<i;n++){const s=t[n].getAllCellCtrls(),r=s.length;for(let o=0;o<r;o++)e.push(s[o])}return e}getAllRowCtrls(){const e=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],t=[...this.topRowCtrls,...this.bottomRowCtrls,...e];for(const i of Object.keys(this.rowCtrlsByRowIndex))t.push(this.rowCtrlsByRowIndex[i]);return t}addRenderedRowListener(e,t,i){const n=this.rowCtrlsByRowIndex[t];n&&n.addEventListener(e,i)}flashCells(e={}){this.getCellCtrls(e.rowNodes,e.columns).forEach(t=>t.flashCell(e))}refreshCells(e={}){const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};this.getCellCtrls(e.rowNodes,e.columns).forEach(i=>i.refreshOrDestroyCell(t)),e.rowNodes&&(this.getRowCtrls(e.rowNodes).forEach(i=>{i.isFullWidth()&&(i.refreshFullWidth()||this.redrawRow(i.getRowNode(),!0))}),this.dispatchDisplayedRowsChanged(!1))}getCellRendererInstances(e){var t;const i=this.getCellCtrls(e.rowNodes,e.columns).map(r=>r.getCellRenderer()).filter(r=>null!=r);if(null!=(t=e.columns)&&t.length)return i;const n=[],s=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(r=>{if(s&&!this.isRowInMap(r.getRowNode(),s)||!r.isFullWidth())return;const o=r.getFullWidthCellRenderers();for(let a=0;a<o.length;a++){const l=o[a];null!=l&&n.push(l)}}),[...n,...i]}getCellEditorInstances(e){const t=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(i=>{const n=i.getCellEditor();n&&t.push(n)}),t}getEditingCells(){const e=[];return this.getAllCellCtrls().forEach(t=>{if(t.isEditing()){const i=t.getCellPosition();e.push(i)}}),e}mapRowNodes(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(i=>{const n=i.id;"top"===i.rowPinned?t.top[n]=i:"bottom"===i.rowPinned?t.bottom[n]=i:t.normal[n]=i}),t}isRowInMap(e,t){const i=e.id,n=e.rowPinned;return"bottom"===n?null!=t.bottom[i]:"top"===n?null!=t.top[i]:null!=t.normal[i]}getRowCtrls(e){const t=this.mapRowNodes(e),i=this.getAllRowCtrls();return e&&t?i.filter(n=>{const s=n.getRowNode();return this.isRowInMap(s,t)}):i}getCellCtrls(e,t){let i;R(t)&&(i={},t.forEach(s=>{const r=this.columnModel.getGridColumn(s);R(r)&&(i[r.getId()]=!0)}));const n=[];return this.getRowCtrls(e).forEach(s=>{s.getAllCellCtrls().forEach(r=>{const o=r.getColumn().getId();i&&!i[o]||n.push(r)})}),n}destroy(){this.removeAllRowComps(),super.destroy()}removeAllRowComps(){const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}getRowsToRecycle(){const e=[];pi(this.rowCtrlsByRowIndex,(i,n)=>{null==n.getRowNode().id&&e.push(i)}),this.removeRowCtrls(e);const t={};return pi(this.rowCtrlsByRowIndex,(i,n)=>{const s=n.getRowNode();t[s.id]=n}),this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(i=>{const n=this.rowCtrlsByRowIndex[i];n&&(n.destroyFirstPass(t),n.destroySecondPass()),delete this.rowCtrlsByRowIndex[i]})}onBodyScroll(e){"vertical"===e.direction&&this.redraw({afterScroll:!0})}redraw(e={}){const{afterScroll:t}=e;let i;this.stickyRowFeature&&A_()&&(i=this.getCellToRestoreFocusToAfterRefresh()||void 0);const n=this.firstRenderedRow,s=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let r=!1;if(this.stickyRowFeature&&(r=this.stickyRowFeature.checkStickyRows()),(!t||r||this.firstRenderedRow!==n||this.lastRenderedRow!==s)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,t),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(t&&!r),null!=i)){const a=this.getCellToRestoreFocusToAfterRefresh();null!=i&&null==a&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(i))}}removeRowCompsNotToDraw(e,t){const i={};e.forEach(r=>i[r]=!0);const s=Object.keys(this.rowCtrlsByRowIndex).filter(r=>!i[r]);this.removeRowCtrls(s,t)}calculateIndexesToDraw(e){let t=SN(this.firstRenderedRow,this.lastRenderedRow);const i=(s,r)=>{const o=r.getRowNode().rowIndex;null!=o&&(o<this.firstRenderedRow||o>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(r)&&t.push(o)};pi(this.rowCtrlsByRowIndex,i),pi(e,i),t.sort((s,r)=>s-r);const n=[];for(let s=0;s<t.length;s++){const r=t[s],o=this.paginationProxy.getRow(r);o&&!o.sticky&&n.push(r)}return n}recycleRows(e,t=!1,i=!1){const n=this.calculateIndexesToDraw(e);(this.printLayout||i)&&(t=!1),this.removeRowCompsNotToDraw(n,!t);const s=[];n.forEach(r=>{const o=this.createOrUpdateRowCtrl(r,e,t,i);R(o)&&s.push(o)}),e&&(!i||this.gridOptionsService.get("suppressAnimationFrame")||this.printLayout?this.destroyRowCtrls(e,t):this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()})),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventService.dispatchEvent({type:f.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:e})}onDisplayedColumnsChanged(){const e=this.columnModel.isPinningLeft(),t=this.columnModel.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const i=t.getRowNode().rowIndex;e.push(i.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=this.mapRowNodes(e);return this.getAllRowCtrls().filter(i=>{if(!i.isFullWidth())return!1;const n=i.getRowNode();return!(null!=t&&!this.isRowInMap(n,t))})}createOrUpdateRowCtrl(e,t,i,n){let s,r=this.rowCtrlsByRowIndex[e];if(r||(s=this.paginationProxy.getRow(e),R(s)&&R(t)&&t[s.id]&&s.alreadyRendered&&(r=t[s.id],t[s.id]=null)),!r){if(s||(s=this.paginationProxy.getRow(e)),!R(s))return;r=this.createRowCon(s,i,n)}return s&&(s.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=r,r}destroyRowCtrls(e,t){const i=[];pi(e,(n,s)=>{if(s){if(this.cachedRowCtrls&&s.isCacheable())return void this.cachedRowCtrls.addRow(s);s.destroyFirstPass(!t),t?(this.zombieRowCtrls[s.getInstanceId()]=s,i.push(()=>{s.destroySecondPass(),delete this.zombieRowCtrls[s.getInstanceId()]})):s.destroySecondPass()}}),t&&(i.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),FL(i))}getRowBuffer(){return this.gridOptionsService.get("rowBuffer")}getRowBufferInPixels(){return this.getRowBuffer()*this.gridOptionsService.getRowHeightAsNumber()}workOutFirstAndLastRowsToRender(){let e,t;if(this.rowContainerHeightService.updateOffset(),this.paginationProxy.isRowsToRender())if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.paginationProxy.getPageFirstRow(),t=this.paginationProxy.getPageLastRow();else{const a=this.getRowBufferInPixels(),l=this.ctrlsService.getGridBodyCtrl(),d=this.gridOptionsService.get("suppressRowVirtualisation");let u,p,c=!1;do{const y=this.paginationProxy.getPixelOffset(),{pageFirstPixel:w,pageLastPixel:E}=this.paginationProxy.getCurrentPagePixelRange(),D=this.rowContainerHeightService.getDivStretchOffset(),M=l.getScrollFeature().getVScrollPosition(),L=M.top,k=M.bottom;d?(u=w+D,p=E+D):(u=Math.max(L+y-a,w)+D,p=Math.min(k+y+a,E)+D),this.firstVisibleVPixel=Math.max(L+y,w)+D,c=this.ensureAllRowsInRangeHaveHeightsCalculated(u,p)}while(c);let m=this.paginationProxy.getRowIndexAtPixel(u),v=this.paginationProxy.getRowIndexAtPixel(p);const C=this.paginationProxy.getPageFirstRow(),b=this.paginationProxy.getPageLastRow();m<C&&(m=C),v>b&&(v=b),e=m,t=v}else e=0,t=-1;const i=this.gridOptionsService.isDomLayout("normal"),n=this.gridOptionsService.get("suppressMaxRenderedRowRestriction"),s=Math.max(this.getRowBuffer(),500);i&&!n&&t-e>s&&(t=e+s),e===this.firstRenderedRow&&t===this.lastRenderedRow||(this.firstRenderedRow=e,this.lastRenderedRow=t,this.eventService.dispatchEvent({type:f.EVENT_VIEWPORT_CHANGED,firstRow:e,lastRow:t}))}dispatchFirstDataRenderedEvent(){if(this.dataFirstRenderedFired)return;this.dataFirstRenderedFired=!0;const e={type:f.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent(e)})}ensureAllRowsInRangeHaveHeightsCalculated(e,t){const i=this.paginationProxy.ensureRowHeightsValid(e,t,-1,-1);return i&&this.updateContainerHeights(),i}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(e){const n=e.getRowNode(),s=this.focusService.isRowNodeFocused(n),r=e.isEditing();return!!(s||r||n.detail)&&!!this.paginationProxy.isRowPresent(n)}createRowCon(e,t,i){const n=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(n)return n;const s=this.gridOptionsService.get("suppressAnimationFrame");return new jo(e,this.beans,t,i&&!s&&!this.printLayout,this.printLayout)}getRenderedNodes(){const e=this.rowCtrlsByRowIndex;return Object.keys(e).map(t=>e[t].getRowNode())}getRowByPosition(e){let t;const{rowIndex:i}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[i];break;case"bottom":t=this.bottomRowCtrls[i];break;default:t=this.rowCtrlsByRowIndex[i],t||(t=this.getStickyTopRowCtrls().find(n=>n.getRowNode().rowIndex===i)||null)}return t}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}}isRangeInRenderedViewport(e,t){return null!=e&&null!=t&&!(t<this.firstRenderedRow||e>this.lastRenderedRow)}};h([g("animationFrameService")],fn.prototype,"animationFrameService",2),h([g("paginationProxy")],fn.prototype,"paginationProxy",2),h([g("columnModel")],fn.prototype,"columnModel",2),h([g("pinnedRowModel")],fn.prototype,"pinnedRowModel",2),h([g("rowModel")],fn.prototype,"rowModel",2),h([g("focusService")],fn.prototype,"focusService",2),h([g("beans")],fn.prototype,"beans",2),h([g("rowContainerHeightService")],fn.prototype,"rowContainerHeightService",2),h([g("ctrlsService")],fn.prototype,"ctrlsService",2),h([I],fn.prototype,"postConstruct",1),fn=h([V("rowRenderer")],fn);var Gee=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(null==e||null==e.id)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.getRowNode()!=e?null:t):null}has(e){return null!=this.entriesMap[e.id]}removeRow(e){const t=e.id,i=this.entriesMap[t];delete this.entriesMap[t],ji(this.entriesList,i)}removeFromCache(e){const t=e.getRowNode().id;delete this.entriesMap[t],ji(this.entriesList,e)}getEntries(){return this.entriesList}},lg=class extends A{formatValue(e,t,i,n,s=!0){let o,r=null;const a=e.getColDef();if(n?o=n:s&&(o=a.valueFormatter),o){const l=this.gridOptionsService.addGridCommonParams({value:i,node:t,data:t?t.data:null,colDef:a,column:e});r="function"==typeof o?o(l):this.expressionService.evaluate(o,l)}else if(a.refData)return a.refData[i]||"";return null==r&&Array.isArray(i)&&(r=i.join(", ")),r}};h([g("expressionService")],lg.prototype,"expressionService",2),lg=h([V("valueFormatterService")],lg);var zu=class extends A{init(){this.setPinnedTopRowData(),this.setPinnedBottomRowData(),this.addManagedPropertyListener("pinnedTopRowData",()=>this.setPinnedTopRowData()),this.addManagedPropertyListener("pinnedBottomRowData",()=>this.setPinnedBottomRowData())}isEmpty(e){return dn("top"===e?this.pinnedTopRows:this.pinnedBottomRows)}isRowsToRender(e){return!this.isEmpty(e)}getRowAtPixel(e,t){const i="top"===t?this.pinnedTopRows:this.pinnedBottomRows;if(dn(i))return 0;for(let n=0;n<i.length;n++){const s=i[n];if(s.rowTop+s.rowHeight-1>=e)return n}return i.length-1}setPinnedTopRowData(){const e=this.gridOptionsService.get("pinnedTopRowData");this.pinnedTopRows=this.createNodesFromData(e,!0),this.eventService.dispatchEvent({type:f.EVENT_PINNED_ROW_DATA_CHANGED})}setPinnedBottomRowData(){const e=this.gridOptionsService.get("pinnedBottomRowData");this.pinnedBottomRows=this.createNodesFromData(e,!1),this.eventService.dispatchEvent({type:f.EVENT_PINNED_ROW_DATA_CHANGED})}createNodesFromData(e,t){const i=[];if(e){let n=0;e.forEach((s,r)=>{const o=new me(this.beans);o.data=s,o.id=(t?me.ID_PREFIX_TOP_PINNED:me.ID_PREFIX_BOTTOM_PINNED)+r,o.rowPinned=t?"top":"bottom",o.setRowTop(n),o.setRowHeight(this.gridOptionsService.getRowHeightForNode(o).height),o.setRowIndex(r),n+=o.rowHeight,i.push(o)})}return i}getPinnedTopRowData(){return this.pinnedTopRows}getPinnedBottomRowData(){return this.pinnedBottomRows}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedTopRowCount(){return this.pinnedTopRows?this.pinnedTopRows.length:0}getPinnedBottomRowCount(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0}getPinnedTopRow(e){return this.pinnedTopRows[e]}getPinnedBottomRow(e){return this.pinnedBottomRows[e]}forEachPinnedTopRow(e){dn(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)}forEachPinnedBottomRow(e){dn(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getTotalHeight(e){if(!e||0===e.length)return 0;const t=Ae(e);return t.rowTop+t.rowHeight}};h([g("beans")],zu.prototype,"beans",2),h([I],zu.prototype,"init",1),zu=h([V("pinnedRowModel")],zu);var dg=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(e,t){if(e.children)for(let i=0;i<e.children.length;i++)this.depthFirstSearchChangedPath(e.children[i],t);t(e.rowNode)}depthFirstSearchEverything(e,t,i){if(e.childrenAfterGroup)for(let n=0;n<e.childrenAfterGroup.length;n++){const s=e.childrenAfterGroup[n];s.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[n],t,i):i&&t(s)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,i=!1){this.active&&!i?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,i=0;for(;!this.mapToItems[t.id];)this.mapToItems[t.id]={rowNode:t,children:null},i++,t=t.parent;return i}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let i=e;for(;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),t.forEach(n=>this.nodeIdsToColumns[i.id][n.getId()]=!0),i=i.parent}linkPathItems(e,t){let i=e;for(let n=0;n<t;n++){const s=this.mapToItems[i.id],r=this.mapToItems[i.parent.id];r.children||(r.children=[]),r.children.push(s),i=i.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const i=this.createPathItems(e);this.linkPathItems(e,i),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const i=this.nodeIdsToColumns[e.id];return t.filter(s=>i[s.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const i=this.nodeIdsToColumns[e.id];return t.filter(s=>!i[s.getId()])}},id=class va extends A{constructor(t){super(),this.state=va.STATE_WAITING_TO_LOAD,this.version=0,this.id=t}getId(){return this.id}load(){this.state=va.STATE_LOADING,this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state=va.STATE_WAITING_TO_LOAD}getState(){return this.state}pageLoadFailed(t){this.isRequestMostRecentAndLive(t)&&(this.state=va.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)}success(t,i){this.successCommon(t,i)}pageLoaded(t,i,n){this.successCommon(t,{rowData:i,rowCount:n})}isRequestMostRecentAndLive(t){const i=t===this.version,n=this.isAlive();return i&&n}successCommon(t,i){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(t)&&(this.state=va.STATE_LOADED,this.processServerResult(i))}dispatchLoadCompleted(t=!0){this.dispatchEvent({type:va.EVENT_LOAD_COMPLETE,success:t,block:this})}};id.EVENT_LOAD_COMPLETE="loadComplete",id.STATE_WAITING_TO_LOAD="needsLoading",id.STATE_LOADING="loading",id.STATE_LOADED="loaded",id.STATE_FAILED="failed";var vS=id,Ms=class extends A{constructor(){super(...arguments),this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const e=this.gridOptionsService.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=fe.debounce(this.performCheckBlocksToLoad.bind(this),e))}setBeans(e){this.logger=e.create("RowNodeBlockLoader")}getMaxConcurrentDatasourceRequests(){const e=this.gridOptionsService.get("maxConcurrentDatasourceRequests");return null==e?2:e<=0?void 0:e}addBlock(e){this.blocks.push(e),e.addEventListener(vS.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){fe.removeFromArray(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:Ms.BLOCK_LOADED_EVENT}),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:Ms.BLOCK_LOADER_FINISHED_EVENT})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void this.logger.log("checkBlockToLoad: max loads exceeded");const e=this.getAvailableLoadingCount(),t=this.blocks.filter(i=>i.getState()===vS.STATE_WAITING_TO_LOAD).slice(0,e);this.registerLoads(t.length),t.forEach(i=>i.load()),this.printCacheStatus()}getBlockState(){if(this.gridOptionsService.isRowModelType("serverSide"))return this.rowModel.getBlockStates();const e={};return this.blocks.forEach(t=>{const{id:i,state:n}=t.getBlockStateJson();e[i]=n}),e}printCacheStatus(){this.logger.isLogging()&&this.logger.log(`printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(e){this.activeBlockLoadsCount+=e}getAvailableLoadingCount(){return void 0!==this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}};Ms.BLOCK_LOADED_EVENT="blockLoaded",Ms.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",h([g("rowModel")],Ms.prototype,"rowModel",2),h([I],Ms.prototype,"postConstruct",1),h([Zn(0,Tn("loggerFactory"))],Ms.prototype,"setBeans",1),Ms=h([V("rowNodeBlockLoader")],Ms);var Wu=class extends A{constructor(){super(...arguments),this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.pixelOffset=0,this.masterRowCount=0}postConstruct(){this.active=this.gridOptionsService.get("pagination"),this.pageSizeFromGridOptions=this.gridOptionsService.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,f.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this)),this.onModelUpdated()}ensureRowHeightsValid(e,t,i,n){const s=this.rowModel.ensureRowHeightsValid(e,t,this.getPageFirstRow(),this.getPageLastRow());return s&&this.calculatePages(),s}isPaginateChildRows(){return!(!this.gridOptionsService.get("groupRemoveSingleChildren")&&!this.gridOptionsService.get("groupRemoveLowestSingleChildren"))||this.gridOptionsService.get("paginateChildRows")}onModelUpdated(e){this.calculatePages(),this.eventService.dispatchEvent({type:f.EVENT_PAGINATION_CHANGED,animate:!!e&&e.animate,newData:!!e&&e.newData,newPage:!!e&&e.newPage,newPageSize:!!e&&e.newPageSize,keepRenderedRows:!!e&&e.keepRenderedRows})}onPaginationGridOptionChanged(){this.active=this.gridOptionsService.get("pagination"),this.calculatePages(),this.eventService.dispatchEvent({type:f.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,newPageSize:!1,keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gridOptionsService.get("paginationPageSize"),"gridOptions")}goToPage(e){this.active&&this.currentPage!==e&&"number"==typeof this.currentPage&&(this.currentPage=e,this.onModelUpdated({type:f.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,newPageSize:!1}))}getPixelOffset(){return this.pixelOffset}getRow(e){return this.rowModel.getRow(e)}getRowNode(e){return this.rowModel.getRowNode(e)}getRowIndexAtPixel(e){return this.rowModel.getRowIndexAtPixel(e)}getCurrentPageHeight(){return Y(this.topRowBounds)||Y(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}}isRowPresent(e){return!!this.rowModel.isRowPresent(e)&&e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex}isEmpty(){return this.rowModel.isEmpty()}isRowsToRender(){return this.rowModel.isRowsToRender()}forEachNode(e){return this.rowModel.forEachNode(e)}forEachNodeOnPage(e){const t=this.getPageFirstRow(),i=this.getPageLastRow();for(let n=t;n<=i;n++){const s=this.getRow(n);s&&e(s)}}getType(){return this.rowModel.getType()}getRowBounds(e){const t=this.rowModel.getRowBounds(e);return t.rowIndex=e,t}getPageFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getPageLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getRowCount(){return this.rowModel.getRowCount()}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;const t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){return!this.active||this.getPageForIndex(e.rowIndex)===this.currentPage}isLastPageFound(){return this.rowModel.isLastRowIndexKnown()}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return R(this.pageSizeAutoCalculated)?this.pageSizeAutoCalculated:R(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:R(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:R(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}unsetAutoCalculatedPageSize(){if(void 0===this.pageSizeAutoCalculated)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&this.onModelUpdated({type:f.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0})}setPageSize(e,t){const i=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,0!==this.currentPage&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,0!==this.currentPage&&this.goToFirstPage()}i!==this.pageSize&&this.onModelUpdated({type:f.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0})}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(R(this.topRowBounds)?this.topRowBounds.rowTop:0)}setPixelOffset(e){this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:f.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)return void this.setZeroRows();const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();let i=this.pageSize*(this.currentPage+1)-1;if(i>e&&(i=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),i===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const n=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=n-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),0===this.masterRowCount)return void this.setZeroRows();const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}calculatedPagesNotActive(){this.setPageSize(this.masterRowCount,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}};h([g("rowModel")],Wu.prototype,"rowModel",2),h([I],Wu.prototype,"postConstruct",1),Wu=h([V("paginationProxy")],Wu);var cg=class extends A{processAllCellClasses(e,t,i,n){this.processClassRules(void 0,e.cellClassRules,t,i,n),this.processStaticCellClasses(e,t,i)}processClassRules(e,t,i,n,s){if(null==t&&null==e)return;const r={},o={},a=(l,d)=>{l.split(" ").forEach(c=>{""!=c.trim()&&d(c)})};if(t){const l=Object.keys(t);for(let d=0;d<l.length;d++){const c=l[d],u=t[c];let p;"string"==typeof u?p=this.expressionService.evaluate(u,i):"function"==typeof u&&(p=u(i)),a(c,m=>{p?r[m]=!0:o[m]=!0})}}e&&s&&Object.keys(e).forEach(l=>a(l,d=>{r[d]||(o[d]=!0)})),s&&Object.keys(o).forEach(s),Object.keys(r).forEach(n)}getStaticCellClasses(e,t){const{cellClass:i}=e;if(!i)return[];let n;return n="function"==typeof i?i(t):i,"string"==typeof n&&(n=[n]),n||[]}processStaticCellClasses(e,t,i){this.getStaticCellClasses(e,t).forEach(s=>{i(s)})}};h([g("expressionService")],cg.prototype,"expressionService",2),cg=h([V("stylingService")],cg);var Fk=class extends Ym{constructor(e){super(e,"ag-toggle-button")}setValue(e,t){return super.setValue(e,t),this.addOrRemoveCssClass("ag-selected",this.getValue()),this}},Bee=class extends ss{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const i=super.setValue(e,t);return this.eInput.value=e,i}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},Uee=class extends Vo{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct(),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this));const e=Rs();this.addManagedListener(this.eInput,"mousedown",()=>{this.isDisabled()||e||this.eInput.focus()}),this.eInput.step="any"}onWheel(e){document.activeElement===this.eInput&&e.preventDefault()}setMin(e){var t;const i=e instanceof Date?null!=(t=In(e??null,!1))?t:void 0:e;return this.min===i||(this.min=i,Ts(this.eInput,"min",i)),this}setMax(e){var t;const i=e instanceof Date?null!=(t=In(e??null,!1))?t:void 0:e;return this.max===i||(this.max=i,Ts(this.eInput,"max",i)),this}setStep(e){return this.step===e||(this.step=e,Ts(this.eInput,"step",e)),this}getDate(){var e;if(this.eInput.validity.valid)return null!=(e=$i(this.getValue()))?e:void 0}setDate(e,t){this.setValue(In(e??null,!1),t)}},zee=class extends ss{constructor(e){super(e,"ag-range-field","range")}postConstruct(){super.postConstruct();const{min:e,max:t,step:i}=this.config;null!=e&&this.setMinValue(e),null!=t&&this.setMaxValue(t),this.setStep(i||1)}addInputListeners(){this.addManagedListener(this.eInput,"input",e=>{this.setValue(e.target.value)})}setMinValue(e){return this.min=e,this.eInput.setAttribute("min",e.toString()),this}setMaxValue(e){return this.max=e,this.eInput.setAttribute("max",e.toString()),this}setStep(e){return this.eInput.setAttribute("step",e.toString()),this}setValue(e,t){null!=this.min&&(e=Math.max(parseFloat(e),this.min).toString()),null!=this.max&&(e=Math.min(parseFloat(e),this.max).toString());const i=super.setValue(e,t);return this.eInput.value=e,i}},CS=class extends ee{constructor(e,t){super('<div class="ag-rich-select-row" role="presentation"></div>'),this.params=e,this.wrapperEl=t}postConstruct(){this.addManagedListener(this.getGui(),"click",this.onClick.bind(this))}setState(e){let t="";this.params.valueFormatter&&(t=this.params.valueFormatter(e)),this.populateWithRenderer(e,t)||this.populateWithoutRenderer(e,t),this.value=e}highlightString(e){const{parsedValue:t}=this;if(this.params.cellRenderer||!R(t))return;let i=R(e);if(i){const n=t?.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(n>=0){const s=n+e.length,r=Nt(t.slice(0,n),!0),o=Nt(t.slice(n,s),!0),a=Nt(t.slice(s));this.renderValueWithoutRenderer(`${r}<span class="ag-rich-select-row-text-highlight">${o}</span>${a}`)}else i=!1}i||this.renderValueWithoutRenderer(t)}updateHighlighted(e){var t;const i=this.getGui(),n=`ag-rich-select-row-${this.getCompId()}`;null==(t=i.parentElement)||t.setAttribute("id",n),e&&(m_(this.getParentComponent().getAriaElement(),n),this.wrapperEl.setAttribute("data-active-option",n)),Hl(i.parentElement,e),this.addOrRemoveCssClass("ag-rich-select-row-selected",e)}populateWithoutRenderer(e,t){const i=this.gridOptionsService.getDocument(),n=this.getGui(),s=i.createElement("span");s.style.overflow="hidden",s.style.textOverflow="ellipsis";const r=Nt(R(t)?t:e,!0);this.parsedValue=R(r)?r:null,n.appendChild(s),this.renderValueWithoutRenderer(r),this.setTooltip({newTooltipText:this.parsedValue,shouldDisplayTooltip:()=>s.scrollWidth>s.clientWidth})}renderValueWithoutRenderer(e){const t=this.getGui().querySelector("span");t&&(t.innerHTML=R(e)?e:"&nbsp;")}populateWithRenderer(e,t){let i,n;return this.params.cellRenderer&&(n=this.userComponentFactory.getCellRendererDetails(this.params,{value:e,valueFormatted:t,setTooltip:(s,r)=>{this.setTooltip({newTooltipText:s,shouldDisplayTooltip:r})}})),n&&(i=n.newAgStackInstance()),i&&z_(i,this.getGui()),!!i&&(i.then(s=>{this.addDestroyFunc(()=>{this.getContext().destroyBean(s)})}),!0)}onClick(){const e=this.getParentComponent(),t={type:f.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:!1,value:this.value};e?.dispatchEvent(t)}};h([g("userComponentFactory")],CS.prototype,"userComponentFactory",2),h([I],CS.prototype,"postConstruct",1);var ju=class dV extends Hu{constructor(t){super(dV.getTemplate(t?.cssIdentifier||"default")),this.renderedRows=new Map,this.rowHeight=20,this.isHeightFromTheme=!0;const{cssIdentifier:i="default",ariaRole:n="listbox",listName:s}=t||{};this.cssIdentifier=i,this.ariaRole=n,this.listName=s}postConstruct(){this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:t=>this.onFocusIn(t),onFocusOut:t=>this.onFocusOut(t),focusInnerElement:t=>this.focusInnerElement(t),onTabKeyDown:t=>this.onTabKeyDown(t),handleKeyDown:t=>this.handleKeyDown(t)}),this.setAriaProperties(),this.addManagedListener(this.eventService,f.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))}onGridStylesChanged(){this.rowHeight=this.getItemHeight(),this.refresh()}setAriaProperties(){const i=this.localeService.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),n=this.eContainer;ht(n,this.ariaRole),is(n,i)}addResizeObserver(){const i=this.resizeObserverService.observeResize(this.getGui(),()=>this.animationFrameService.requestAnimationFrame(()=>this.drawVirtualRows()));this.addDestroyFunc(i)}focusInnerElement(t){this.focusRow(t?this.model.getRowCount()-1:0)}onFocusIn(t){const i=t.target;i.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=nN(i)-1)}onFocusOut(t){this.getFocusableElement().contains(t.relatedTarget)||(this.lastFocusedRowIndex=null)}handleKeyDown(t){switch(t.key){case S.UP:case S.DOWN:this.navigate(t.key===S.UP)&&t.preventDefault()}}onTabKeyDown(t){this.navigate(t.shiftKey)?t.preventDefault():(es(t),this.forceFocusOutOfContainer(t.shiftKey))}navigate(t){if(null==this.lastFocusedRowIndex)return!1;const i=this.lastFocusedRowIndex+(t?-1:1);return!(i<0||i>=this.model.getRowCount()||(this.focusRow(i),0))}getLastFocusedRow(){return this.lastFocusedRowIndex}focusRow(t){this.ensureIndexVisible(t),window.setTimeout(()=>{if(!this.isAlive())return;const i=this.renderedRows.get(t);i&&i.eDiv.focus()},10)}getComponentAt(t){const i=this.renderedRows.get(t);return i&&i.rowComponent}forEachRenderedRow(t){this.renderedRows.forEach((i,n)=>t(i.rowComponent,n))}static getTemplate(t){return`<div class="ag-virtual-list-viewport ag-${t}-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-${t}-virtual-list-container" ref="eContainer"></div>\n            </div>`}getItemHeight(){return this.isHeightFromTheme?this.environment.getListItemHeight():this.rowHeight}ensureIndexVisible(t,i=!0){const n=this.model.getRowCount();if("number"!=typeof t||t<0||t>=n)return console.warn("AG Grid: invalid row index for ensureIndexVisible: "+t),!1;const s=t*this.rowHeight,r=s+this.rowHeight,o=this.getGui(),a=o.scrollTop,l=o.offsetHeight,c=i?0:this.rowHeight,p=a+l<r-c;return a>s+c?(o.scrollTop=s,!0):!!p&&(o.scrollTop=r-l,!0)}setComponentCreator(t){this.componentCreator=t}setComponentUpdater(t){this.componentUpdater=t}getRowHeight(){return this.rowHeight}getScrollTop(){return this.getGui().scrollTop}setRowHeight(t){this.isHeightFromTheme=!1,this.rowHeight=t,this.refresh()}refresh(t){if(null==this.model||!this.isAlive())return;const i=this.model.getRowCount();this.eContainer.style.height=i*this.rowHeight+"px",t_(()=>this.eContainer.clientHeight>=i*this.rowHeight,()=>{this.isAlive()&&(this.canSoftRefresh(t)?this.drawVirtualRows(!0):(this.clearVirtualRows(),this.drawVirtualRows()))})}canSoftRefresh(t){return!!(t&&this.renderedRows.size&&"function"==typeof this.model.areRowsEqual&&this.componentUpdater)}clearVirtualRows(){this.renderedRows.forEach((t,i)=>this.removeRow(i))}drawVirtualRows(t){if(!this.isAlive()||!this.model)return;const i=this.getGui(),n=i.scrollTop,s=n+i.offsetHeight,r=Math.floor(n/this.rowHeight),o=Math.floor(s/this.rowHeight);this.ensureRowsRendered(r,o,t)}ensureRowsRendered(t,i,n){this.renderedRows.forEach((s,r)=>{(r<t||r>i)&&r!==this.lastFocusedRowIndex&&this.removeRow(r)}),n&&this.refreshRows();for(let s=t;s<=i;s++)this.renderedRows.has(s)||s<this.model.getRowCount()&&this.insertRow(s)}insertRow(t){const i=this.model.getRow(t),n=document.createElement("div");n.classList.add("ag-virtual-list-item",`ag-${this.cssIdentifier}-virtual-list-item`),ht(n,"tree"===this.ariaRole?"treeitem":"option"),Pm(n,this.model.getRowCount()),Lm(n,t+1),n.setAttribute("tabindex","-1"),n.style.height=`${this.rowHeight}px`,n.style.top=this.rowHeight*t+"px";const s=this.componentCreator(i,n);s.addGuiEventListener("focusin",()=>this.lastFocusedRowIndex=t),n.appendChild(s.getGui()),this.renderedRows.has(t-1)?this.renderedRows.get(t-1).eDiv.insertAdjacentElement("afterend",n):this.renderedRows.has(t+1)?this.renderedRows.get(t+1).eDiv.insertAdjacentElement("beforebegin",n):this.eContainer.appendChild(n),this.renderedRows.set(t,{rowComponent:s,eDiv:n,value:i})}removeRow(t){const i=this.renderedRows.get(t);this.eContainer.removeChild(i.eDiv),this.destroyBean(i.rowComponent),this.renderedRows.delete(t)}refreshRows(){const t=this.model.getRowCount();this.renderedRows.forEach((i,n)=>{var s,r;if(n>=t)this.removeRow(n);else{const o=this.model.getRow(n);null!=(r=(s=this.model).areRowsEqual)&&r.call(s,i.value,o)?this.componentUpdater(o,i.rowComponent):this.removeRow(n)}})}addScrollListener(){this.addGuiEventListener("scroll",()=>this.drawVirtualRows(),{passive:!0})}setModel(t){this.model=t}getAriaElement(){return this.eContainer}destroy(){this.isAlive()&&(this.clearVirtualRows(),super.destroy())}};h([g("resizeObserverService")],ju.prototype,"resizeObserverService",2),h([g("animationFrameService")],ju.prototype,"animationFrameService",2),h([N("eContainer")],ju.prototype,"eContainer",2),h([I],ju.prototype,"postConstruct",1);var Ok=ju,bS=class extends ko{constructor(e){var t,i;super(ot(z({pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"ag-list",className:"ag-rich-select",pickerIcon:"smallDown",ariaRole:"combobox",template:null!=(t=e?.template)?t:'\n    <div class="ag-picker-field" role="presentation">\n        <div ref="eLabel"></div>\n            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-rich-select-value ag-picker-collapsed">\n            <div ref="eDisplayField" class="ag-picker-field-display"></div>\n            <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>\n            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n        </div>\n    </div>',modalPicker:!1},e),{maxPickerHeight:null!=(i=e?.maxPickerHeight)?i:"calc(var(--ag-row-height) * 6.5)"})),this.searchString="",this.highlightedItem=-1,this.lastRowHovered=-1,this.searchStringCreator=null;const{cellRowHeight:n,value:s,valueList:r,searchStringCreator:o}=e||{};null!=n&&(this.cellRowHeight=n),void 0!==s&&(this.value=s),null!=r&&(this.values=r),o&&(this.searchStringCreator=o)}postConstruct(){super.postConstruct(),this.createLoadingElement(),this.createListComponent();const{allowTyping:e,placeholder:t}=this.config;e?(this.eInput.setAutoComplete(!1).setInputPlaceholder(t),this.eDisplayField.classList.add("ag-hidden")):this.eInput.setDisplayed(!1),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex");const{searchDebounceDelay:i=300}=this.config;this.clearSearchString=Ii(this.clearSearchString,i),this.renderSelectedValue(),e&&(this.eInput.onValueChange(n=>this.searchTextFromString(n)),this.addManagedListener(this.eWrapper,"focus",this.onWrapperFocus.bind(this))),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))}createLoadingElement(){const e=this.gridOptionsService.getDocument(),t=this.localeService.getLocaleTextFunc(),i=e.createElement("div");i.classList.add("ag-loading-text"),i.innerText=t("loadingOoo","Loading..."),this.eLoading=i}createListComponent(){this.listComponent=this.createBean(new Ok({cssIdentifier:"rich-select"})),this.listComponent.setComponentCreator(this.createRowComponent.bind(this)),this.listComponent.setComponentUpdater((a,l)=>{}),this.listComponent.setParentComponent(this),this.addManagedListener(this.listComponent,f.EVENT_FIELD_PICKER_VALUE_SELECTED,a=>{this.onListValueSelected(a.value,a.fromEnterKey)});const{cellRowHeight:t}=this;t&&this.listComponent.setRowHeight(t);const i=this.listComponent.getGui(),n=this.listComponent.getAriaElement();this.addManagedListener(i,"mousemove",this.onPickerMouseMove.bind(this)),this.addManagedListener(i,"mousedown",a=>a.preventDefault()),i.classList.add("ag-rich-select-list");const s=`ag-rich-select-list-${this.listComponent.getCompId()}`;n.setAttribute("id",s),is(n,this.localeService.getLocaleTextFunc()(this.config.pickerAriaLabelKey,this.config.pickerAriaLabelValue)),C_(this.eWrapper,n)}renderSelectedValue(){const{value:e,eDisplayField:t,config:i}=this,{allowTyping:n,initialInputValue:s}=this.config,r=this.config.valueFormatter?this.config.valueFormatter(e):e;if(n)return void this.eInput.setValue(s??r);let o,a;if(i.cellRenderer&&(o=this.userComponentFactory.getCellRendererDetails(this.config,{value:e,valueFormatted:r})),o&&(a=o.newAgStackInstance()),a)It(t),z_(a,t),a.then(l=>{this.addDestroyFunc(()=>this.getContext().destroyBean(l))});else{if(R(this.value))t.innerText=r,t.classList.remove("ag-display-as-placeholder");else{const{placeholder:l}=i;R(l)?(t.innerHTML=`${Nt(l)}`,t.classList.add("ag-display-as-placeholder")):It(t)}this.setTooltip({newTooltipText:r??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth})}}getCurrentValueIndex(){const{currentList:e,value:t}=this;if(null==t||!e)return-1;for(let i=0;i<e.length;i++)if(e[i]===t)return i;return-1}highlightFilterMatch(){var e;null==(e=this.listComponent)||e.forEachRenderedRow((t,i)=>{t.highlightString(this.searchString)})}highlightSelectedValue(e){var t;null==e&&(e=this.getCurrentValueIndex()),this.highlightedItem=e,null==(t=this.listComponent)||t.forEachRenderedRow((i,n)=>{i.updateHighlighted(-1!==e&&this.highlightedItem===n)})}setRowHeight(e){e!==this.cellRowHeight&&(this.cellRowHeight=e),this.listComponent&&this.listComponent.setRowHeight(e)}createPickerComponent(){const{values:e}=this;return e&&this.setValueList({valueList:e}),this.listComponent}setSearchStringCreator(e){this.searchStringCreator=e}setValueList(e){const{valueList:t,refresh:i}=e;this.listComponent&&this.currentList!==t&&(this.currentList=t,this.listComponent.setModel({getRowCount:()=>t.length,getRow:n=>t[n],areRowsEqual:(n,s)=>n===s}),i&&(this.values?this.listComponent.refresh(!0):(this.values=t,this.isPickerDisplayed&&this.showCurrentValueInPicker())))}showPicker(){super.showPicker(),this.showCurrentValueInPicker(),this.displayOrHidePicker()}showCurrentValueInPicker(){var e,t;if(!this.listComponent)return;if(!this.currentList)return void(this.isPickerDisplayed&&this.eLoading&&this.listComponent.appendChild(this.eLoading));null!=(e=this.eLoading)&&e.offsetParent&&(null==(t=this.eLoading.parentElement)||t.removeChild(this.eLoading));const i=this.getCurrentValueIndex();-1!==i?(this.listComponent.refresh(),this.listComponent.ensureIndexVisible(i),this.listComponent.refresh(!0),this.highlightSelectedValue(i)):this.listComponent.refresh()}beforeHidePicker(){this.highlightedItem=-1,super.beforeHidePicker()}onWrapperFocus(){if(!this.eInput)return;const e=this.eInput.getFocusableElement();e.focus(),e.select()}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}buildSearchStringFromKeyboardEvent(e){let{key:t}=e;if(t===S.BACKSPACE)this.searchString=this.searchString.slice(0,-1),t="";else if(!Um(e))return;e.preventDefault(),this.searchTextFromCharacter(t)}searchTextFromCharacter(e){this.searchString+=e,this.runSearch(),this.clearSearchString()}searchTextFromString(e){null==e&&(e=""),this.searchString=e,this.runSearch()}buildSearchStrings(e){const{valueFormatter:t=(n=>n)}=this.config;let i;return"number"==typeof e[0]||"string"==typeof e[0]?i=e.map(n=>t(n)):"object"==typeof e[0]&&this.searchStringCreator&&(i=this.searchStringCreator(e)),i}getSuggestionsAndFilteredValues(e,t){let i=[],n=[];if(!e.length)return{suggestions:i,filteredValues:n};const{searchType:s="fuzzy",filterList:r}=this.config;if("fuzzy"===s){const o=xu(this.searchString,t,!0);i=o.values;const a=o.indices;if(r&&a.length)for(let l=0;l<a.length;l++)n.push(this.values[a[l]])}else i=t.filter((o,a)=>{const l=o.toLocaleLowerCase(),d=this.searchString.toLocaleLowerCase(),c="match"===s?l.startsWith(d):-1!==l.indexOf(d);return r&&c&&n.push(this.values[a]),c});return{suggestions:i,filteredValues:n}}filterListModel(e){const{filterList:t}=this.config;t&&(this.setValueList({valueList:e,refresh:!0}),this.alignPickerToComponent())}runSearch(){var e,t;const{values:i}=this,n=this.buildSearchStrings(i);if(!n)return void this.highlightSelectedValue(-1);const{suggestions:s,filteredValues:r}=this.getSuggestionsAndFilteredValues(this.searchString,n),{filterList:o,highlightMatch:a,searchType:l="fuzzy"}=this.config,d=r.length,c=!(!o||""===this.searchString);if(this.filterListModel(c?r:i),s.length){const u=c?0:n.indexOf(s[0]);this.selectListItem(u)}else if(this.highlightSelectedValue(-1),!c||d)null==(e=this.listComponent)||e.ensureIndexVisible(0);else if(c){this.getAriaElement().removeAttribute("data-active-option");const u=null==(t=this.listComponent)?void 0:t.getAriaElement();u&&m_(u,null)}a&&"fuzzy"!==l&&this.highlightFilterMatch(),this.displayOrHidePicker()}displayOrHidePicker(){var e;const t=null==(e=this.listComponent)?void 0:e.getGui(),i=!!this.currentList&&0===this.currentList.length;t?.classList.toggle("ag-hidden",i)}clearSearchString(){this.searchString=""}selectListItem(e,t){!this.isPickerDisplayed||!this.currentList||!this.listComponent||e<0||e>=this.currentList.length||(this.listComponent.ensureIndexVisible(e,!t)&&!t&&this.listComponent.refresh(!0),this.highlightSelectedValue(e))}setValue(e,t,i){const n=this.currentList?this.currentList.indexOf(e):-1;return-1===n?this:(this.value=e,i||this.selectListItem(n),this.renderSelectedValue(),super.setValue(e,t))}createRowComponent(e){const t=new CS(this.config,this.eWrapper);t.setParentComponent(this.listComponent),this.getContext().createBean(t),t.setState(e);const{highlightMatch:i,searchType:n="fuzzy"}=this.config;return i&&"fuzzy"!==n&&t.highlightString(this.searchString),t}getRowForMouseEvent(e){const{listComponent:t}=this;if(!t)return-1;const n=(t?.getGui()).getBoundingClientRect(),s=t.getScrollTop();return Math.floor((e.clientY-n.top+s)/t.getRowHeight())}onPickerMouseMove(e){if(!this.listComponent)return;const t=this.getRowForMouseEvent(e);-1!==t&&t!=this.lastRowHovered&&(this.lastRowHovered=t,this.selectListItem(t,!0))}onNavigationKeyDown(e,t){e.preventDefault();const i=t===S.DOWN;if(!this.isPickerDisplayed&&i)return void this.showPicker();const n=this.highlightedItem;this.selectListItem(-1===n?0:n+(i?1:-1))}onEnterKeyDown(e){this.isPickerDisplayed&&(e.preventDefault(),this.currentList&&this.onListValueSelected(this.currentList[this.highlightedItem],!0))}onTabKeyDown(){!this.isPickerDisplayed||!this.currentList||this.setValue(this.currentList[this.highlightedItem],!1,!0)}onListValueSelected(e,t){this.setValue(e,!1,!0),this.dispatchPickerEvent(e,t),this.hidePicker()}dispatchPickerEvent(e,t){this.dispatchEvent({type:f.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:t,value:e})}getFocusableElement(){const{allowTyping:e}=this.config;return e?this.eInput.getFocusableElement():super.getFocusableElement()}onKeyDown(e){const t=e.key,{allowTyping:i}=this.config;switch(t){case S.LEFT:case S.RIGHT:case S.PAGE_HOME:case S.PAGE_END:i||e.preventDefault();break;case S.PAGE_UP:case S.PAGE_DOWN:e.preventDefault();break;case S.DOWN:case S.UP:this.onNavigationKeyDown(e,t);break;case S.ESCAPE:this.isPickerDisplayed&&(hn(this.listComponent.getGui())&&(e.preventDefault(),es(e)),this.hidePicker());break;case S.ENTER:this.onEnterKeyDown(e);break;case S.TAB:this.onTabKeyDown();break;default:i||this.buildSearchStringFromKeyboardEvent(e)}}destroy(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),this.eLoading=void 0,super.destroy()}};h([g("userComponentFactory")],bS.prototype,"userComponentFactory",2),h([N("eInput")],bS.prototype,"eInput",2);var nd=class cV extends q_{constructor(t){super(t,cV.TEMPLATE),this.labelAlignment="top"}init(){this.eSlider.addCssClass("ag-slider-field");const{minValue:t,maxValue:i,textFieldWidth:n,step:s,value:r,onValueChange:o}=this.config;null!=t&&this.setMinValue(t),null!=i&&this.setMaxValue(i),null!=n&&this.setTextFieldWidth(n),null!=s&&this.setStep(s),null!=r&&this.setValue(r),null!=o&&this.onValueChange(o)}onValueChange(t){const i=f.EVENT_FIELD_VALUE_CHANGED;return this.addManagedListener(this.eText,i,()=>{const n=parseFloat(this.eText.getValue());this.eSlider.setValue(n.toString(),!0),t(n||0)}),this.addManagedListener(this.eSlider,i,()=>{const n=this.eSlider.getValue();this.eText.setValue(n,!0),t(parseFloat(n))}),this}setSliderWidth(t){return this.eSlider.setWidth(t),this}setTextFieldWidth(t){return this.eText.setWidth(t),this}setMinValue(t){return this.eSlider.setMinValue(t),this.eText.setMin(t),this}setMaxValue(t){return this.eSlider.setMaxValue(t),this.eText.setMax(t),this}getValue(){return this.eText.getValue()}setValue(t,i){return this.getValue()===t||(this.eText.setValue(t,!0),this.eSlider.setValue(t,!0),i||this.dispatchEvent({type:f.EVENT_FIELD_VALUE_CHANGED})),this}setStep(t){return this.eSlider.setStep(t),this.eText.setStep(t),this}};nd.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',h([N("eLabel")],nd.prototype,"eLabel",2),h([N("eSlider")],nd.prototype,"eSlider",2),h([N("eText")],nd.prototype,"eText",2),h([I],nd.prototype,"init",1);var jee=nd,Wr=class Cd extends ee{constructor(t={}){super(Cd.getTemplate(t)),this.params=t,this.suppressEnabledCheckbox=!0,this.suppressToggleExpandOnEnableChange=!1;const{enabled:i,items:n,suppressEnabledCheckbox:s,expanded:r,suppressToggleExpandOnEnableChange:o,useToggle:a}=t;this.cssIdentifier=t.cssIdentifier||"default",this.enabled=i??!0,this.items=n||[],this.useToggle=a??!1,this.alignItems=t.alignItems||"center",this.expanded=r??!0,null!=s&&(this.suppressEnabledCheckbox=s),null!=o&&(this.suppressToggleExpandOnEnableChange=o)}static getTemplate(t){const i=t.cssIdentifier||"default";return`\n            <div class="ag-group ag-${i}-group" role="presentation">\n                <div ref="eToolbar" class="ag-group-toolbar ag-${i}-group-toolbar">\n                    <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n                </div>\n                <div ref="eContainer" class="ag-group-container ag-group-container-${t.direction||"vertical"} ag-${i}-group-container"></div>\n            </div>\n        `}postConstruct(){if(this.setupTitleBar(),this.items.length){const s=this.items;this.items=[],this.addItems(s)}const t=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(t("enabled","Enabled")),this.enabled&&this.setEnabled(this.enabled,void 0,!0),this.setAlignItems(this.alignItems);const{onEnableChange:i,suppressOpenCloseIcons:n}=this.params;this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(n??!1),this.refreshChildDisplay(),we(this.eContainer,this.expanded),this.cbGroupEnabled.onValueChange(s=>{this.setEnabled(s,!0,this.suppressToggleExpandOnEnableChange),this.dispatchEnableChangeEvent(s)}),null!=i&&this.onEnableChange(i)}refreshChildDisplay(){var t;we(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),null==(t=this.eTitleBar)||t.refreshOnExpand(this.expanded)}isExpanded(){return this.expanded}setAlignItems(t){return this.alignItems!==t&&this.removeCssClass(`ag-group-item-alignment-${this.alignItems}`),this.alignItems=t,this.addCssClass(`ag-group-item-alignment-${this.alignItems}`),this}toggleGroupExpand(t){var i;let n=!1;if(null!=(i=this.eTitleBar)&&i.isSuppressCollapse()&&!this.useToggle)t=!0,n=!0;else if(this.expanded===(t=t??!this.expanded))return this;return this.expanded=t,this.refreshChildDisplay(),we(this.eContainer,t),n||this.dispatchEvent({type:t?Cd.EVENT_EXPANDED:Cd.EVENT_COLLAPSED}),this}addItems(t){t.forEach(i=>this.addItem(i))}prependItem(t){this.insertItem(t,!0)}addItem(t){this.insertItem(t,!1)}insertItem(t,i){const n=this.eContainer,s=t instanceof ee?t.getGui():t;s.classList.add("ag-group-item",`ag-${this.cssIdentifier}-group-item`),i?(n.insertAdjacentElement("afterbegin",s),this.items.unshift(s)):(n.appendChild(s),this.items.push(s))}hideItem(t,i){we(this.items[i],!t)}getItemIndex(t){const i=t instanceof ee?t.getGui():t;return this.items.indexOf(i)}setTitle(t){var i;return null==(i=this.eTitleBar)||i.setTitle(t),this}addCssClassToTitleBar(t){var i;null==(i=this.eTitleBar)||i.addCssClass(t)}dispatchEnableChangeEvent(t){this.dispatchEvent({type:Cd.EVENT_ENABLE_CHANGE,enabled:t})}setEnabled(t,i,n){var s;return this.enabled=t,this.refreshDisabledStyles(),n||this.toggleGroupExpand(t),i||(this.cbGroupEnabled.setValue(t),null==(s=this.eToggle)||s.setValue(t)),this}isEnabled(){return this.enabled}onEnableChange(t){return this.addManagedListener(this,Cd.EVENT_ENABLE_CHANGE,i=>t(i.enabled)),this}hideEnabledCheckbox(t){return this.suppressEnabledCheckbox=t,this.refreshChildDisplay(),this.refreshDisabledStyles(),this}hideOpenCloseIcons(t){var i;return null==(i=this.eTitleBar)||i.hideOpenCloseIcons(t),this}refreshDisabledStyles(){var t;const i=!this.enabled;this.eContainer.classList.toggle("ag-disabled",i),null==(t=this.eTitleBar)||t.refreshDisabledStyles(this.suppressEnabledCheckbox&&i),this.eContainer.classList.toggle("ag-disabled-group-container",i)}setupTitleBar(){const t=this.useToggle?this.createToggleTitleBar():this.createDefaultTitleBar();this.eToolbar.insertAdjacentElement("beforebegin",t.getGui())}createDefaultTitleBar(){const t=this.createManagedBean(new Pk(this.params));return this.eTitleBar=t,t.refreshOnExpand(this.expanded),this.addManagedListener(t,Pk.EVENT_EXPAND_CHANGED,i=>this.toggleGroupExpand(i.expanded)),t}createToggleTitleBar(){var t;const i=this.createManagedBean(new Fk({value:this.enabled,label:this.params.title,labelAlignment:"left",labelWidth:"flex",onValueChange:n=>{this.setEnabled(n,!0),this.dispatchEnableChangeEvent(n)}}));return i.addCssClass("ag-group-title-bar"),i.addCssClass(`ag-${null!=(t=this.params.cssIdentifier)?t:"default"}-group-title-bar ag-unselectable`),this.eToggle=i,this.toggleGroupExpand(this.enabled),i}};Wr.EVENT_EXPANDED="expanded",Wr.EVENT_COLLAPSED="collapsed",Wr.EVENT_ENABLE_CHANGE="enableChange",h([N("eToolbar")],Wr.prototype,"eToolbar",2),h([N("cbGroupEnabled")],Wr.prototype,"cbGroupEnabled",2),h([N("eContainer")],Wr.prototype,"eContainer",2),h([I],Wr.prototype,"postConstruct",1);var $ee=Wr,sd=class lE extends ee{constructor(t={}){super(lE.getTemplate(t)),this.suppressOpenCloseIcons=!1;const{title:i,suppressOpenCloseIcons:n}=t;this.title=i,null!=n&&(this.suppressOpenCloseIcons=n)}static getTemplate(t){var i;const n=null!=(i=t.cssIdentifier)?i:"default";return`\n            <div class="ag-group-title-bar ag-${n}-group-title-bar ag-unselectable" role="button">\n                <span class="ag-group-title-bar-icon ag-${n}-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-${n}-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-${n}-group-title"></span>\n            </div>\n        `}postConstruct(){this.setTitle(this.title),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract()}setupExpandContract(){this.eGroupClosedIcon.appendChild(On("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(On("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.getGui(),"click",()=>this.dispatchExpandChanged()),this.addManagedListener(this.getGui(),"keydown",t=>{switch(t.key){case S.ENTER:case S.SPACE:t.preventDefault(),this.dispatchExpandChanged();break;case S.RIGHT:case S.LEFT:t.preventDefault(),this.dispatchExpandChanged(t.key===S.RIGHT)}})}refreshOnExpand(t){this.refreshAriaStatus(t),this.refreshOpenCloseIcons(t)}refreshAriaStatus(t){this.suppressOpenCloseIcons||or(this.getGui(),t)}refreshOpenCloseIcons(t){const i=!this.suppressOpenCloseIcons;we(this.eGroupOpenedIcon,i&&t),we(this.eGroupClosedIcon,i&&!t)}isSuppressCollapse(){return this.suppressOpenCloseIcons}dispatchExpandChanged(t){this.dispatchEvent({type:lE.EVENT_EXPAND_CHANGED,expanded:t})}setTitle(t){return this.eTitle.innerText=t||"",we(this.getGui(),null!=t),this}hideOpenCloseIcons(t){return this.suppressOpenCloseIcons=t,t&&this.dispatchExpandChanged(!0),this}refreshDisabledStyles(t){const i=this.getGui();t?(i.classList.add("ag-disabled-group-title-bar"),i.removeAttribute("tabindex")):(i.classList.remove("ag-disabled-group-title-bar"),"string"==typeof this.title?i.setAttribute("tabindex","0"):i.removeAttribute("tabindex"))}};sd.EVENT_EXPAND_CHANGED="expandedChanged",h([N("eGroupOpenedIcon")],sd.prototype,"eGroupOpenedIcon",2),h([N("eGroupClosedIcon")],sd.prototype,"eGroupClosedIcon",2),h([N("eTitle")],sd.prototype,"eTitle",2),h([I],sd.prototype,"postConstruct",1);var Pk=sd,wS=class extends Hu{constructor(e=0,t){super('<div class="ag-menu-list" role="tree"></div>'),this.level=e,this.menuItems=[],this.params=t??{column:null,node:null,value:null}}postConstruct(){this.initialiseTabGuard({onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.handleFocusIn(e),onFocusOut:e=>this.handleFocusOut(e)})}onTabKeyDown(e){const t=this.getParentComponent(),i=t&&t.getGui();i&&i.classList.contains("ag-focus-managed")||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)}handleKeyDown(e){switch(e.key){case S.UP:case S.RIGHT:case S.DOWN:case S.LEFT:e.preventDefault(),this.handleNavKey(e.key);break;case S.ESCAPE:this.closeIfIsChild()&&es(e)}}handleFocusIn(e){var t,i;const n=e.relatedTarget;!this.tabGuardCtrl.isTabGuard(n)&&(this.getGui().contains(n)||null!=(i=null==(t=this.activeMenuItem)?void 0:t.getSubMenuGui())&&i.contains(n))||(this.activeMenuItem?this.activeMenuItem.activate():this.activateFirstItem())}handleFocusOut(e){var t;const i=e.relatedTarget;!this.activeMenuItem||this.getGui().contains(i)||null!=(t=this.activeMenuItem.getSubMenuGui())&&t.contains(i)||this.activeMenuItem.isSubMenuOpening()||this.activeMenuItem.deactivate()}clearActiveItem(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)}addMenuItems(e){null!=e&&Ki.all(e.map(t=>"separator"===t?Ki.resolve({eGui:this.createSeparator()}):"string"==typeof t?(console.warn(`AG Grid: unrecognised menu item ${t}`),Ki.resolve({eGui:null})):this.addItem(t))).then(t=>{t.forEach(i=>{i?.eGui&&(this.appendChild(i.eGui),i.comp&&this.menuItems.push(i.comp))})})}addItem(e){const t=this.createManagedBean(new ug);return t.init({menuItemDef:e,isAnotherSubMenuOpen:()=>this.menuItems.some(i=>i.isSubMenuOpen()),level:this.level,contextParams:this.params}).then(()=>(t.setParentComponent(this),this.addManagedListener(t,ug.EVENT_CLOSE_MENU,i=>{this.dispatchEvent(i)}),this.addManagedListener(t,ug.EVENT_MENU_ITEM_ACTIVATED,i=>{this.activeMenuItem&&this.activeMenuItem!==i.menuItem&&this.activeMenuItem.deactivate(),this.activeMenuItem=i.menuItem}),{comp:t,eGui:t.getGui()}))}activateFirstItem(){const e=this.menuItems.filter(t=>!t.isDisabled())[0];e&&e.activate()}createSeparator(){return qi('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>')}handleNavKey(e){switch(e){case S.UP:case S.DOWN:const i=this.findNextItem(e===S.UP);return void(i&&i!==this.activeMenuItem&&i.activate())}e===(this.gridOptionsService.get("enableRtl")?S.RIGHT:S.LEFT)?this.closeIfIsChild():this.openChild()}closeIfIsChild(e){const t=this.getParentComponent();return!!(t&&t instanceof ug)&&(e&&e.preventDefault(),t.closeSubMenu(),t.getGui().focus(),!0)}openChild(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)}findNextItem(e){const t=this.menuItems.filter(s=>!s.isDisabled());if(!t.length)return;if(!this.activeMenuItem)return e?Ae(t):t[0];e&&t.reverse();let i,n=!1;for(let s=0;s<t.length;s++){const r=t[s];if(n){i=r;break}r===this.activeMenuItem&&(n=!0)}return n&&!i?t[0]:i||this.activeMenuItem}destroy(){this.clearActiveItem(),super.destroy()}};h([g("focusService")],wS.prototype,"focusService",2),h([I],wS.prototype,"postConstruct",1);var Lk=class extends Hu{constructor(e){super(),this.wrappedComponent=e,this.setTemplateFromElement(e.getGui())}postConstruct(){this.initialiseTabGuard({onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)})}handleKeyDown(e){e.key===S.ESCAPE&&this.closePanel()}onTabKeyDown(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())}closePanel(){const e=this.parentComponent;e.closeSubMenu(),setTimeout(()=>e.getGui().focus(),0)}};h([I],Lk.prototype,"postConstruct",1);var Jo=class bd extends A{constructor(){super(...arguments),this.isActive=!1,this.subMenuIsOpen=!1,this.subMenuIsOpening=!1,this.suppressRootStyles=!0,this.suppressAria=!0,this.suppressFocus=!0}init(t){var i,n;const{menuItemDef:s,isAnotherSubMenuOpen:r,level:o,childComponent:a,contextParams:l}=t;return this.params=t.menuItemDef,this.level=o,this.isAnotherSubMenuOpen=r,this.childComponent=a,this.contextParams=l,this.cssClassPrefix=null!=(n=null==(i=this.params.menuItemParams)?void 0:i.cssClassPrefix)?n:"ag-menu-option",this.userComponentFactory.getMenuItemCompDetails(this.params,ot(z({},s),{level:o,isAnotherSubMenuOpen:r,openSubMenu:c=>this.openSubMenu(c),closeSubMenu:()=>this.closeSubMenu(),closeMenu:c=>this.closeMenu(c),updateTooltip:(c,u)=>this.refreshTooltip(c,u),onItemActivated:()=>this.onItemActivated()})).newAgStackInstance().then(c=>{var u;this.menuItemComp=c;const p=null==(u=c.configureDefaults)?void 0:u.call(c);p&&this.configureDefaults(!0===p?void 0:p)})}addListeners(t,i){i?.suppressClick||this.addManagedListener(t,"click",n=>this.onItemSelected(n)),i?.suppressKeyboardSelect||this.addManagedListener(t,"keydown",n=>{(n.key===S.ENTER||n.key===S.SPACE)&&(n.preventDefault(),this.onItemSelected(n))}),i?.suppressMouseDown||this.addManagedListener(t,"mousedown",n=>{n.stopPropagation(),n.preventDefault()}),i?.suppressMouseOver||(this.addManagedListener(t,"mouseenter",()=>this.onMouseEnter()),this.addManagedListener(t,"mouseleave",()=>this.onMouseLeave()))}isDisabled(){return!!this.params.disabled}openSubMenu(t=!1){var i,n;if(this.closeSubMenu(),!this.params.subMenu)return;this.subMenuIsOpening=!0;const s=qi('<div class="ag-menu" role="presentation"></div>');this.eSubMenuGui=s;let r,o=()=>{this.subMenuIsOpening=!1};if(this.childComponent){const c=this.createBean(new Lk(this.childComponent));c.setParentComponent(this);const u=c.getGui(),p="mouseenter",m=()=>this.cancelDeactivate();u.addEventListener(p,m),r=()=>u.removeEventListener(p,m),s.appendChild(u),this.childComponent.afterGuiAttached&&(o=()=>{this.childComponent.afterGuiAttached(),this.subMenuIsOpening=!1})}else if(this.params.subMenu){const c=this.createBean(new wS(this.level+1,this.contextParams));c.setParentComponent(this),c.addMenuItems(this.params.subMenu),s.appendChild(c.getGui()),this.addManagedListener(c,bd.EVENT_CLOSE_MENU,u=>this.dispatchEvent(u)),c.addGuiEventListener("mouseenter",()=>this.cancelDeactivate()),r=()=>this.destroyBean(c),t&&(o=()=>{c.activateFirstItem(),this.subMenuIsOpening=!1})}const a=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:this.eGui,ePopup:s}),l=this.localeService.getLocaleTextFunc(),d=this.popupService.addPopup({modal:!0,eChild:s,positionCallback:a,anchorToElement:this.eGui,ariaLabel:l("ariaLabelSubMenu","SubMenu"),afterGuiAttached:o});this.subMenuIsOpen=!0,this.setAriaExpanded(!0),this.hideSubMenu=()=>{var c,u;d&&d.hideFunc(),this.subMenuIsOpen=!1,this.setAriaExpanded(!1),r(),null==(u=(c=this.menuItemComp).setExpanded)||u.call(c,!1),this.eSubMenuGui=void 0},null==(n=(i=this.menuItemComp).setExpanded)||n.call(i,!0)}setAriaExpanded(t){this.suppressAria||or(this.eGui,t)}closeSubMenu(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,this.setAriaExpanded(!1))}isSubMenuOpen(){return this.subMenuIsOpen}isSubMenuOpening(){return this.subMenuIsOpening}activate(t){var i,n;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.suppressRootStyles||this.eGui.classList.add(`${this.cssClassPrefix}-active`),null==(n=(i=this.menuItemComp).setActive)||n.call(i,!0),this.suppressFocus||this.eGui.focus({preventScroll:!0}),t&&this.params.subMenu&&window.setTimeout(()=>{this.isAlive()&&this.isActive&&this.openSubMenu()},300),this.onItemActivated())}deactivate(){var t,i;this.cancelDeactivate(),this.suppressRootStyles||this.eGui.classList.remove(`${this.cssClassPrefix}-active`),null==(i=(t=this.menuItemComp).setActive)||i.call(t,!1),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()}getGui(){return this.menuItemComp.getGui()}getParentComponent(){return this.parentComponent}setParentComponent(t){this.parentComponent=t}getSubMenuGui(){return this.eSubMenuGui}onItemSelected(t){var i,n;null==(n=(i=this.menuItemComp).select)||n.call(i),this.params.action?this.getFrameworkOverrides().wrapOutgoing(()=>this.params.action(this.gridOptionsService.addGridCommonParams(z({},this.contextParams)))):this.openSubMenu(t&&"keydown"===t.type),!(this.params.subMenu&&!this.params.action||this.params.suppressCloseOnSelect)&&this.closeMenu(t)}closeMenu(t){this.dispatchEvent({type:bd.EVENT_CLOSE_MENU,event:t})}onItemActivated(){this.dispatchEvent({type:bd.EVENT_MENU_ITEM_ACTIVATED,menuItem:this})}cancelActivate(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)}cancelDeactivate(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)}onMouseEnter(){this.cancelDeactivate(),this.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(()=>this.activate(!0),bd.ACTIVATION_DELAY):this.activate(!0)}onMouseLeave(){this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(()=>this.deactivate(),bd.ACTIVATION_DELAY):this.deactivate()}configureDefaults(t){var i,n,s;if(this.tooltip=this.params.tooltip,!this.menuItemComp)return void setTimeout(()=>this.configureDefaults(t));let r=this.menuItemComp.getGui();const o=null==(n=(i=this.menuItemComp).getRootElement)?void 0:n.call(i);o&&(t?.suppressRootStyles||r.classList.add("ag-menu-option-custom"),r=o),this.eGui=r,this.suppressRootStyles=!!t?.suppressRootStyles,this.suppressRootStyles||(r.classList.add(this.cssClassPrefix),null==(s=this.params.cssClasses)||s.forEach(a=>r.classList.add(a)),this.params.disabled&&r.classList.add(`${this.cssClassPrefix}-disabled`)),t?.suppressTooltip||this.refreshTooltip(),this.suppressAria=!!t?.suppressAria,this.suppressAria||(ht(r,"treeitem"),aN(r,this.level+1),this.params.disabled&&f_(r,!0)),t?.suppressTabIndex||r.setAttribute("tabindex","-1"),this.params.disabled||this.addListeners(r,t),this.suppressFocus=!!t?.suppressFocus}refreshTooltip(t,i){this.tooltip=t,this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),t&&this.menuItemComp&&(this.tooltipFeature=this.createBean(new lr({getGui:()=>this.getGui(),getTooltipValue:()=>this.tooltip,getLocation:()=>"menu",shouldDisplayTooltip:i})))}destroy(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}};Jo.EVENT_CLOSE_MENU="closeMenu",Jo.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",Jo.ACTIVATION_DELAY=80,h([g("popupService")],Jo.prototype,"popupService",2),h([g("userComponentFactory")],Jo.prototype,"userComponentFactory",2),h([g("beans")],Jo.prototype,"beans",2);var ug=Jo,ea=class dE extends ee{constructor(t){super(dE.getTemplate(t)),this.config=t,this.closable=!0}static getTemplate(t){const i=t.cssIdentifier||"default";return`<div class="ag-panel ag-${i}-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-${i}-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-${i}-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-${i}-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-${i}-panel-content-wrapper"></div>\n        </div>`}postConstruct(){const{component:t,closable:i,hideTitleBar:n,title:s,minWidth:r=250,width:o,minHeight:a=250,height:l,centered:d,popup:c,x:u,y:p}=this.config;this.positionableFeature=new jl(this.getGui(),{minWidth:r,width:o,minHeight:a,height:l,centered:d,x:u,y:p,popup:c,calculateTopBuffer:()=>this.positionableFeature.getHeight()-this.getBodyHeight()}),this.createManagedBean(this.positionableFeature);const m=this.getGui();t&&this.setBodyComponent(t),n?we(this.eTitleBar,!1):(s&&this.setTitle(s),this.setClosable(i??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",v=>{const C=this.gridOptionsService.getDocument();if(m.contains(v.relatedTarget)||m.contains(C.activeElement)||this.eTitleBarButtons.contains(v.target))return void v.preventDefault();const b=this.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");b&&b.focus()}),(!c||!this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")}renderComponent(){const t=this.getGui();t.focus(),this.close=()=>{t.parentElement.removeChild(t),this.destroy()}}getHeight(){return this.positionableFeature.getHeight()}setHeight(t){this.positionableFeature.setHeight(t)}getWidth(){return this.positionableFeature.getWidth()}setWidth(t){this.positionableFeature.setWidth(t)}setClosable(t){if(t!==this.closable&&(this.closable=t),t){const i=this.closeButtonComp=new ee(dE.CLOSE_BTN_TEMPLATE);this.getContext().createBean(i);const n=i.getGui(),s=ct("close",this.gridOptionsService);s.classList.add("ag-panel-title-bar-button-icon"),n.appendChild(s),this.addTitleBarButton(i),i.addManagedListener(n,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){const i=this.closeButtonComp.getGui();i.parentElement.removeChild(i),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}}setBodyComponent(t){t.setParentComponent(this),this.eContentWrapper.appendChild(t.getGui())}addTitleBarButton(t,i){const n=this.eTitleBarButtons,s=n.children,r=s.length;null==i&&(i=r),i=Math.max(0,Math.min(i,r)),t.addCssClass("ag-panel-title-bar-button");const o=t.getGui();0===i?n.insertAdjacentElement("afterbegin",o):i===r?n.insertAdjacentElement("beforeend",o):s[i-1].insertAdjacentElement("afterend",o),t.setParentComponent(this)}getBodyHeight(){return bu(this.eContentWrapper)}getBodyWidth(){return Lo(this.eContentWrapper)}setTitle(t){this.eTitle.innerText=t}onBtClose(){this.close()}destroy(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));const t=this.getGui();t&&hn(t)&&this.close(),super.destroy()}};ea.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',h([N("eContentWrapper")],ea.prototype,"eContentWrapper",2),h([N("eTitleBar")],ea.prototype,"eTitleBar",2),h([N("eTitleBarButtons")],ea.prototype,"eTitleBarButtons",2),h([N("eTitle")],ea.prototype,"eTitle",2),h([I],ea.prototype,"postConstruct",1);var qee=ea;h([g("popupService")],class extends qee{constructor(e){super(ot(z({},e),{popup:!0})),this.isMaximizable=!1,this.isMaximized=!1,this.maximizeListeners=[],this.resizeListenerDestroy=null,this.lastPosition={x:0,y:0,width:0,height:0}}postConstruct(){const e=this.getGui(),{movable:t,resizable:i,maximizable:n}=this.config;this.addCssClass("ag-dialog"),super.postConstruct(),this.addManagedListener(e,"focusin",s=>{this.popupService.bringPopupToFront(e)}),t&&this.setMovable(t),n&&this.setMaximizable(n),i&&this.setResizable(i)}renderComponent(){const e=this.getGui(),{alwaysOnTop:t,modal:i,title:n,afterGuiAttached:s}=this.config,r=this.localeService.getLocaleTextFunc(),o=this.popupService.addPopup({modal:i,eChild:e,closeOnEsc:!0,closedCallback:this.onClosed.bind(this),alwaysOnTop:t,ariaLabel:n||r("ariaLabelDialog","Dialog"),afterGuiAttached:s});o&&(this.close=o.hideFunc)}onClosed(e){var t,i;this.destroy(),null==(i=(t=this.config).closedCallback)||i.call(t,e)}toggleMaximize(){const e=this.positionableFeature.getPosition();if(this.isMaximized){const{x:t,y:i,width:n,height:s}=this.lastPosition;this.setWidth(n),this.setHeight(s),this.positionableFeature.offsetElement(t,i)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=e.x,this.lastPosition.y=e.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()}refreshMaximizeIcon(){we(this.maximizeIcon,!this.isMaximized),we(this.minimizeIcon,this.isMaximized)}clearMaximizebleListeners(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(e=>e()),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)}destroy(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),super.destroy()}setResizable(e){this.positionableFeature.setResizable(e)}setMovable(e){this.positionableFeature.setMovable(e,this.eTitleBar)}setMaximizable(e){if(!e)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));const t=this.eTitleBar;if(!t||e===this.isMaximizable)return;const i=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),i.addManagedListener(i.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(i,0),this.maximizeListeners.push(this.addManagedListener(t,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",()=>{this.isMaximized=!1,this.refreshMaximizeIcon()})}buildMaximizeAndMinimizeElements(){const e=this.maximizeButtonComp=this.createBean(new ee('<div class="ag-dialog-button"></span>')),t=e.getGui();return this.maximizeIcon=ct("maximize",this.gridOptionsService),t.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=ct("minimize",this.gridOptionsService),t.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),e}}.prototype,"popupService",2);var Yee=0,pr=class extends A{constructor(){super(...arguments),this.popupList=[]}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridCtrl=e.gridCtrl}),this.addManagedListener(this.eventService,f.EVENT_GRID_STYLES_CHANGED,this.handleThemeChange.bind(this))}getPopupParent(){return this.gridOptionsService.get("popupParent")||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:i}=e,n=this.getPopupIndex(i);-1!==n&&(this.popupList[n].alignedToElement=t);const s=t.getBoundingClientRect(),r=this.getParentRect(),o=this.keepXYWithinBounds(i,s.top-r.top,0),a=i.clientWidth>0?i.clientWidth:200;i.style.minWidth=`${a}px`;const d=r.right-r.left-a;let c;function u(){return s.right-r.left-2}function p(){return s.left-r.left-a}this.gridOptionsService.get("enableRtl")?(c=p(),c<0&&(c=u(),this.setAlignedStyles(i,"left")),c>d&&(c=0,this.setAlignedStyles(i,"right"))):(c=u(),c>d&&(c=p(),this.setAlignedStyles(i,"right")),c<0&&(c=0,this.setAlignedStyles(i,"left"))),i.style.left=`${c}px`,i.style.top=`${o}px`}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:i,nudgeY:n,skipObserver:s}=e;this.positionPopup({ePopup:t,nudgeX:i,nudgeY:n,keepWithinBounds:!0,skipObserver:s,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:i,nudgeY:n,keepWithinBounds:s,eventSource:r,alignSide:o="left",position:a="over",column:l,rowNode:d,type:c}=e,u=r.getBoundingClientRect(),p=this.getParentRect(),m=this.getPopupIndex(t);-1!==m&&(this.popupList[m].alignedToElement=r),this.positionPopup({ePopup:t,nudgeX:i,nudgeY:n,keepWithinBounds:s,updatePosition:()=>{let b,C=u.left-p.left;return"right"===o&&(C-=t.offsetWidth-u.width),"over"===a?(b=u.top-p.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),b="under"===this.shouldRenderUnderOrAbove(t,u,p,e.nudgeY||0)?u.top-p.top+u.height:u.top-t.offsetHeight-2*(n||0)-p.top),{x:C,y:b}},postProcessCallback:()=>this.callPostProcessPopup(c,t,r,null,l,d)})}shouldRenderUnderOrAbove(e,t,i,n){const s=i.bottom-t.bottom,r=t.top-i.top,o=e.offsetHeight+n;return s>o?"under":r>o||r>s?"above":"under"}setAlignedStyles(e,t){const i=this.getPopupIndex(e);if(-1===i)return;const n=this.popupList[i],{alignedToElement:s}=n;!s||(["right","left","over","above","under"].forEach(o=>{s.classList.remove(`ag-has-popup-positioned-${o}`),e.classList.remove(`ag-popup-positioned-${o}`)}),!t)||(s.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}callPostProcessPopup(e,t,i,n,s,r){const o=this.gridOptionsService.getCallback("postProcessPopup");o&&o({column:s,rowNode:r,ePopup:t,type:e,eventSource:i,mouseEvent:n})}positionPopup(e){const{ePopup:t,keepWithinBounds:i,nudgeX:n,nudgeY:s,skipObserver:r,updatePosition:o}=e,a={width:0,height:0},l=(d=!1)=>{let{x:c,y:u}=o();d&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,n&&(c+=n),s&&(u+=s),i&&(c=this.keepXYWithinBounds(t,c,1),u=this.keepXYWithinBounds(t,u,0)),t.style.left=`${c}px`,t.style.top=`${u}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!r){const d=this.resizeObserverService.observeResize(t,()=>l(!0));setTimeout(()=>d(),pr.WAIT_FOR_POPUP_CONTENT_RESIZE)}}getActivePopups(){return this.popupList.map(e=>e.element)}getPopupList(){return this.popupList}getParentRect(){const e=this.gridOptionsService.getDocument();let t=this.getPopupParent();return t===e.body?t=e.documentElement:"static"===getComputedStyle(t).position&&(t=t.offsetParent),k_(t)}keepXYWithinBounds(e,t,i){const n=0===i,s=n?"clientHeight":"clientWidth",r=n?"top":"left",o=n?"offsetHeight":"offsetWidth",a=n?"scrollTop":"scrollLeft",l=this.gridOptionsService.getDocument(),d=l.documentElement,c=this.getPopupParent(),u=c.getBoundingClientRect(),p=l.documentElement.getBoundingClientRect(),m=c===l.body,v=e[o];let b=m?(n?N_:wu)(d)+d[a]:c[s];m&&(b-=Math.abs(p[r]-u[r]));const y=b-v;return Math.min(Math.max(t,0),Math.abs(y))}addPopup(e){const t=this.gridOptionsService.getDocument(),{eChild:i,ariaLabel:n,alwaysOnTop:s,positionCallback:r,anchorToElement:o}=e;if(!t)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:()=>{}};const a=this.getPopupIndex(i);if(-1!==a)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(i);const l=this.createPopupWrapper(i,n,!!s),d=this.addEventListenersToPopup(ot(z({},e),{wrapperEl:l}));return r&&r(),this.addPopupToPopupList(i,l,d,o),{hideFunc:d}}initialisePopupPosition(e){const i=this.getPopupParent().getBoundingClientRect();R(e.style.top)||(e.style.top=-1*i.top+"px"),R(e.style.left)||(e.style.left=-1*i.left+"px")}createPopupWrapper(e,t,i){const n=this.getPopupParent(),s=document.createElement("div"),{allThemes:r}=this.environment.getTheme();return r.length&&s.classList.add(...r),s.classList.add("ag-popup"),e.classList.add(this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||ht(e,"dialog"),is(e,t),s.appendChild(e),n.appendChild(s),i?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),s}handleThemeChange(){const{allThemes:e}=this.environment.getTheme();for(const t of this.popupList){for(const i of Array.from(t.wrapper.classList))i.startsWith("ag-theme-")&&t.wrapper.classList.remove(i);e.length&&t.wrapper.classList.add(...e)}}addEventListenersToPopup(e){const t=this.gridOptionsService.getDocument(),i=this.getPopupParent(),{wrapperEl:n,eChild:s,closedCallback:o,afterGuiAttached:a,closeOnEsc:l,modal:d}=e;let c=!1;const u=C=>{n.contains(t.activeElement)&&C.key===S.ESCAPE&&!ts(C)&&v({keyboardEvent:C})},p=C=>v({mouseEvent:C}),m=C=>v({touchEvent:C}),v=(C={})=>{const{mouseEvent:b,touchEvent:y,keyboardEvent:w}=C;this.isEventFromCurrentPopup({mouseEvent:b,touchEvent:y},s)||c||(c=!0,i.removeChild(n),t.removeEventListener("keydown",u),t.removeEventListener("mousedown",p),t.removeEventListener("touchstart",m),t.removeEventListener("contextmenu",p),this.eventService.removeEventListener(f.EVENT_DRAG_STARTED,p),o&&o(b||y||w),this.removePopupFromPopupList(s))};return a&&a({hidePopup:v}),window.setTimeout(()=>{l&&t.addEventListener("keydown",u),d&&(t.addEventListener("mousedown",p),this.eventService.addEventListener(f.EVENT_DRAG_STARTED,p),t.addEventListener("touchstart",m),t.addEventListener("contextmenu",p))},0),v}addPopupToPopupList(e,t,i,n){this.popupList.push({element:e,wrapper:t,hideFunc:i,instanceId:Yee++,isAnchored:!!n}),n&&this.setPopupPositionRelatedToElement(e,n)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const i=this.getPopupIndex(e);if(-1===i)return;const n=this.popupList[i];if(n.stopAnchoringPromise&&n.stopAnchoringPromise.then(r=>r&&r()),n.stopAnchoringPromise=void 0,n.isAnchored=!1,!t)return;const s=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:n.hideFunc});return n.stopAnchoringPromise=s,n.isAnchored=!0,s}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),i=t.getBoundingClientRect(),{element:n,ePopup:s}=e,r=n.getBoundingClientRect(),o=i.top-r.top,a=i.left-r.left;let l=o,d=a;const c=s.style.top,u=parseInt(c.substring(0,c.length-1),10),p=s.style.left,m=parseInt(p.substring(0,p.length-1),10);return new Ki(v=>{this.getFrameworkOverrides().setInterval(()=>{const C=t.getBoundingClientRect(),b=n.getBoundingClientRect();if(0==b.top&&0==b.left&&0==b.height&&0==b.width)return void e.hidePopup();const w=C.top-b.top;if(w!=l){const D=this.keepXYWithinBounds(s,u+o-w,0);s.style.top=`${D}px`}l=w;const E=C.left-b.left;if(E!=d){const D=this.keepXYWithinBounds(s,m+a-E,1);s.style.left=`${D}px`}d=E},200).then(C=>{v(()=>{null!=C&&window.clearInterval(C)})})})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:i,touchEvent:n}=e,s=i||n;if(!s)return!1;const r=this.getPopupIndex(t);if(-1===r)return!1;for(let o=r;o<this.popupList.length;o++)if(Am(this.popupList[o].element,s))return!0;return this.isElementWithinCustomPopup(s.target)}isElementWithinCustomPopup(e){const t=this.gridOptionsService.getDocument();for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||null===e.parentElement)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const i=this.getWrapper(e);i&&(i.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(i))}bringPopupToFront(e){const t=this.getPopupParent(),i=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),n=i.length,s=Array.prototype.slice.call(t.querySelectorAll(".ag-popup.ag-always-on-top")),r=s.length,o=this.getWrapper(e);if(!o||n<=1||!t.contains(e))return;const a=i.indexOf(o),l=o.querySelectorAll("div"),d=[];for(l.forEach(c=>{0!==c.scrollTop&&d.push([c,c.scrollTop])}),r?o.classList.contains("ag-always-on-top")?a!==n-1&&Ae(s).insertAdjacentElement("afterend",o):a!==n-r-1&&s[0].insertAdjacentElement("beforebegin",o):a!==n-1&&Ae(i).insertAdjacentElement("afterend",o);d.length;){const c=d.pop();c[0].scrollTop=c[1]}}};pr.WAIT_FOR_POPUP_CONTENT_RESIZE=200,h([g("focusService")],pr.prototype,"focusService",2),h([g("ctrlsService")],pr.prototype,"ctrlsService",2),h([g("resizeObserverService")],pr.prototype,"resizeObserverService",2),h([I],pr.prototype,"postConstruct",1),pr=h([V("popupService")],pr);var Qee=class extends ee{constructor(){super('\n        <div class="ag-autocomplete-row" role="presentation">\n            <div class="ag-autocomplete-row-label"></div>\n        </div>'),this.hasHighlighting=!1}setState(e,t){this.value=e,this.render(),this.updateSelected(t)}updateSelected(e){this.addOrRemoveCssClass("ag-autocomplete-row-selected",e)}setSearchString(e){var t;let i=!1;if(R(e)){const n=null==(t=this.value)?void 0:t.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(n>=0){i=!0,this.hasHighlighting=!0;const s=n+e.length,r=Nt(this.value.slice(0,n)),o=Nt(this.value.slice(n,s)),a=Nt(this.value.slice(s));this.getGui().lastElementChild.innerHTML=`${r}<b>${o}</b>${a}`}}!i&&this.hasHighlighting&&(this.hasHighlighting=!1,this.render())}render(){var e;this.getGui().lastElementChild.innerHTML=null!=(e=Nt(this.value))?e:"&nbsp;"}},hg=class uV extends Go{constructor(t){super(uV.TEMPLATE),this.params=t,this.searchString=""}destroy(){super.destroy()}init(){this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList=this.createManagedBean(new Ok({cssIdentifier:"autocomplete"})),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:()=>this.autocompleteEntries.length,getRow:i=>this.autocompleteEntries[i]});const t=this.virtualList.getGui();this.addManagedListener(t,"click",()=>this.params.onConfirmed()),this.addManagedListener(t,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(t,"mousedown",i=>i.preventDefault()),this.setSelectedValue(0)}onNavigationKeyDown(t,i){t.preventDefault();const n=this.autocompleteEntries.indexOf(this.selectedValue);this.checkSetSelectedValue(i===S.UP?n-1:n+1)}setSearch(t){this.searchString=t,R(t)?this.runSearch():(this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList.refresh(),this.checkSetSelectedValue(0)),this.updateSearchInList()}runContainsSearch(t,i){let n,s=!1;const r=t.toLocaleLowerCase(),o=i.filter(a=>{const d=a.toLocaleLowerCase().indexOf(r),c=0===d,u=d>=0;return u&&(!n||!s&&c||s===c&&a.length<n.length)&&(n=a,s=c),u});return!n&&o.length&&(n=o[0]),{topMatch:n,allMatches:o}}runSearch(){var t,i;const{autocompleteEntries:n}=this.params,s=n.map(d=>{var c;return null!=(c=d.displayValue)?c:d.key});let r,o;if(this.params.useFuzzySearch)r=xu(this.searchString,s,!0).values,o=r.length?r[0]:void 0;else{const d=this.runContainsSearch(this.searchString,s);r=d.allMatches,o=d.topMatch}let a=n.filter(({key:d,displayValue:c})=>r.includes(c??d));if(!a.length&&this.selectedValue&&null!=(i=null==(t=this.params)?void 0:t.forceLastSelection)&&i.call(t,this.selectedValue,this.searchString)&&(a=[this.selectedValue]),this.autocompleteEntries=a,this.virtualList.refresh(),!o)return;const l=r.indexOf(o);this.checkSetSelectedValue(l)}updateSearchInList(){this.virtualList.forEachRenderedRow(t=>t.setSearchString(this.searchString))}checkSetSelectedValue(t){t>=0&&t<this.autocompleteEntries.length&&this.setSelectedValue(t)}setSelectedValue(t){const i=this.autocompleteEntries[t];this.selectedValue!==i&&(this.selectedValue=i,this.virtualList.ensureIndexVisible(t),this.virtualList.forEachRenderedRow((n,s)=>{n.updateSelected(t===s)}))}createRowComponent(t){var i;const n=new Qee;return this.getContext().createBean(n),n.setState(null!=(i=t.displayValue)?i:t.key,t===this.selectedValue),n}onMouseMove(t){const i=this.virtualList.getGui().getBoundingClientRect(),n=this.virtualList.getScrollTop(),r=Math.floor((t.clientY-i.top+n)/this.virtualList.getRowHeight());this.checkSetSelectedValue(r)}afterGuiAttached(){this.virtualList.refresh()}getSelectedValue(){var t;return this.autocompleteEntries.length&&null!=(t=this.selectedValue)?t:null}};hg.TEMPLATE='<div class="ag-autocomplete-list-popup">\n            <div ref="eList" class="ag-autocomplete-list"></div>\n        <div>',h([N("eList")],hg.prototype,"eList",2),h([I],hg.prototype,"init",1);var Zee=hg,jr=class Ch extends ee{constructor(){super('\n            <div class="ag-autocomplete" role="presentation">\n                <ag-input-text-field ref="eAutocompleteInput"></ag-input-text-field>\n            </div>'),this.isListOpen=!1,this.lastPosition=0,this.valid=!0}postConstruct(){this.eAutocompleteInput.onValueChange(t=>this.onValueChanged(t)),this.eAutocompleteInput.getInputElement().setAttribute("autocomplete","off"),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addGuiEventListener("click",this.updatePositionAndList.bind(this)),this.addDestroyFunc(()=>{this.destroyBean(this.autocompleteList)}),this.addGuiEventListener("focusout",()=>this.onFocusOut())}onValueChanged(t){const i=Es(t);this.updateValue(i),this.updateAutocompleteList(i)}updateValue(t){this.updateLastPosition(),this.dispatchEvent({type:Ch.EVENT_VALUE_CHANGED,value:t}),this.validate(t)}updateAutocompleteList(t){var i,n,s,r;const o=null!=(n=null==(i=this.listGenerator)?void 0:i.call(this,t,this.lastPosition))?n:{enabled:!1};if((!o.type||o.type!==(null==(s=this.autocompleteListParams)?void 0:s.type))&&this.isListOpen&&this.closeList(),this.autocompleteListParams=o,null!=(r=this.autocompleteListParams)&&r.enabled){this.isListOpen||this.openList();const{searchString:a}=this.autocompleteListParams;this.autocompleteList.setSearch(a??"")}else this.isListOpen&&this.closeList()}onKeyDown(t){const i=t.key;switch(this.updateLastPosition(),i){case S.ENTER:this.onEnterKeyDown(t);break;case S.TAB:this.onTabKeyDown(t);break;case S.DOWN:case S.UP:this.onUpDownKeyDown(t,i);break;case S.LEFT:case S.RIGHT:case S.PAGE_HOME:case S.PAGE_END:setTimeout(()=>{this.updatePositionAndList()});break;case S.ESCAPE:this.onEscapeKeyDown(t);break;case S.SPACE:t.ctrlKey&&!this.isListOpen&&(t.preventDefault(),this.forceOpenList())}}confirmSelection(){var t;const i=null==(t=this.autocompleteList)?void 0:t.getSelectedValue();i&&(this.closeList(),this.dispatchEvent({type:Ch.EVENT_OPTION_SELECTED,value:this.getValue(),position:this.lastPosition,updateEntry:i,autocompleteType:this.autocompleteListParams.type}))}onTabKeyDown(t){this.isListOpen&&(t.preventDefault(),t.stopPropagation(),this.confirmSelection())}onEnterKeyDown(t){t.preventDefault(),this.isListOpen?this.confirmSelection():this.onCompleted()}onUpDownKeyDown(t,i){var n;t.preventDefault(),this.isListOpen?null==(n=this.autocompleteList)||n.onNavigationKeyDown(t,i):this.forceOpenList()}onEscapeKeyDown(t){this.isListOpen&&(t.preventDefault(),t.stopPropagation(),this.closeList(),this.setCaret(this.lastPosition,!0))}onFocusOut(){this.isListOpen&&this.closeList()}updatePositionAndList(){var t;this.updateLastPosition(),this.updateAutocompleteList(null!=(t=this.eAutocompleteInput.getValue())?t:null)}setCaret(t,i){const n=this.gridOptionsService.getDocument();i&&n.activeElement===n.body&&this.eAutocompleteInput.getFocusableElement().focus();const s=this.eAutocompleteInput.getInputElement();s.setSelectionRange(t,t),t===s.value.length&&(s.scrollLeft=s.scrollWidth)}forceOpenList(){this.onValueChanged(this.eAutocompleteInput.getValue())}updateLastPosition(){var t;this.lastPosition=null!=(t=this.eAutocompleteInput.getInputElement().selectionStart)?t:0}validate(t){var i;this.validator&&(this.validationMessage=this.validator(t),this.eAutocompleteInput.getInputElement().setCustomValidity(null!=(i=this.validationMessage)?i:""),this.valid=!this.validationMessage,this.dispatchEvent({type:Ch.EVENT_VALID_CHANGED,isValid:this.valid,validationMessage:this.validationMessage}))}openList(){this.isListOpen=!0,this.autocompleteList=this.createBean(new Zee({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:()=>this.confirmSelection(),forceLastSelection:this.forceLastSelection}));const t=this.autocompleteList.getGui(),i={ePopup:t,type:"autocomplete",eventSource:this.getGui(),position:"under",alignSide:this.gridOptionsService.get("enableRtl")?"right":"left",keepWithinBounds:!0},n=this.popupService.addPopup({eChild:t,anchorToElement:this.getGui(),positionCallback:()=>this.popupService.positionPopupByComponent(i),ariaLabel:this.listAriaLabel});this.hidePopup=n.hideFunc,this.autocompleteList.afterGuiAttached()}closeList(){this.isListOpen=!1,this.hidePopup(),this.destroyBean(this.autocompleteList),this.autocompleteList=null}onCompleted(){this.isListOpen&&this.closeList(),this.dispatchEvent({type:Ch.EVENT_VALUE_CONFIRMED,value:this.getValue(),isValid:this.isValid()})}getValue(){return Es(this.eAutocompleteInput.getValue())}setInputPlaceholder(t){return this.eAutocompleteInput.setInputPlaceholder(t),this}setInputAriaLabel(t){return this.eAutocompleteInput.setInputAriaLabel(t),this}setListAriaLabel(t){return this.listAriaLabel=t,this}setListGenerator(t){return this.listGenerator=t,this}setValidator(t){return this.validator=t,this}isValid(){return this.valid}setValue(t){const{value:i,position:n,silent:s,updateListOnlyIfOpen:r,restoreFocus:o}=t;this.eAutocompleteInput.setValue(i,!0),this.setCaret(n??this.lastPosition,o),s||this.updateValue(i),(!r||this.isListOpen)&&this.updateAutocompleteList(i)}setForceLastSelection(t){return this.forceLastSelection=t,this}setInputDisabled(t){return this.eAutocompleteInput.setDisabled(t),this}};jr.EVENT_VALUE_CHANGED="eventValueChanged",jr.EVENT_VALUE_CONFIRMED="eventValueConfirmed",jr.EVENT_OPTION_SELECTED="eventOptionSelected",jr.EVENT_VALID_CHANGED="eventValidChanged",h([g("popupService")],jr.prototype,"popupService",2),h([N("eAutocompleteInput")],jr.prototype,"eAutocompleteInput",2),h([I],jr.prototype,"postConstruct",1);var Xee=jr,$r=class Ug extends ee{constructor(t,i,n,s){super(),this.dragSourceDropTarget=t,this.ghost=i,this.horizontal=n,this.template=s}init(){var t;this.setTemplate(null!=(t=this.template)?t:Ug.TEMPLATE);const i=this.getGui();this.addElementClasses(i),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(ct("columnDrag",this.gridOptionsService)),this.eButton.appendChild(ct("cancel",this.gridOptionsService)),this.setupComponents(),!this.ghost&&this.isDraggable()&&this.addDragSource(),this.setupAria(),this.setupTooltip(),this.activateTabIndex(),this.refreshDraggable()}isDraggable(){return!0}refreshDraggable(){this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!this.isDraggable())}setupAria(){const t=this.localeService.getLocaleTextFunc(),i=[this.getAriaDisplayName()];this.addAdditionalAriaInstructions(i,t),is(this.getGui(),i.join(". "))}addAdditionalAriaInstructions(t,i){if(this.isRemovable()){const n=i("ariaDropZoneColumnComponentDescription","Press DELETE to remove");t.push(n)}}setupTooltip(){const t=()=>{const i=this.getTooltip();this.setTooltip({newTooltipText:i})};t(),this.addManagedListener(this.eventService,f.EVENT_NEW_COLUMNS_LOADED,t)}getDragSourceId(){}getDefaultIconName(){return ie.ICON_NOT_ALLOWED}addDragSource(){const{dragAndDropService:t,eDragHandle:i}=this,n=this.createGetDragItem(),s=this.getDefaultIconName(),r={type:this.getDragSourceType(),sourceId:this.getDragSourceId(),eElement:i,getDefaultIconName:()=>s,getDragItem:n,dragItemName:this.getDisplayName()};t.addDragSource(r,!0),this.addDestroyFunc(()=>t.removeDragSource(r))}setupComponents(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost")}isRemovable(){return!0}refreshRemove(){we(this.eButton,this.isRemovable())}setupRemove(){this.refreshRemove();const t={type:Ug.EVENT_COLUMN_REMOVE};this.addGuiEventListener("keydown",n=>this.onKeyDown(n)),this.addManagedListener(this.eButton,"click",n=>{this.dispatchEvent(t),n.stopPropagation()});const i=new Jt(this.eButton);this.addManagedListener(i,Jt.EVENT_TAP,()=>{this.dispatchEvent(t)}),this.addDestroyFunc(i.destroy.bind(i))}onKeyDown(t){t.key===S.DELETE&&this.isRemovable()&&(t.preventDefault(),this.dispatchEvent({type:Ug.EVENT_COLUMN_REMOVE}))}getDisplayValue(){return this.getDisplayName()}setTextValue(){const i=Nt(this.getDisplayValue());this.eText.innerHTML=i}addElementClasses(t,i){t.classList.add("ag-column-drop-cell"+(i=i?`-${i}`:""),`ag-column-drop-${this.horizontal?"horizontal":"vertical"}-cell${i}`)}destroy(){super.destroy(),this.dragSourceDropTarget=null}};$r.EVENT_COLUMN_REMOVE="columnRemove",$r.TEMPLATE='<span role="option">\n          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>\n          <span ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>\n          <span ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>\n        </span>',h([g("dragAndDropService")],$r.prototype,"dragAndDropService",2),h([N("eText")],$r.prototype,"eText",2),h([N("eDragHandle")],$r.prototype,"eDragHandle",2),h([N("eButton")],$r.prototype,"eButton",2),h([I],$r.prototype,"init",1);var Jee=$r,$u=class ks extends ee{constructor(t){super('<div class="ag-unselectable" role="presentation"></div>'),this.horizontal=t,this.state=ks.STATE_NOT_DRAGGING,this.guiDestroyFunctions=[],this.childPillComponents=[],this.resizeEnabled=!1,this.addElementClasses(this.getGui()),this.ePillDropList=document.createElement("div"),this.addElementClasses(this.ePillDropList,"list"),ht(this.ePillDropList,"listbox")}isHorizontal(){return this.horizontal}toggleResizable(t){this.positionableFeature.setResizable(!!t&&{bottom:!0}),this.resizeEnabled=t}isSourceEventFromTarget(t){const{dropZoneTarget:i,dragSource:n}=t;return i.contains(n.eElement)}destroy(){this.destroyGui(),super.destroy()}destroyGui(){this.guiDestroyFunctions.forEach(t=>t()),this.guiDestroyFunctions.length=0,this.childPillComponents.length=0,It(this.getGui()),It(this.ePillDropList)}init(t){this.params=t??{},this.createManagedBean(new Br(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.setupDropTarget(),this.positionableFeature=new jl(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature),this.refreshGui(),is(this.ePillDropList,this.getAriaLabel())}handleKeyDown(t){let n=t.key===S.DOWN,s=t.key===S.UP;if(this.horizontal){const o=this.gridOptionsService.get("enableRtl");n=!o&&t.key===S.RIGHT||o&&t.key===S.LEFT,s=!o&&t.key===S.LEFT||o&&t.key===S.RIGHT}if(!n&&!s)return;const r=this.focusService.findNextFocusableElement(this.getFocusableElement(),!1,s);r&&(t.preventDefault(),r.focus())}addElementClasses(t,i){t.classList.add("ag-column-drop"+(i=i?`-${i}`:""),`ag-column-drop-${this.horizontal?"horizontal":"vertical"}${i}`)}setupDropTarget(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.dragAndDropService.addDropTarget(this.dropTarget)}minimumAllowedNewInsertIndex(){return 0}checkInsertIndex(t){const i=this.getNewInsertIndex(t);if(i<0)return!1;const n=this.minimumAllowedNewInsertIndex(),s=Math.max(n,i),r=s!==this.insertIndex;return r&&(this.insertIndex=s),r}getNewInsertIndex(t){const i=t.event,n=this.horizontal?i.clientX:i.clientY,s=this.childPillComponents.map(o=>o.getGui().getBoundingClientRect()),r=s.findIndex(o=>this.horizontal?o.right>n&&o.left<n:o.top<n&&o.bottom>n);if(-1===r){const o=this.gridOptionsService.get("enableRtl");return s.every(d=>n>(this.horizontal?d.right:d.bottom))?o&&this.horizontal?0:this.childPillComponents.length:s.every(d=>n<(this.horizontal?d.left:d.top))?o&&this.horizontal?this.childPillComponents.length:0:this.insertIndex}return this.insertIndex<=r?r+1:r}checkDragStartedBySelf(t){this.state===ks.STATE_NOT_DRAGGING&&(this.state=ks.STATE_REARRANGE_ITEMS,this.potentialDndItems=this.getItems(t.dragSource.getDragItem()),this.refreshGui(),this.checkInsertIndex(t),this.refreshGui())}onDragging(t){this.checkDragStartedBySelf(t),this.checkInsertIndex(t)&&this.refreshGui()}handleDragEnterEnd(t){}onDragEnter(t){const i=this.getItems(t.dragSource.getDragItem());this.state=ks.STATE_NEW_ITEMS_IN;const n=i.filter(r=>this.isItemDroppable(r,t)),s=n.every(r=>-1!==this.childPillComponents.map(o=>o.getItem()).indexOf(r));if(0!==n.length){if(this.potentialDndItems=n,s)return void(this.state=ks.STATE_NOT_DRAGGING);this.handleDragEnterEnd(t),this.checkInsertIndex(t),this.refreshGui()}}isPotentialDndItems(){return HL(this.potentialDndItems)}handleDragLeaveEnd(t){}onDragLeave(t){if(this.state===ks.STATE_REARRANGE_ITEMS){const i=this.getItems(t.dragSource.getDragItem());this.removeItems(i)}this.isPotentialDndItems()&&(this.handleDragLeaveEnd(t),this.potentialDndItems=[],this.refreshGui()),this.state=ks.STATE_NOT_DRAGGING}refreshOnDragStop(){return!0}onDragStop(){if(this.isPotentialDndItems()){let t=!1;this.state===ks.STATE_NEW_ITEMS_IN?(this.addItems(this.potentialDndItems),t=!0):t=this.rearrangeItems(this.potentialDndItems),this.potentialDndItems=[],(this.refreshOnDragStop()||!t)&&this.refreshGui()}this.state=ks.STATE_NOT_DRAGGING}removeItems(t){const i=this.getExistingItems().filter(n=>!un(t,n));this.updateItems(i)}addItems(t){if(!t)return;const i=this.getExistingItems().slice(),n=t.filter(s=>i.indexOf(s)<0);s_(i,n,this.insertIndex),this.updateItems(i)}addItem(t){this.insertIndex=this.getExistingItems().length,this.addItems([t]),this.refreshGui()}rearrangeItems(t){const i=this.getNonGhostItems().slice();return s_(i,t,this.insertIndex),!Ds(i,this.getExistingItems())&&(this.updateItems(i),!0)}refreshGui(){const t=this.ePillDropList.scrollTop,i=this.resizeEnabled,n=this.getFocusedItem();let s=this.focusService.findNextFocusableElement();s||(s=this.focusService.findNextFocusableElement(void 0,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addItemsToGui(),this.isHorizontal()||(this.ePillDropList.scrollTop=t),i&&this.toggleResizable(i),this.focusService.isKeyboardMode()&&this.restoreFocus(n,s)}getFocusedItem(){const t=this.getGui(),i=this.gridOptionsService.getDocument().activeElement;return t.contains(i)?Array.from(t.querySelectorAll(".ag-column-drop-cell")).indexOf(i):-1}restoreFocus(t,i){const n=this.getGui(),s=Array.from(n.querySelectorAll(".ag-column-drop-cell"));if(-1===t)return;0===s.length&&i.focus();const o=s[Math.min(s.length-1,t)];o&&o.focus()}focusList(t){this.restoreFocus(t?this.childPillComponents.length-1:0,this.getFocusableElement())}getNonGhostItems(){const t=this.getExistingItems();return this.isPotentialDndItems()?t.filter(i=>!un(this.potentialDndItems,i)):t}addItemsToGui(){const i=this.getNonGhostItems().map(n=>this.createItemComponent(n,!1));if(this.isPotentialDndItems()){const n=this.potentialDndItems.map(s=>this.createItemComponent(s,!0));this.insertIndex>=i.length?i.push(...n):i.splice(this.insertIndex,0,...n)}this.appendChild(this.ePillDropList),i.forEach((n,s)=>{s>0&&this.addArrow(this.ePillDropList),this.ePillDropList.appendChild(n.getGui())}),this.addAriaLabelsToComponents()}addAriaLabelsToComponents(){this.childPillComponents.forEach((t,i)=>{const n=t.getGui();Lm(n,i+1),Pm(n,this.childPillComponents.length)})}createItemComponent(t,i){const n=this.createPillComponent(t,this.dropTarget,i,this.horizontal);return n.addEventListener(Jee.EVENT_COLUMN_REMOVE,this.removeItems.bind(this,[t])),this.context.createBean(n),this.guiDestroyFunctions.push(()=>this.destroyBean(n)),i||this.childPillComponents.push(n),n}addIconAndTitleToGui(){const{title:t,icon:i}=this.params;if(!t||!i)return;const n=document.createElement("div");if(Cu(n,!0),this.addElementClasses(n,"title-bar"),this.addElementClasses(i,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingItemsEmpty()),n.appendChild(i),!this.horizontal){const s=document.createElement("span");this.addElementClasses(s,"title"),s.innerHTML=t,n.appendChild(s)}this.appendChild(n)}isExistingItemsEmpty(){return 0===this.getExistingItems().length}addEmptyMessageToGui(){const{emptyMessage:t}=this.params;if(!t||!this.isExistingItemsEmpty()||this.isPotentialDndItems())return;const i=document.createElement("span");i.innerHTML=t,this.addElementClasses(i,"empty-message"),this.ePillDropList.appendChild(i)}addArrow(t){if(this.horizontal){const n=ct(this.gridOptionsService.get("enableRtl")?"smallLeft":"smallRight",this.gridOptionsService);this.addElementClasses(n,"cell-separator"),t.appendChild(n)}}};$u.STATE_NOT_DRAGGING="notDragging",$u.STATE_NEW_ITEMS_IN="newItemsIn",$u.STATE_REARRANGE_ITEMS="rearrangeItems",h([g("focusService")],$u.prototype,"focusService",2),h([g("dragAndDropService")],$u.prototype,"dragAndDropService",2);var ete=["touchstart","touchend","touchmove","touchcancel"],Nk=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t()}setInterval(e,t){return new Ki(i=>{i(window.setInterval(e,t))})}addEventListener(e,t,i,n){const s=un(ete,t);e.addEventListener(t,i,{capture:!!n,passive:s})}get shouldWrapOutgoing(){return!1}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`https://www.ag-grid.com/${"solid"===this.frameworkName?"react":this.frameworkName}-data-grid${e?`/${e}`:""}`}},qr=class extends A{getNextCellToFocus(e,t,i=!1){return i?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const i=e===S.UP,s=e===S.LEFT;let r,o;if(i||e===S.DOWN)o=i?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),r=t.column;else{const a=this.columnModel.getAllDisplayedColumns(),l=this.gridOptionsService.get("enableRtl");o=t.rowIndex,r=s!==l?a[0]:Ae(a)}return{rowIndex:o,rowPinned:null,column:r}}getNextCellToFocusWithoutCtrlPressed(e,t){let i=t,n=!1;for(;!n;){switch(e){case S.UP:i=this.getCellAbove(i);break;case S.DOWN:i=this.getCellBelow(i);break;case S.RIGHT:i=this.gridOptionsService.get("enableRtl")?this.getCellToLeft(i):this.getCellToRight(i);break;case S.LEFT:i=this.gridOptionsService.get("enableRtl")?this.getCellToRight(i):this.getCellToLeft(i);break;default:i=null,console.warn("AG Grid: unknown key for navigation "+e)}n=!i||this.isCellGoodToFocusOn(i)}return i}isCellGoodToFocusOn(e){const t=e.column;let i;switch(e.rowPinned){case"top":i=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":i=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:i=this.rowModel.getRow(e.rowIndex)}return!!i&&!t.isSuppressNavigable(i)}getCellToLeft(e){if(!e)return null;const t=this.columnModel.getDisplayedColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.columnModel.getDisplayedColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){const t=e.rowIndex,i=e.rowPinned;if(this.isLastRowInContainer(e))switch(i){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}const n=this.rowModel.getRow(e.rowIndex);return this.getNextStickyPosition(n)||{rowIndex:t+1,rowPinned:i}}getNextStickyPosition(e,t){if(!this.gridOptionsService.isGroupRowsSticky()||!e||!e.sticky)return;const i=[...this.rowRenderer.getStickyTopRowCtrls()].sort((o,a)=>o.getRowNode().rowIndex-a.getRowNode().rowIndex),n=t?-1:1,s=i.findIndex(o=>o.getRowNode().rowIndex===e.rowIndex),r=i[s+n];return r?{rowIndex:r.getRowNode().rowIndex,rowPinned:null}:void 0}getCellBelow(e){if(!e)return null;const t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}isLastRowInContainer(e){const t=e.rowPinned,i=e.rowIndex;return"top"===t?this.pinnedRowModel.getPinnedTopRowData().length-1<=i:"bottom"===t?this.pinnedRowModel.getPinnedBottomRowData().length-1<=i:this.paginationProxy.getPageLastRow()<=i}getRowAbove(e){const t=e.rowIndex,i=e.rowPinned;if(i?0===t:t===this.paginationProxy.getPageFirstRow())return"top"===i?null:i&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;const s=this.rowModel.getRow(e.rowIndex);return this.getNextStickyPosition(s,!0)||{rowIndex:t-1,rowPinned:i}}getCellAbove(e){if(!e)return null;const t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:"top"}}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const t=this.columnModel.getAllDisplayedColumns();let i=e.rowIndex,n=e.rowPinned,s=this.columnModel.getDisplayedColAfter(e.column);if(!s){s=t[0];const r=this.getRowBelow(e);if(Y(r)||!r.rowPinned&&!this.paginationProxy.isRowInPage(r))return null;i=r?r.rowIndex:null,n=r?r.rowPinned:null}return{rowIndex:i,column:s,rowPinned:n}}getNextTabbedCellBackwards(e){const t=this.columnModel.getAllDisplayedColumns();let i=e.rowIndex,n=e.rowPinned,s=this.columnModel.getDisplayedColBefore(e.column);if(!s){s=Ae(t);const r=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(Y(r)||!r.rowPinned&&!this.paginationProxy.isRowInPage(r))return null;i=r?r.rowIndex:null,n=r?r.rowPinned:null}return{rowIndex:i,column:s,rowPinned:n}}};h([g("columnModel")],qr.prototype,"columnModel",2),h([g("rowModel")],qr.prototype,"rowModel",2),h([g("rowRenderer")],qr.prototype,"rowRenderer",2),h([g("pinnedRowModel")],qr.prototype,"pinnedRowModel",2),h([g("paginationProxy")],qr.prototype,"paginationProxy",2),qr=h([V("cellNavigationService")],qr);var ta=class extends A{constructor(){super(...arguments),this.consuming=!1}setBeans(e){this.logger=e.create("AlignedGridsService")}getAlignedGridApis(){var e;let t=null!=(e=this.gridOptionsService.get("alignedGrids"))?e:[];const i="function"==typeof t;"function"==typeof t&&(t=t());const n=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;return t.map(r=>{var o;if(!r)return Xn("alignedGrids contains an undefined option."),i||Xn('You may want to configure via a callback to avoid setup race conditions:\n                     "alignedGrids: () => [linkedGrid]"'),void Xn(n());if(r instanceof be)return r;const a=r;return"current"in a?null==(o=a.current)?void 0:o.api:(a.api||Xn(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${n()}`),a.api)}).filter(r=>!!r&&!r.isDestroyed())}init(){this.addManagedListener(this.eventService,f.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,f.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,f.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,f.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,f.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,f.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{const i=t.__getAlignedGridService();e(i)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent(t=>{t.onColumnEvent(e)})}fireScrollEvent(e){"horizontal"===e.direction&&this.fireEvent(t=>{t.onScrollEvent(e)})}onScrollEvent(e){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}getMasterColumns(e){const t=[];return e.columns?e.columns.forEach(i=>{t.push(i)}):e.column&&t.push(e.column),t}getColumnIds(e){const t=[];return e.columns?e.columns.forEach(i=>{t.push(i.getColId())}):e.column&&t.push(e.column.getColId()),t}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case f.EVENT_COLUMN_MOVED:case f.EVENT_COLUMN_VISIBLE:case f.EVENT_COLUMN_PINNED:case f.EVENT_COLUMN_RESIZED:this.processColumnEvent(e);break;case f.EVENT_COLUMN_GROUP_OPENED:this.processGroupOpenedEvent(e);break;case f.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})}processGroupOpenedEvent(e){e.columnGroups.forEach(t=>{let i=null;if(t){const n=t.getGroupId();i=this.columnModel.getProvidedColumnGroup(n)}t&&!i||(this.logger.log("onColumnEvent-> processing "+e+" expanded = "+t.isExpanded()),this.columnModel.setColumnGroupOpened(i,t.isExpanded(),"alignedGridChanged"))})}processColumnEvent(e){var t;const i=e.column;let n=null;if(i&&(n=this.columnModel.getPrimaryColumn(i.getColId())),i&&!n)return;const s=this.getMasterColumns(e);switch(e.type){case f.EVENT_COLUMN_MOVED:{const d=e,u=e.api.getColumnState().map(p=>({colId:p.colId}));this.columnModel.applyColumnState({state:u,applyOrder:!0},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${e.type} toIndex = ${d.toIndex}`)}break;case f.EVENT_COLUMN_VISIBLE:{const d=e,u=e.api.getColumnState().map(p=>({colId:p.colId,hide:p.hide}));this.columnModel.applyColumnState({state:u},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${e.type} visible = ${d.visible}`)}break;case f.EVENT_COLUMN_PINNED:{const d=e,u=e.api.getColumnState().map(p=>({colId:p.colId,pinned:p.pinned}));this.columnModel.applyColumnState({state:u},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${e.type} pinned = ${d.pinned}`)}break;case f.EVENT_COLUMN_RESIZED:const a=e,l={};s.forEach(d=>{this.logger.log(`onColumnEvent-> processing ${e.type} actualWidth = ${d.getActualWidth()}`),l[d.getId()]={key:d.getColId(),newWidth:d.getActualWidth()}}),null==(t=a.flexColumns)||t.forEach(d=>{l[d.getId()]&&delete l[d.getId()]}),this.columnModel.setColumnWidths(Object.values(l),!1,a.finished,"alignedGridChanged")}const o=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(a=>{a.setGridOption("alwaysShowVerticalScroll",o)})}};h([g("columnModel")],ta.prototype,"columnModel",2),h([g("ctrlsService")],ta.prototype,"ctrlsService",2),h([Zn(0,Tn("loggerFactory"))],ta.prototype,"setBeans",1),h([I],ta.prototype,"init",1),ta=h([V("alignedGridsService")],ta);var ia=class extends A{constructor(){super(...arguments),this.selectedNodes=new Map,this.lastRowNode=null}init(){this.rowSelection=this.gridOptionsService.get("rowSelection"),this.groupSelectsChildren=this.gridOptionsService.get("groupSelectsChildren"),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],()=>{this.groupSelectsChildren=this.gridOptionsService.get("groupSelectsChildren"),this.rowSelection=this.gridOptionsService.get("rowSelection"),this.deselectAllRowNodes({source:"api"})}),this.addManagedListener(this.eventService,f.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))}destroy(){super.destroy(),this.resetNodes(),this.lastRowNode=null}isMultiselect(){return"multiple"===this.rowSelection}setNodesSelected(e){var t;const{newValue:i,clearSelection:n,suppressFinishActions:s,rangeSelect:r,nodes:o,event:a,source:l="api"}=e;if(0===o.length)return 0;if(o.length>1&&!this.isMultiselect())return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;const d=this.groupSelectsChildren&&!0===e.groupSelectsFiltered,c=o.map(p=>p.footer?p.sibling:p);if(r){if(o.length>1)return console.warn("AG Grid: cannot range select while selecting multiple rows"),0;let p=null;if("checkboxSelected"===l&&!1===i&&this.lastRowNode&&(this.lastRowNode.id?p=this.lastRowNode:this.lastRowNode=null),null==p&&(p=this.getLastSelectedNode()),p){const m=c[0];if(m!==p&&this.isMultiselect())return this.selectRange(m,p,i,l)}}this.lastRowNode=i?null:c[0];let u=0;for(let p=0;p<c.length;p++){const m=c[p];d&&m.group||m.selectThisNode(i,a,l)&&u++,this.groupSelectsChildren&&null!=(t=m.childrenAfterGroup)&&t.length&&(u+=this.selectChildren(m,i,d,l))}return!s&&(i&&(n||!this.isMultiselect())&&(u+=this.clearOtherNodes(c[0],l)),u>0)&&(this.updateGroupsFromChildrenSelections(l),this.eventService.dispatchEvent({type:f.EVENT_SELECTION_CHANGED,source:l})),u}selectRange(e,t,i=!0,n){const s=this.rowModel.getNodesInRangeForSelection(e,t);let r=0;return s.forEach(a=>{a.group&&this.groupSelectsChildren||a.selectThisNode(i,void 0,n)&&r++}),this.updateGroupsFromChildrenSelections(n),this.eventService.dispatchEvent({type:f.EVENT_SELECTION_CHANGED,source:n}),r}selectChildren(e,t,i,n){const s=i?e.childrenAfterAggFilter:e.childrenAfterGroup;return Y(s)?0:this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:i,source:n,nodes:s})}getLastSelectedNode(){const e=Array.from(this.selectedNodes.keys());return 0==e.length?null:this.selectedNodes.get(Ae(e))||null}getSelectedNodes(){const e=[];return this.selectedNodes.forEach(t=>{t&&e.push(t)}),e}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>{t&&t.data&&e.push(t.data)}),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((i,n)=>{i&&e(i)&&t.set(n,i)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsChildren||"clientSide"!==this.rowModel.getType())return!1;const n=this.rowModel.getRootNode();t||(t=new dg(!0,n)).setInactive();let s=!1;return t.forEachChangedNodeDepthFirst(r=>{if(r!==n){const o=r.calculateSelectedFromChildren();s=r.selectThisNode(null!==o&&o,void 0,e)||s}}),s}clearOtherNodes(e,t){const i=new Map;let n=0;return this.selectedNodes.forEach(s=>{if(s&&s.id!==e.id){const r=this.selectedNodes.get(s.id);n+=r.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsChildren&&s.parent&&i.set(s.parent.id,s.parent)}}),i.forEach(s=>{const r=s.calculateSelectedFromChildren();s.selectThisNode(null!==r&&r,void 0,t)}),n}onRowSelected(e){const t=e.node;this.groupSelectsChildren&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}syncInOldRowNode(e,t){R(t)&&e.id!==t.id&&t&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.eventService.dispatchEvent({type:f.EVENT_SELECTION_CHANGED,source:e})}resetNodes(){var e;null==(e=this.selectedNodes)||e.clear()}getBestCostNodeSelection(){if("clientSide"!==this.rowModel.getType())return;const t=this.rowModel.getTopLevelNodes();if(null===t)return;const i=[];return function n(s){for(let r=0,o=s.length;r<o;r++){const a=s[r];a.isSelected()?i.push(a):a.group&&a.children&&n(a.children)}}(t),i}isEmpty(){let e=0;return this.selectedNodes.forEach(t=>{t&&e++}),0===e}deselectAllRowNodes(e){const t=a=>a.selectThisNode(!1,void 0,n),i="clientSide"===this.rowModel.getType(),{source:n,justFiltered:s,justCurrentPage:r}=e;if(r||s){if(!i)return void console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");this.getNodesToSelect(s,r).forEach(t)}else this.selectedNodes.forEach(a=>{a&&t(a)}),this.reset(n);i&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(n),this.eventService.dispatchEvent({type:f.EVENT_SELECTION_CHANGED,source:n})}getSelectedCounts(e,t){let i=0,n=0;return this.getNodesToSelect(e,t).forEach(r=>{this.groupSelectsChildren&&r.group||(r.isSelected()?i++:r.selectable&&n++)}),{selectedCount:i,notSelectedCount:n}}getSelectAllState(e,t){const{selectedCount:i,notSelectedCount:n}=this.getSelectedCounts(e,t);return(0!==i||0!==n)&&(i>0&&n>0?null:i>0)}hasNodesToSelect(e=!1,t=!1){return this.getNodesToSelect(e,t).filter(i=>i.selectable).length>0}getNodesToSelect(e=!1,t=!1){if("clientSide"!==this.rowModel.getType())throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const i=[];if(t)return this.paginationProxy.forEachNodeOnPage(s=>{if(s.group)if(s.expanded)this.groupSelectsChildren||i.push(s);else{const r=o=>{var a;i.push(o),null!=(a=o.childrenAfterFilter)&&a.length&&o.childrenAfterFilter.forEach(r)};r(s)}else i.push(s)}),i;const n=this.rowModel;return e?(n.forEachNodeAfterFilter(s=>{i.push(s)}),i):(n.forEachNode(s=>{i.push(s)}),i)}selectAllRowNodes(e){if("clientSide"!==this.rowModel.getType())throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const{source:t,justFiltered:i,justCurrentPage:n}=e;this.getNodesToSelect(i,n).forEach(o=>o.selectThisNode(!0,void 0,t)),"clientSide"===this.rowModel.getType()&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(t),this.eventService.dispatchEvent({type:f.EVENT_SELECTION_CHANGED,source:t})}getSelectionState(){const e=[];return this.selectedNodes.forEach(t=>{t?.id&&e.push(t.id)}),e.length?e:null}setSelectionState(e,t){if(!Array.isArray(e))return;const i=new Set(e),n=[];this.rowModel.forEachNode(s=>{i.has(s.id)&&n.push(s)}),this.setNodesSelected({newValue:!0,nodes:n,source:t})}};h([g("rowModel")],ia.prototype,"rowModel",2),h([g("paginationProxy")],ia.prototype,"paginationProxy",2),h([I],ia.prototype,"init",1),ia=h([V("selectionService")],ia);var na=class{constructor(e){this.viaApi=(t,...i)=>($(`Since v31, 'columnApi.${t}' is deprecated and moved to 'api.${t}'.`),this.api[t](...i)),this.api=e}sizeColumnsToFit(e){this.viaApi("sizeColumnsToFit",e)}setColumnGroupOpened(e,t){this.viaApi("setColumnGroupOpened",e,t)}getColumnGroup(e,t){return this.viaApi("getColumnGroup",e,t)}getProvidedColumnGroup(e){return this.viaApi("getProvidedColumnGroup",e)}getDisplayNameForColumn(e,t){return this.viaApi("getDisplayNameForColumn",e,t)}getDisplayNameForColumnGroup(e,t){return this.viaApi("getDisplayNameForColumnGroup",e,t)}getColumn(e){return this.viaApi("getColumn",e)}getColumns(){return this.viaApi("getColumns")}applyColumnState(e){return this.viaApi("applyColumnState",e)}getColumnState(){return this.viaApi("getColumnState")}resetColumnState(){this.viaApi("resetColumnState")}getColumnGroupState(){return this.viaApi("getColumnGroupState")}setColumnGroupState(e){this.viaApi("setColumnGroupState",e)}resetColumnGroupState(){this.viaApi("resetColumnGroupState")}isPinning(){return this.viaApi("isPinning")}isPinningLeft(){return this.viaApi("isPinningLeft")}isPinningRight(){return this.viaApi("isPinningRight")}getDisplayedColAfter(e){return this.viaApi("getDisplayedColAfter",e)}getDisplayedColBefore(e){return this.viaApi("getDisplayedColBefore",e)}setColumnVisible(e,t){this.viaApi("setColumnVisible",e,t)}setColumnsVisible(e,t){this.viaApi("setColumnsVisible",e,t)}setColumnPinned(e,t){this.viaApi("setColumnPinned",e,t)}setColumnsPinned(e,t){this.viaApi("setColumnsPinned",e,t)}getAllGridColumns(){return this.viaApi("getAllGridColumns")}getDisplayedLeftColumns(){return this.viaApi("getDisplayedLeftColumns")}getDisplayedCenterColumns(){return this.viaApi("getDisplayedCenterColumns")}getDisplayedRightColumns(){return this.viaApi("getDisplayedRightColumns")}getAllDisplayedColumns(){return this.viaApi("getAllDisplayedColumns")}getAllDisplayedVirtualColumns(){return this.viaApi("getAllDisplayedVirtualColumns")}moveColumn(e,t){this.viaApi("moveColumn",e,t)}moveColumnByIndex(e,t){this.viaApi("moveColumnByIndex",e,t)}moveColumns(e,t){this.viaApi("moveColumns",e,t)}moveRowGroupColumn(e,t){this.viaApi("moveRowGroupColumn",e,t)}setColumnAggFunc(e,t){this.viaApi("setColumnAggFunc",e,t)}setColumnWidth(e,t,i=!0,n){this.viaApi("setColumnWidth",e,t,i,n)}setColumnWidths(e,t=!0,i){this.viaApi("setColumnWidths",e,t,i)}setPivotMode(e){this.viaApi("setPivotMode",e)}isPivotMode(){return this.viaApi("isPivotMode")}getPivotResultColumn(e,t){return this.viaApi("getPivotResultColumn",e,t)}setValueColumns(e){this.viaApi("setValueColumns",e)}getValueColumns(){return this.viaApi("getValueColumns")}removeValueColumn(e){this.viaApi("removeValueColumn",e)}removeValueColumns(e){this.viaApi("removeValueColumns",e)}addValueColumn(e){this.viaApi("addValueColumn",e)}addValueColumns(e){this.viaApi("addValueColumns",e)}setRowGroupColumns(e){this.viaApi("setRowGroupColumns",e)}removeRowGroupColumn(e){this.viaApi("removeRowGroupColumn",e)}removeRowGroupColumns(e){this.viaApi("removeRowGroupColumns",e)}addRowGroupColumn(e){this.viaApi("addRowGroupColumn",e)}addRowGroupColumns(e){this.viaApi("addRowGroupColumns",e)}getRowGroupColumns(){return this.viaApi("getRowGroupColumns")}setPivotColumns(e){this.viaApi("setPivotColumns",e)}removePivotColumn(e){this.viaApi("removePivotColumn",e)}removePivotColumns(e){this.viaApi("removePivotColumns",e)}addPivotColumn(e){this.viaApi("addPivotColumn",e)}addPivotColumns(e){this.viaApi("addPivotColumns",e)}getPivotColumns(){return this.viaApi("getPivotColumns")}getLeftDisplayedColumnGroups(){return this.viaApi("getLeftDisplayedColumnGroups")}getCenterDisplayedColumnGroups(){return this.viaApi("getCenterDisplayedColumnGroups")}getRightDisplayedColumnGroups(){return this.viaApi("getRightDisplayedColumnGroups")}getAllDisplayedColumnGroups(){return this.viaApi("getAllDisplayedColumnGroups")}autoSizeColumn(e,t){return this.viaApi("autoSizeColumn",e,t)}autoSizeColumns(e,t){this.viaApi("autoSizeColumns",e,t)}autoSizeAllColumns(e){this.viaApi("autoSizeAllColumns",e)}setPivotResultColumns(e){this.viaApi("setPivotResultColumns",e)}getPivotResultColumns(){return this.viaApi("getPivotResultColumns")}};h([g("gridApi")],na.prototype,"api",2),na=h([V("columnApi")],na);var Kr=class extends A{constructor(){super(...arguments),this.initialised=!1,this.isSsrm=!1}init(){this.isSsrm=this.gridOptionsService.isRowModelType("serverSide"),this.cellExpressions=this.gridOptionsService.get("enableCellExpressions"),this.isTreeData=this.gridOptionsService.get("treeData"),this.initialised=!0;const e=i=>this.callColumnCellValueChangedHandler(i),t=this.gridOptionsService.useAsyncEvents();this.eventService.addEventListener(f.EVENT_CELL_VALUE_CHANGED,e,t),this.addDestroyFunc(()=>this.eventService.removeEventListener(f.EVENT_CELL_VALUE_CHANGED,e,t)),this.addManagedPropertyListener("treeData",i=>this.isTreeData=i.currentValue)}getValue(e,t,i=!1,n=!1){if(this.initialised||this.init(),!t)return;const s=e.getColDef(),r=s.field,o=e.getColId(),a=t.data;let l;const d=t.groupData&&void 0!==t.groupData[o],c=!n&&t.aggData&&void 0!==t.aggData[o],u=this.isSsrm&&n&&!!e.getColDef().aggFunc,p=this.isSsrm&&t.footer&&t.field&&(!0===e.getColDef().showRowGroup||e.getColDef().showRowGroup===t.field);if(i&&s.filterValueGetter?l=this.executeFilterValueGetter(s.filterValueGetter,a,e,t):this.isTreeData&&c?l=t.aggData[o]:this.isTreeData&&s.valueGetter?l=this.executeValueGetter(s.valueGetter,a,e,t):this.isTreeData&&r&&a?l=Nl(a,r,e.isFieldContainsDots()):d?l=t.groupData[o]:c?l=t.aggData[o]:s.valueGetter?l=this.executeValueGetter(s.valueGetter,a,e,t):p?l=Nl(a,t.field,e.isFieldContainsDots()):r&&a&&!u&&(l=Nl(a,r,e.isFieldContainsDots())),this.cellExpressions&&"string"==typeof l&&0===l.indexOf("=")){const m=l.substring(1);l=this.executeValueGetter(m,a,e,t)}if(null==l){const m=this.getOpenedGroup(t,e);if(null!=m)return m}return l}getOpenedGroup(e,t){if(!this.gridOptionsService.get("showOpenedGroup")||!t.getColDef().showRowGroup)return;const n=t.getColDef().showRowGroup;let s=e.parent;for(;null!=s;){if(s.rowGroupColumn&&(!0===n||n===s.rowGroupColumn.getColId()))return s.key;s=s.parent}}setValue(e,t,i,n){const s=this.columnModel.getPrimaryColumn(t);if(!e||!s)return!1;Y(e.data)&&(e.data={});const{field:r,valueSetter:o}=s.getColDef();if(Y(r)&&Y(o))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;if(!this.dataTypeService.checkType(s,i))return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"),!1;const a=this.gridOptionsService.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(s,e),newValue:i,colDef:s.getColDef(),column:s});let l;return a.newValue=i,l=R(o)?"function"==typeof o?o(a):this.expressionService.evaluate(o,a):this.setValueUsingField(e.data,r,i,s.isFieldContainsDots()),void 0===l&&(l=!0),!!l&&(e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),a.newValue=this.getValue(s,e),this.eventService.dispatchEvent({type:f.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:a.column,api:a.api,columnApi:a.columnApi,colDef:a.colDef,context:a.context,data:e.data,node:e,oldValue:a.oldValue,newValue:a.newValue,value:a.newValue,source:n}),!0)}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;"function"==typeof t&&this.getFrameworkOverrides().wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,columnApi:e.columnApi,context:e.context})})}setValueUsingField(e,t,i,n){if(!t)return!1;let s=!1;if(n){const r=t.split(".");let o=e;for(;r.length>0&&o;){const a=r.shift();0===r.length?(s=o[a]===i,s||(o[a]=i)):o=o[a]}}else s=e[t]===i,s||(e[t]=i);return!s}executeFilterValueGetter(e,t,i,n){const s=this.gridOptionsService.addGridCommonParams({data:t,node:n,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,n)});return"function"==typeof e?e(s):this.expressionService.evaluate(e,s)}executeValueGetter(e,t,i,n){const s=i.getColId(),r=this.valueCache.getValue(n,s);if(void 0!==r)return r;const o=this.gridOptionsService.addGridCommonParams({data:t,node:n,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,n)});let a;return a="function"==typeof e?e(o):this.expressionService.evaluate(e,o),this.valueCache.setValue(n,s,a),a}getValueCallback(e,t){const i=this.columnModel.getPrimaryColumn(t);return i?this.getValue(i,e):null}getKeyForNode(e,t){const i=this.getValue(e,t),n=e.getColDef().keyCreator;let s=i;return n&&(s=n(this.gridOptionsService.addGridCommonParams({value:i,colDef:e.getColDef(),column:e,node:t,data:t.data}))),"string"==typeof s||null==s||(s=String(s),"[object Object]"===s&&$("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),s}};h([g("expressionService")],Kr.prototype,"expressionService",2),h([g("columnModel")],Kr.prototype,"columnModel",2),h([g("valueCache")],Kr.prototype,"valueCache",2),h([g("dataTypeService")],Kr.prototype,"dataTypeService",2),h([I],Kr.prototype,"init",1),Kr=h([V("valueService")],Kr);var pg=class extends A{constructor(){super(...arguments),this.expressionToFunctionCache={}}setBeans(e){this.logger=e.create("ExpressionService")}evaluate(e,t){if("string"==typeof e)return this.evaluateExpression(e,t);console.error("AG Grid: value should be either a string or a function",e)}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.columnApi,t.getValue,t.column,t.columnGroup)}catch(i){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Params =",t),console.log("Exception = "+i),null}}createExpressionFunction(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];const t=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=i,i}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}};h([Zn(0,Tn("loggerFactory"))],pg.prototype,"setBeans",1),pg=h([V("expressionService")],pg);var yS=class extends A{constructor(){super(...arguments),this.templateCache={},this.waitingCallbacks={}}getTemplate(e,t){const i=this.templateCache[e];if(i)return i;let n=this.waitingCallbacks[e];const s=this;if(!n){n=[],this.waitingCallbacks[e]=n;const r=new XMLHttpRequest;r.onload=function(){s.handleHttpResult(this,e)},r.open("GET",e),r.send()}return t&&n.push(t),null}handleHttpResult(e,t){if(200!==e.status||null===e.response)return void console.warn(`AG Grid: Unable to get template error ${e.status} - ${t}`);this.templateCache[t]=e.response||e.responseText;const i=this.waitingCallbacks[t];for(let n=0;n<i.length;n++)(0,i[n])()}};yS=h([V("templateService")],yS);var fg=class extends A{setBeans(e){this.logging=e.get("debug")}create(e){return new _S(e,this.isLogging.bind(this))}isLogging(){return this.logging}};h([Zn(0,Tn("gridOptionsService"))],fg.prototype,"setBeans",1),fg=h([V("loggerFactory")],fg);var _S=class{constructor(e,t){this.name=e,this.isLoggingFunc=t}isLogging(){return this.isLoggingFunc()}log(e){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+e)}},sa=class extends A{setComp(e,t,i){this.view=e,this.eGridHostDiv=t,this.eGui=i,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:()=>this.eGui,isInterestedIn:s=>1===s||0===s,getIconName:()=>ie.ICON_NOT_ALLOWED}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(t),this.createManagedBean(new eg(this.view)),this.addRtlSupport();const n=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>n()),this.ctrlsService.registerGridCtrl(this)}isDetailGrid(){var e;const t=this.focusService.findTabbableParent(this.getGui());return(null==(e=t?.getAttribute("row-id"))?void 0:e.startsWith("detail"))||!1}showDropZones(){return ke.__isRegistered("@ag-grid-enterprise/row-grouping",this.context.getGridId())}showSideBar(){return ke.__isRegistered("@ag-grid-enterprise/side-bar",this.context.getGridId())}showStatusBar(){return ke.__isRegistered("@ag-grid-enterprise/status-bar",this.context.getGridId())}showWatermark(){return ke.__isRegistered("@ag-grid-enterprise/core",this.context.getGridId())}onGridSizeChanged(){this.eventService.dispatchEvent({type:f.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}addRtlSupport(){const e=this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.gridOptionsService.getDocument(),i=this.view.getFocusableContainers(),s=i.findIndex(r=>r.contains(t.activeElement))+(e?-1:1);return!(s<=0||s>=i.length)&&this.focusService.focusInto(i[s])}focusInnerElement(e){const t=this.view.getFocusableContainers(),i=this.columnModel.getAllDisplayedColumns();if(e){if(t.length>1)return this.focusService.focusInto(Ae(t),!0);const n=Ae(i);if(this.focusService.focusGridView(n,!0))return!0}if(0===this.gridOptionsService.get("headerHeight")||this.gridOptionsService.get("suppressHeaderFocus")){if(this.focusService.focusGridView(i[0]))return!0;for(let n=1;n<t.length;n++)if(this.focusService.focusInto(t[n]))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}};h([g("focusService")],sa.prototype,"focusService",2),h([g("resizeObserverService")],sa.prototype,"resizeObserverService",2),h([g("columnModel")],sa.prototype,"columnModel",2),h([g("ctrlsService")],sa.prototype,"ctrlsService",2),h([g("mouseEventService")],sa.prototype,"mouseEventService",2),h([g("dragAndDropService")],sa.prototype,"dragAndDropService",2);var ra=class extends Hu{constructor(e){super(),this.eGridDiv=e}postConstruct(){this.logger=this.loggerFactory.create("GridComp");const e={destroyGridUi:()=>this.destroyBean(this),setRtlClass:i=>this.addCssClass(i),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:i=>{this.getGui().style.userSelect=i??"",this.getGui().style.webkitUserSelect=i??""},setCursor:i=>{this.getGui().style.cursor=i??""}};this.ctrl=this.createManagedBean(new sa);const t=this.createTemplate();this.setTemplate(t),this.ctrl.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:i=>this.ctrl.focusInnerElement(i),forceFocusOutWhenTabGuardsAreEmpty:!0})}insertGridIntoDom(){const e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(e),this.logger.log("Grid removed from DOM")})}updateLayoutClasses(e,t){const i=this.eRootWrapperBody.classList;i.toggle("ag-layout-auto-height",t.autoHeight),i.toggle("ag-layout-normal",t.normal),i.toggle("ag-layout-print",t.print),this.addOrRemoveCssClass("ag-layout-auto-height",t.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",t.normal),this.addOrRemoveCssClass("ag-layout-print",t.print)}createTemplate(){return`<div class="ag-root-wrapper" role="presentation">\n                ${this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":""}\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    ${this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':""}\n                </div>\n                ${this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':""}\n                <ag-pagination></ag-pagination>\n                ${this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":""}\n            </div>`}getFocusableElement(){return this.eRootWrapperBody}getFocusableContainers(){const e=[this.gridBodyComp.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter(t=>hn(t))}};h([g("loggerFactory")],ra.prototype,"loggerFactory",2),h([N("gridBody")],ra.prototype,"gridBodyComp",2),h([N("sideBar")],ra.prototype,"sideBarComp",2),h([N("rootWrapperBody")],ra.prototype,"eRootWrapperBody",2),h([I],ra.prototype,"postConstruct",1);var oa=class extends A{progressSort(e,t,i){const n=this.getNextSortDirection(e);this.setSortForColumn(e,n,t,i)}setSortForColumn(e,t,i,n){"asc"!==t&&"desc"!==t&&(t=null);let r=[e];if(this.gridOptionsService.isColumnsSortingCoupledToGroup()&&e.getColDef().showRowGroup){const l=this.columnModel.getSourceColumnsForGroupColumn(e),d=l?.filter(c=>c.isSortable());d&&(r=[e,...d])}r.forEach(l=>l.setSort(t,n));const a=[];if(!i&&!this.gridOptionsService.get("alwaysMultiSort")||this.gridOptionsService.get("suppressMultiSort")){const l=this.clearSortBarTheseColumns(r,n);a.push(...l)}this.updateSortIndex(e),a.push(...r),this.dispatchSortChangedEvents(n,a)}updateSortIndex(e){const t=this.gridOptionsService.isColumnsSortingCoupledToGroup(),i=this.columnModel.getGroupDisplayColumnForGroup(e.getId()),n=t&&i||e,s=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(a=>a.setSortIndex(null));const r=s.filter(a=>!(t&&a.getColDef().showRowGroup||a===n));(n.getSort()?[...r,n]:r).forEach((a,l)=>{a.setSortIndex(l)})}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){const t=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(i=>!!i.getSort());return t&&t.length>0}dispatchSortChangedEvents(e,t){const i={type:f.EVENT_SORT_CHANGED,source:e};t&&(i.columns=t),this.eventService.dispatchEvent(i)}clearSortBarTheseColumns(e,t){const i=[];return this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(n=>{e.includes(n)||(n.getSort()&&i.push(n),n.setSort(void 0,t))}),i}getNextSortDirection(e){let t;if(t=e.getColDef().sortingOrder?e.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?this.gridOptionsService.get("sortingOrder"):oa.DEFAULT_SORTING_ORDER,!Array.isArray(t)||t.length<=0)return console.warn(`AG Grid: sortingOrder must be an array with at least one element, currently it's ${t}`),null;const i=t.indexOf(e.getSort());let r;return r=i<0||i==t.length-1?t[0]:t[i+1],oa.DEFAULT_SORTING_ORDER.indexOf(r)<0?(console.warn("AG Grid: invalid sort type "+r),null):r}getIndexedSortMap(){let e=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(r=>!!r.getSort());if(this.columnModel.isPivotMode()){const r=this.gridOptionsService.isColumnsSortingCoupledToGroup();e=e.filter(o=>{const a=!!o.getAggFunc(),l=!o.isPrimary(),d=r?this.columnModel.getGroupDisplayColumnForGroup(o.getId()):o.getColDef().showRowGroup;return a||l||d})}const t=this.columnModel.getRowGroupColumns().filter(r=>!!r.getSort()),i={};e.forEach((r,o)=>i[r.getId()]=o),e.sort((r,o)=>{const a=r.getSortIndex(),l=o.getSortIndex();return null!=a&&null!=l?a-l:null==a&&null==l?i[r.getId()]>i[o.getId()]?1:-1:null==l?-1:1});const n=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!t.length;n&&(e=[...new Set(e.map(r=>{var o;return null!=(o=this.columnModel.getGroupDisplayColumnForGroup(r.getId()))?o:r}))]);const s=new Map;return e.forEach((r,o)=>s.set(r,o)),n&&t.forEach(r=>{const o=this.columnModel.getGroupDisplayColumnForGroup(r.getId());s.set(r,s.get(o))}),s}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,t],[i,n])=>t-n).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=this.gridOptionsService.isColumnsSortingCoupledToGroup(),i=!!e.getColDef().showRowGroup;return t&&i}getDisplaySortForColumn(e){const t=this.columnModel.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSort();const n=null!=e.getColDef().field||e.getColDef().valueGetter?[e,...t]:t,s=n[0].getSort();return n.every(o=>o.getSort()==s)?s:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}};oa.DEFAULT_SORTING_ORDER=["asc","desc",null],h([g("columnModel")],oa.prototype,"columnModel",2),oa=h([V("sortController")],oa);var We=class extends A{static addKeyboardModeEvents(e){this.instanceCount>0||(e.addEventListener("keydown",We.toggleKeyboardMode),e.addEventListener("mousedown",We.toggleKeyboardMode))}static removeKeyboardModeEvents(e){this.instanceCount>0||(e.addEventListener("keydown",We.toggleKeyboardMode),e.addEventListener("mousedown",We.toggleKeyboardMode))}static toggleKeyboardMode(e){const i="keydown"===e.type;i&&(e.ctrlKey||e.metaKey||e.altKey)||We.keyboardModeActive!==i&&(We.keyboardModeActive=i)}static unregisterGridCompController(e){We.removeKeyboardModeEvents(e)}init(){const e=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,f.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.addManagedListener(this.eventService,f.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,f.EVENT_COLUMN_GROUP_OPENED,e),this.addManagedListener(this.eventService,f.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(t=>{this.gridCtrl=t.gridCtrl})}registerKeyboardFocusEvents(){const e=this.gridOptionsService.getDocument();We.addKeyboardModeEvents(e),We.instanceCount++,this.addDestroyFunc(()=>{We.instanceCount--,We.unregisterGridCompController(e)})}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const e=this.focusedCellPosition.column,t=this.columnModel.getGridColumn(e.getId());e!==t&&this.clearFocusedCell()}isKeyboardMode(){return We.keyboardModeActive}getFocusCellToUseAfterRefresh(){const e=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(e.activeElement,jo.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){const e=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(e.activeElement,rg.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(e,t){let i=e;for(;i;){if(this.gridOptionsService.getDomData(i,t))return!1;i=i.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(e){return!!this.isCellRestoreFocused(e)&&(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0)}isCellRestoreFocused(e){return null!=this.restoredFocusedCellPosition&&this.cellPositionUtils.equals(e,this.restoredFocusedCellPosition)}setRestoreFocusedCell(e){"react"===this.getFrameworkOverrides().renderingEngine&&(this.restoredFocusedCellPosition=e)}getFocusEventParams(){const{rowIndex:e,rowPinned:t,column:i}=this.focusedCellPosition,n={rowIndex:e,rowPinned:t,column:i,isFullWidthCell:!1},s=this.rowRenderer.getRowByPosition({rowIndex:e,rowPinned:t});return s&&(n.isFullWidthCell=s.isFullWidth()),n}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,null==this.focusedCellPosition)return;const e=z({type:f.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(e)}setFocusedCell(e){const{column:t,rowIndex:i,rowPinned:n,forceBrowserFocus:s=!1,preventScrollOnBrowserFocus:r=!1}=e,o=this.columnModel.getGridColumn(t);if(!o)return void(this.focusedCellPosition=null);this.focusedCellPosition=o?{rowIndex:i,rowPinned:Es(n),column:o}:null;const a=ot(z({type:f.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:s,preventScrollOnBrowserFocus:r,floating:null});this.eventService.dispatchEvent(a)}isCellFocused(e){return null!=this.focusedCellPosition&&this.cellPositionUtils.equals(e,this.focusedCellPosition)}isRowNodeFocused(e){return this.isRowFocused(e.rowIndex,e.rowPinned)}isHeaderWrapperFocused(e){if(null==this.focusedHeaderPosition)return!1;const t=e.getColumnGroupChild(),i=e.getRowIndex(),n=e.getPinned(),{column:s,headerRowIndex:r}=this.focusedHeaderPosition;return t===s&&i===r&&n==s.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(e,t){this.focusedHeaderPosition={headerRowIndex:e,column:t}}focusHeaderPosition(e){if(this.gridOptionsService.get("suppressHeaderFocus"))return!1;const{direction:t,fromTab:i,allowUserOverride:n,event:s,fromCell:r,rowWithoutSpanValue:o}=e;let{headerPosition:a}=e;if(r&&this.filterManager.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(a);if(n){const c=this.getFocusedHeader(),u=this.headerNavigationService.getHeaderRowCount();if(i){const p=this.gridOptionsService.getCallback("tabToNextHeader");p&&(a=p({backwards:"Before"===t,previousHeaderPosition:c,nextHeaderPosition:a,headerRowCount:u}))}else{const p=this.gridOptionsService.getCallback("navigateToNextHeader");p&&s&&(a=p({key:s.key,previousHeaderPosition:c,nextHeaderPosition:a,headerRowCount:u,event:s}))}}if(!a)return!1;if(-1===a.headerRowIndex)return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(a):this.focusGridView(a.column);this.headerNavigationService.scrollToColumn(a.column,t);const d=this.ctrlsService.getHeaderRowContainerCtrl(a.column.getPinned()).focusHeader(a.headerRowIndex,a.column,s);return d&&(null!=o||r)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(o??-1),d}focusFirstHeader(){let e=this.columnModel.getAllDisplayedColumns()[0];if(!e)return!1;e.getParent()&&(e=this.columnModel.getColumnGroupAtLevel(e,0));const t=this.headerPositionUtils.getHeaderIndexToFocus(e,0);return this.focusHeaderPosition({headerPosition:t,rowWithoutSpanValue:0})}focusLastHeader(e){const t=this.headerNavigationService.getHeaderRowCount()-1,i=Ae(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:i},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(e,t){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===e&&this.focusedCellPosition.rowPinned===Es(t)}findFocusableElements(e,t,i=!1){let s=P_;t&&(s+=", "+t),i&&(s+=', [tabindex="-1"]');const r=Array.prototype.slice.apply(e.querySelectorAll(DN)).filter(l=>hn(l)),o=Array.prototype.slice.apply(e.querySelectorAll(s));return o.length?(d=o,r.filter(c=>-1===d.indexOf(c))):r;var d}focusInto(e,t=!1,i=!1){const n=this.findFocusableElements(e,null,i),s=t?Ae(n):n[0];return!!s&&(s.focus({preventScroll:!0}),!0)}findFocusableElementBeforeTabGuard(e,t){if(!t)return null;const i=this.findFocusableElements(e),n=i.indexOf(t);if(-1===n)return null;let s=-1;for(let r=n-1;r>=0;r--)if(i[r].classList.contains("ag-tab-guard-top")){s=r;break}return s<=0?null:i[s-1]}findNextFocusableElement(e=this.eGridDiv,t,i){const n=this.findFocusableElements(e,t?':not([tabindex="-1"])':null),r=this.gridOptionsService.getDocument().activeElement;let o;o=t?n.findIndex(l=>l.contains(r)):n.indexOf(r);const a=o+(i?-1:1);return a<0||a>=n.length?null:n[a]}isTargetUnderManagedComponent(e,t){if(!t)return!1;const i=e.querySelectorAll(`.${Br.FOCUS_MANAGED_CLASS}`);if(!i.length)return!1;for(let n=0;n<i.length;n++)if(i[n].contains(t))return!0;return!1}findTabbableParent(e,t=5){let i=0;for(;e&&null===Gm(e)&&++i<=t;)e=e.parentElement;return null===Gm(e)?null:e}focusGridView(e,t){if(this.gridOptionsService.get("suppressCellFocus"))return t?this.gridOptionsService.get("suppressHeaderFocus")?this.focusNextGridCoreContainer(!0,!0):this.focusLastHeader():this.focusNextGridCoreContainer(!1);const i=t?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!i)return!1;const{rowIndex:n,rowPinned:s}=i,r=this.getFocusedHeader();return!e&&r&&(e=r.column),!(null==n||!e)&&(this.navigationService.ensureCellVisible({rowIndex:n,column:e,rowPinned:s}),this.setFocusedCell({rowIndex:n,column:e,rowPinned:Es(s),forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:n,rowPinned:s,column:e}),!0)}focusNextGridCoreContainer(e,t=!1){return!(t||!this.gridCtrl.focusNextInnerContainer(e))||((t||!e&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(e),!1)}focusAdvancedFilter(e){return this.advancedFilterFocusColumn=e?.column,this.advancedFilterService.getCtrl().focusHeaderComp()}focusNextFromAdvancedFilter(e,t){var i,n;const s=null!=(n=t?void 0:this.advancedFilterFocusColumn)?n:null==(i=this.columnModel.getAllDisplayedColumns())?void 0:i[0];return e?this.focusHeaderPosition({headerPosition:{column:s,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(s)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}};We.keyboardModeActive=!1,We.instanceCount=0,h([g("eGridDiv")],We.prototype,"eGridDiv",2),h([g("columnModel")],We.prototype,"columnModel",2),h([g("headerNavigationService")],We.prototype,"headerNavigationService",2),h([g("headerPositionUtils")],We.prototype,"headerPositionUtils",2),h([g("rowRenderer")],We.prototype,"rowRenderer",2),h([g("rowPositionUtils")],We.prototype,"rowPositionUtils",2),h([g("cellPositionUtils")],We.prototype,"cellPositionUtils",2),h([De("rangeService")],We.prototype,"rangeService",2),h([g("navigationService")],We.prototype,"navigationService",2),h([g("ctrlsService")],We.prototype,"ctrlsService",2),h([g("filterManager")],We.prototype,"filterManager",2),h([De("advancedFilterService")],We.prototype,"advancedFilterService",2),h([I],We.prototype,"init",1),We=h([V("focusService")],We);var SS=class extends A{setMouseOver(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:f.EVENT_COLUMN_HOVER_CHANGED})}clearMouseOver(){this.selectedColumns=null,this.eventService.dispatchEvent({type:f.EVENT_COLUMN_HOVER_CHANGED})}isHovered(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0}};SS=h([V("columnHoverService")],SS);var qu=class extends A{constructor(){super(...arguments),this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.ctrlsService.whenReady(e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){this.active||this.gridOptionsService.get("suppressColumnMoveAnimation")||this.gridOptionsService.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)}finish(){this.active&&this.flush(()=>{this.active=!1})}executeNextVMTurn(e){this.active?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(e){if(0===this.executeNextFuncs.length&&0===this.executeLaterFuncs.length)return void e();const t=i=>{for(;i.length;){const n=i.pop();n&&n()}};this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>t(this.executeNextFuncs),0),window.setTimeout(()=>{t(this.executeLaterFuncs),e()},200)})}};h([g("ctrlsService")],qu.prototype,"ctrlsService",2),h([I],qu.prototype,"postConstruct",1),qu=h([V("columnAnimationService")],qu);var rd=class extends A{postConstruct(){this.ctrlsService.whenReady(e=>{this.centerRowContainerCon=e.centerRowContainerCtrl,this.addManagedListener(this.eventService,f.EVENT_BODY_HEIGHT_CHANGED,this.checkPageSize.bind(this)),this.addManagedListener(this.eventService,f.EVENT_SCROLL_VISIBILITY_CHANGED,this.checkPageSize.bind(this)),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gridOptionsService.get("paginationAutoPageSize")||null==this.centerRowContainerCon}onPaginationAutoSizeChanged(){this.notActive()?this.paginationProxy.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(e>0){const t=()=>{const i=this.gridOptionsService.getRowHeightAsNumber(),n=Math.floor(e/i);this.paginationProxy.setPageSize(n,"autoCalculated")};this.isBodyRendered?Ii(()=>t(),50)():(t(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};h([g("ctrlsService")],rd.prototype,"ctrlsService",2),h([g("paginationProxy")],rd.prototype,"paginationProxy",2),h([I],rd.prototype,"postConstruct",1),rd=h([V("paginationAutoPageSizeService")],rd);var mg=class extends A{constructor(){super(...arguments),this.cacheVersion=0}init(){this.active=this.gridOptionsService.get("valueCache"),this.neverExpires=this.gridOptionsService.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,i){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=i)}getValue(e,t){if(this.active&&e.__cacheVersion===this.cacheVersion)return e.__cacheData[t]}};h([I],mg.prototype,"init",1),mg=h([V("valueCache")],mg);var od=class extends A{init(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,f.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))}onCellValueChanged(e){"paste"!==e.source&&this.doChangeDetection(e.node,e.column)}doChangeDetection(e,t){if(this.gridOptionsService.get("suppressChangeDetection"))return;const i=[e];if(this.clientSideRowModel&&!e.isRowPinned()){const n=this.gridOptionsService.get("aggregateOnlyChangedColumns"),s=new dg(n,this.clientSideRowModel.getRootNode());s.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(s),s.forEachChangedNodeDepthFirst(r=>{i.push(r)})}this.rowRenderer.refreshCells({rowNodes:i})}};h([g("rowModel")],od.prototype,"rowModel",2),h([g("rowRenderer")],od.prototype,"rowRenderer",2),h([I],od.prototype,"init",1),od=h([V("changeDetectionService")],od);var gg=class extends A{adaptFunction(e,t){const i=this.componentMetadataProvider.retrieve(e);return i&&i.functionAdapter?i.functionAdapter(t):null}adaptCellRendererFunction(e){return class t{refresh(n){return!1}getGui(){return this.eGui}init(n){const s=e(n),r=typeof s;this.eGui="string"!==r&&"number"!==r&&"boolean"!==r?null!=s?s:qi("<span></span>"):qi("<span>"+s+"</span>")}}}doesImplementIComponent(e){return!!e&&e.prototype&&"getGui"in e.prototype}};h([g("componentMetadataProvider")],gg.prototype,"componentMetadataProvider",2),gg=h([V("agComponentUtils")],gg);var Ku=class extends A{postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(e){return this.componentMetaData[e]}};h([g("agComponentUtils")],Ku.prototype,"agComponentUtils",2),h([I],Ku.prototype,"postConstruct",1),Ku=h([V("componentMetadataProvider")],Ku);var rte={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240},"ag-theme-quartz":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:260}},Gk={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},Yu=class extends A{constructor(){super(...arguments),this.calculatedSizes={}}postConstruct(){var e;const t=null!=(e=this.getTheme().el)?e:this.eGridDiv;this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.mutationObserver=new MutationObserver(()=>{this.calculatedSizes={},this.fireGridStylesChangedEvent()}),this.mutationObserver.observe(t||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})}fireGridStylesChangedEvent(){this.eventService.dispatchEvent({type:f.EVENT_GRID_STYLES_CHANGED})}getSassVariable(e){const{themeFamily:t,el:i}=this.getTheme();if(t&&0===t.indexOf("ag-theme"))return this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[t]||(this.calculatedSizes[t]={}),this.calculatedSizes[t][e]??(this.calculatedSizes[t][e]=this.calculateValueForSassProperty(e,t,i),this.calculatedSizes[t][e])}calculateValueForSassProperty(e,t,i){const n="ag-theme-"+(t.match("material")?"material":t.match("balham")?"balham":t.match("alpine")?"alpine":"custom"),s=rte[n][e],r=this.gridOptionsService.getDocument();if(i||(i=this.eGridDiv),!Gk[e])return s;const o=Gk[e],a=r.createElement("div"),l=Array.from(i.classList);a.classList.add(t,...l),a.style.position="absolute";const d=o.reduce((u,p)=>{const m=r.createElement("div");return m.style.position="static",m.classList.add(p),u.appendChild(m),m},a);let c=0;if(r.body){r.body.appendChild(a);const u=-1!==e.toLowerCase().indexOf("height")?"height":"width";c=parseInt(window.getComputedStyle(d)[u],10),r.body.removeChild(a)}return c||s}isThemeDark(){const{theme:e}=this.getTheme();return!!e&&e.indexOf("dark")>=0}chartMenuPanelWidth(){return this.getSassVariable("chartMenuPanelWidth")}getTheme(){const e=/\bag-(material|(?:theme-([\w\-]*)))\b/g;let t=this.eGridDiv,i=null,n=[];for(;t;){if(i=e.exec(t.className),i){const r=t.className.match(e);r&&(n=r);break}t=t.parentElement||void 0}if(!i)return{allThemes:n};const s=i[0];return{theme:s,el:t,themeFamily:s.replace(/-dark$/,""),allThemes:n}}getFromTheme(e,t){var i;return null!=(i=this.getSassVariable(t))?i:e}getDefaultRowHeight(){return this.getFromTheme(25,"rowHeight")}getListItemHeight(){return this.getFromTheme(20,"listItemHeight")}refreshRowHeightVariable(){const e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),t=this.gridOptionsService.get("rowHeight");if(null==t||isNaN(t)||!isFinite(t))return null!==e&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;const i=`${t}px`;return e!=i?(this.eGridDiv.style.setProperty("--ag-line-height",i),t):""!=e?parseFloat(e):-1}getMinColWidth(){const e=this.getFromTheme(null,"headerCellMinWidth");return R(e)?Math.max(e,10):10}destroy(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),super.destroy()}};h([g("eGridDiv")],Yu.prototype,"eGridDiv",2),h([I],Yu.prototype,"postConstruct",1),Yu=h([V("environment")],Yu);var ad=class extends A{constructor(){super(...arguments),this.scrollY=0,this.uiBodyHeight=0}agWire(e){this.logger=e.create("RowContainerHeightService")}postConstruct(){this.addManagedListener(this.eventService,f.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=gN(),this.logger.log("maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,i=this.getUiBodyHeight();(t!==this.scrollY||i!==this.uiBodyHeight)&&(this.scrollY=t,this.uiBodyHeight=i,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;this.logger.log(`Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:f.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t="number"==typeof e?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventService.dispatchEvent({type:f.EVENT_HEIGHT_SCALE_CHANGED}))}setModelHeight(e){this.modelHeight=e,this.stretching=null!=e&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return t.bottom-t.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(e/t)}};h([g("ctrlsService")],ad.prototype,"ctrlsService",2),h([Zn(0,Tn("loggerFactory"))],ad.prototype,"agWire",1),h([I],ad.prototype,"postConstruct",1),ad=h([V("rowContainerHeightService")],ad);var ld=class extends A{init(){this.addManagedPropertyListener("isRowSelectable",()=>this.updateSelectable())}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(e=!1){const t=!!this.gridOptionsService.get("rowSelection"),i=this.gridOptionsService.get("isRowSelectable");if(!t||!i)return;const n=this.gridOptionsService.get("groupSelectsChildren"),s="clientSide"===this.rowModel.getType()&&n,r=[],o=a=>{if(e&&!a.group)return;if(s&&a.group){const d=a.childrenAfterGroup.some(c=>!0===c.selectable);return void a.setRowSelectable(d,!0)}const l=!i||i(a);a.setRowSelectable(l,!0),!l&&a.isSelected()&&r.push(a)};s?new dg(!1,this.rowModel.getRootNode()).forEachChangedNodeDepthFirst(o,!0,!0):this.rowModel.forEachNode(o),r.length&&this.selectionService.setNodesSelected({nodes:r,newValue:!1,source:"selectableChanged"}),s&&this.selectionService instanceof ia&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}};h([g("rowModel")],ld.prototype,"rowModel",2),h([g("selectionService")],ld.prototype,"selectionService",2),h([I],ld.prototype,"init",1),ld=h([V("selectableService")],ld);var Zi=class extends ee{constructor(){super(),this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1}postConstruct(){const e=this.gridOptionsService.get("enableRtl");this.setTemplate(this.getTemplate());const{btFirst:t,btPrevious:i,btNext:n,btLast:s}=this;this.activateTabIndex([t,i,n,s]),t.insertAdjacentElement("afterbegin",ct(e?"last":"first",this.gridOptionsService)),i.insertAdjacentElement("afterbegin",ct(e?"next":"previous",this.gridOptionsService)),n.insertAdjacentElement("afterbegin",ct(e?"previous":"next",this.gridOptionsService)),s.insertAdjacentElement("afterbegin",ct(e?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.onPaginationChanged()}onPaginationChanged(){const t=this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedListener(this.eventService,f.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:i}=e;this.addManagedListener(t,"click",i),this.addManagedListener(t,"keydown",n=>{(n.key===S.ENTER||n.key===S.SPACE)&&(n.preventDefault(),i())})}),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()}setCurrentPageLabel(){const e=this.paginationProxy.getTotalPages()>0,t=this.paginationProxy.getCurrentPage();this.lbCurrent.textContent=this.formatNumber(e?t+1:0)}formatNumber(e){const t=this.gridOptionsService.getCallback("paginationNumberFormatter");if(t)return t({value:e});const i=this.localeService.getLocaleTextFunc();return I_(e,i("thousandSeparator",","),i("decimalSeparator","."))}getTemplate(){const e=this.localeService.getLocaleTextFunc(),t=e("page","Page"),i=e("to","to"),n=e("of","of"),s=e("firstPage","First Page"),r=e("previousPage","Previous Page"),o=e("nextPage","Next Page"),a=e("lastPage","Last Page"),l=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${l}">\n                <ag-page-size-selector ref="pageSizeComp"></ag-page-size-selector>\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-${l}-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-${l}-to">${i}</span>\n                    <span id="ag-${l}-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-${l}-of">${n}</span>\n                    <span id="ag-${l}-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${s}"></div>\n                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${r}"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-${l}-start-page">${t}</span>\n                        <span id="ag-${l}-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-${l}-of-page">${n}</span>\n                        <span id="ag-${l}-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>\n                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>\n                </span>\n            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()}enableOrDisableButtons(){const e=this.paginationProxy.getCurrentPage(),t=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===e,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const n=this.isZeroPagesToDisplay();this.nextButtonDisabled=e===i-1||n,this.lastButtonDisabled=!t||n||e===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){f_(e,t),e.classList.toggle("ag-disabled",t)}updateRowLabels(){const e=this.paginationProxy.getCurrentPage(),t=this.paginationProxy.getPageSize(),i=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;let s,r;if(this.isZeroPagesToDisplay()?s=r=0:(s=t*e+1,r=s+t-1,i&&r>n&&(r=n)),this.lbFirstRowOnPage.textContent=this.formatNumber(s),this.rowNodeBlockLoader.isLoading()){const o=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=o("pageLastRowUnknown","?")}else this.lbLastRowOnPage.textContent=this.formatNumber(r)}isZeroPagesToDisplay(){const e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages();return e&&0===t}setTotalLabels(){const e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages(),i=e?this.paginationProxy.getMasterRowCount():null;if(1===i){const n=this.paginationProxy.getRow(0);if(n&&n.group&&!n.groupData&&!n.aggData)return void this.setTotalLabelsToZero()}if(e)this.lbTotal.textContent=this.formatNumber(t),this.lbRecordCount.textContent=this.formatNumber(i);else{const n=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=n,this.lbRecordCount.innerHTML=n}}setTotalLabelsToZero(){this.lbFirstRowOnPage.textContent=this.formatNumber(0),this.lbCurrent.textContent=this.formatNumber(0),this.lbLastRowOnPage.textContent=this.formatNumber(0),this.lbTotal.textContent=this.formatNumber(0),this.lbRecordCount.textContent=this.formatNumber(0)}};h([g("paginationProxy")],Zi.prototype,"paginationProxy",2),h([g("rowNodeBlockLoader")],Zi.prototype,"rowNodeBlockLoader",2),h([N("btFirst")],Zi.prototype,"btFirst",2),h([N("btPrevious")],Zi.prototype,"btPrevious",2),h([N("btNext")],Zi.prototype,"btNext",2),h([N("btLast")],Zi.prototype,"btLast",2),h([N("lbRecordCount")],Zi.prototype,"lbRecordCount",2),h([N("lbFirstRowOnPage")],Zi.prototype,"lbFirstRowOnPage",2),h([N("lbLastRowOnPage")],Zi.prototype,"lbLastRowOnPage",2),h([N("lbCurrent")],Zi.prototype,"lbCurrent",2),h([N("lbTotal")],Zi.prototype,"lbTotal",2),h([N("pageSizeComp")],Zi.prototype,"pageSizeComp",2),h([I],Zi.prototype,"postConstruct",1);var Qu=class hV extends ee{constructor(){super(hV.TEMPLATE),this.inProgress=!1,this.destroyRequested=!1}updateLayoutClasses(t,i){const n=this.eOverlayWrapper.classList;n.toggle("ag-layout-auto-height",i.autoHeight),n.toggle("ag-layout-normal",i.normal),n.toggle("ag-layout-print",i.print)}postConstruct(){this.createManagedBean(new eg(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.registerOverlayWrapperComp(this)}setWrapperTypeClass(t){const i=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&i.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=t,i.toggle(t,!0)}showOverlay(t,i,n){this.inProgress||(this.setWrapperTypeClass(i),this.destroyActiveOverlay(),this.inProgress=!0,t&&t.then(s=>{this.inProgress=!1,this.eOverlayWrapper.appendChild(s.getGui()),this.activeOverlay=s,this.updateListenerDestroyFunc=n,this.destroyRequested&&(this.destroyRequested=!1,this.destroyActiveOverlay())}),this.setDisplayed(!0,{skipAriaHidden:!0}))}destroyActiveOverlay(){var t;this.inProgress?this.destroyRequested=!0:this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),null==(t=this.updateListenerDestroyFunc)||t.call(this),It(this.eOverlayWrapper))}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.destroyActiveOverlay(),super.destroy()}};Qu.TEMPLATE='\n        <div class="ag-overlay" role="presentation">\n            <div class="ag-overlay-panel" role="presentation">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper" role="presentation"></div>\n            </div>\n        </div>',h([g("overlayService")],Qu.prototype,"overlayService",2),h([N("eOverlayWrapper")],Qu.prototype,"eOverlayWrapper",2),h([I],Qu.prototype,"postConstruct",1);var ote=Qu,dd=class extends A{getFirstRow(){let t,e=0;return this.pinnedRowModel.getPinnedTopRowCount()?t="top":this.rowModel.getRowCount()?(t=null,e=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(t="bottom"),void 0===t?null:{rowIndex:e,rowPinned:t}}getLastRow(){let e,t=null;const i=this.pinnedRowModel.getPinnedBottomRowCount(),n=this.pinnedRowModel.getPinnedTopRowCount();return i?(t="bottom",e=i-1):this.rowModel.getRowCount()?(t=null,e=this.paginationProxy.getPageLastRow()):n&&(t="top",e=n-1),void 0===e?null:{rowIndex:e,rowPinned:t}}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}}sameRow(e,t){return!e&&!t||!(e&&!t||!e&&t)&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}before(e,t){switch(e.rowPinned){case"top":if("top"!==t.rowPinned)return!0;break;case"bottom":if("bottom"!==t.rowPinned)return!1;break;default:if(R(t.rowPinned))return"top"!==t.rowPinned}return e.rowIndex<t.rowIndex}rowMax(e){let t;return e.forEach(i=>{(void 0===t||this.before(t,i))&&(t=i)}),t}rowMin(e){let t;return e.forEach(i=>{(void 0===t||this.before(i,t))&&(t=i)}),t}};h([g("rowModel")],dd.prototype,"rowModel",2),h([g("pinnedRowModel")],dd.prototype,"pinnedRowModel",2),h([g("paginationProxy")],dd.prototype,"paginationProxy",2),dd=h([V("rowPositionUtils")],dd);var TS=class extends A{createId(e){const{rowIndex:t,rowPinned:i,column:n}=e;return this.createIdFromValues({rowIndex:t,column:n,rowPinned:i})}createIdFromValues(e){const{rowIndex:t,rowPinned:i,column:n}=e;return`${t}.${i??"null"}.${n.getId()}`}equals(e,t){return e.column===t.column&&e.rowPinned===t.rowPinned&&e.rowIndex===t.rowIndex}};TS=h([V("cellPositionUtils")],TS);var Zu=class{constructor(e){this.cellValueChanges=e}},AS=class extends Zu{constructor(e,t,i,n){super(e),this.initialRange=t,this.finalRange=i,this.ranges=n}},Hk=class pV{constructor(t){this.actionStack=[],this.maxStackSize=t||pV.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(t){t.cellValueChanges&&t.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(t))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}};Hk.DEFAULT_STACK_SIZE=10;var Bk=Hk,Ln=class extends A{constructor(){super(...arguments),this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},i=null!==this.activeCellEdit&&this.cellPositionUtils.equals(this.activeCellEdit,t),n=null!==this.activeRowEdit&&this.rowPositionUtils.sameRow(this.activeRowEdit,t);if(!(i||n||this.isPasting||this.isRangeInAction))return;const{rowPinned:r,rowIndex:o,column:a,oldValue:l,value:d}=e,c={rowPinned:r,rowIndex:o,columnId:a.getColId(),newValue:d,oldValue:l};this.cellValueChanges.push(c)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}init(){if(!this.gridOptionsService.get("undoRedoCellEditing"))return;const e=this.gridOptionsService.get("undoRedoCellEditingLimit");e<=0||(this.undoStack=new Bk(e),this.redoStack=new Bk(e),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,f.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,f.EVENT_MODEL_UPDATED,t=>{t.keepUndoRedoStack||this.clearStacks()}),this.addManagedListener(this.eventService,f.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,f.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,f.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,f.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,f.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,f.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,f.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,f.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl()}))}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(e){this.eventService.dispatchEvent({type:f.EVENT_UNDO_STARTED,source:e});const i=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:f.EVENT_UNDO_ENDED,source:e,operationPerformed:i})}redo(e){this.eventService.dispatchEvent({type:f.EVENT_REDO_STARTED,source:e});const i=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:f.EVENT_REDO_ENDED,source:e,operationPerformed:i})}undoRedo(e,t,i,n,s){if(!e)return!1;const r=e.pop();return!(!r||!r.cellValueChanges||(this.processAction(r,o=>o[n],s),r instanceof AS?this.processRange(r.ranges||[r[i]]):this.processCell(r.cellValueChanges),t.push(r),0))}processAction(e,t,i){e.cellValueChanges.forEach(n=>{const{rowIndex:s,rowPinned:r,columnId:o}=n,l=this.getRowNode({rowIndex:s,rowPinned:r});l.displayed&&l.setDataValue(o,t(n),i)})}processRange(e){let t;this.rangeService.removeAllCellRanges(!0),e.forEach((i,n)=>{if(!i)return;const s=i.startRow,r=i.endRow;n===e.length-1&&(t={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:i.startColumn.getColId()},this.setLastFocusedCell(t)),this.rangeService.addCellRange({rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:r.rowIndex,rowEndPinned:r.rowPinned,columnStart:i.startColumn,columns:i.columns})})}processCell(e){const t=e[0],{rowIndex:i,rowPinned:n}=t,r=this.getRowNode({rowIndex:i,rowPinned:n});this.setLastFocusedCell({rowPinned:t.rowPinned,rowIndex:r.rowIndex,columnId:t.columnId},!!this.rangeService)}setLastFocusedCell(e,t){const{rowIndex:i,columnId:n,rowPinned:s}=e,r=this.gridBodyCtrl.getScrollFeature(),o=this.columnModel.getGridColumn(n);if(!o)return;r.ensureIndexVisible(i),r.ensureColumnVisible(o);const a={rowIndex:i,column:o,rowPinned:s};this.focusService.setFocusedCell(ot(z({},a),{forceBrowserFocus:!0})),t&&this.rangeService.setRangeToCell(a)}addRowEditingListeners(){this.addManagedListener(this.eventService,f.EVENT_ROW_EDITING_STARTED,e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}}),this.addManagedListener(this.eventService,f.EVENT_ROW_EDITING_STOPPED,()=>{const e=new Zu(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null})}addCellEditingListeners(){this.addManagedListener(this.eventService,f.EVENT_CELL_EDITING_STARTED,e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}}),this.addManagedListener(this.eventService,f.EVENT_CELL_EDITING_STOPPED,e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const i=new Zu(this.cellValueChanges);this.pushActionsToUndoStack(i)}})}addPasteListeners(){this.addManagedListener(this.eventService,f.EVENT_PASTE_START,()=>{this.isPasting=!0}),this.addManagedListener(this.eventService,f.EVENT_PASTE_END,()=>{const e=new Zu(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1})}addFillListeners(){this.addManagedListener(this.eventService,f.EVENT_FILL_START,()=>{this.isRangeInAction=!0}),this.addManagedListener(this.eventService,f.EVENT_FILL_END,e=>{const t=new AS(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1})}addCellKeyListeners(){this.addManagedListener(this.eventService,f.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,()=>{this.isRangeInAction=!0}),this.addManagedListener(this.eventService,f.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,()=>{let e;e=this.rangeService&&this.gridOptionsService.get("enableRangeSelection")?new AS(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):new Zu(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}}};h([g("focusService")],Ln.prototype,"focusService",2),h([g("ctrlsService")],Ln.prototype,"ctrlsService",2),h([g("rowModel")],Ln.prototype,"rowModel",2),h([g("pinnedRowModel")],Ln.prototype,"pinnedRowModel",2),h([g("cellPositionUtils")],Ln.prototype,"cellPositionUtils",2),h([g("rowPositionUtils")],Ln.prototype,"rowPositionUtils",2),h([g("columnModel")],Ln.prototype,"columnModel",2),h([De("rangeService")],Ln.prototype,"rangeService",2),h([I],Ln.prototype,"init",1),Ln=h([V("undoRedoService")],Ln);var Xu=class extends A{findHeader(e,t){let i,n,s;if(e.column instanceof Lt?(n=`getDisplayedGroup${t}`,i=this.columnModel[n](e.column)):(s=`getDisplayedCol${t}`,i=this.columnModel[s](e.column)),!i)return;let{headerRowIndex:r}=e;if("filter"!==this.getHeaderRowType(r)){const l=[i];for(;i.getParent();)i=i.getParent(),l.push(i);i=l[l.length-1-r]}const{column:o,headerRowIndex:a}=this.getHeaderIndexToFocus(i,r);return{column:o,headerRowIndex:a}}getHeaderIndexToFocus(e,t){let i;if(e instanceof Lt&&this.isAnyChildSpanningHeaderHeight(e)&&e.isPadding()){const n=e;i=n.getLeafColumns()[0];let s=i;for(;s!==n;)t++,s=s.getParent()}return{column:i||e,headerRowIndex:t}}isAnyChildSpanningHeaderHeight(e){return!!e&&e.getLeafColumns().some(t=>t.isSpanHeaderHeight())}getColumnVisibleParent(e,t){const i=this.getHeaderRowType(t),s="column"===i;let r="filter"===i?e:e.getParent(),o=t-1,a=o;if(s&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;r&&r.isPadding();)r=r.getParent(),o--;a=o,o<0&&(r=e,o=t,a=void 0)}return{column:r,headerRowIndex:o,headerRowIndexWithoutSpan:a}}getColumnVisibleChild(e,t,i="After"){let s=e,r=t+1,o=r;if("group"===this.getHeaderRowType(t)){const a=e.getDisplayedLeafColumns(),l="After"===i?a[0]:Ae(a),d=[];let c=l;for(;c.getParent()!==e;)c=c.getParent(),d.push(c);if(s=l,l.isSpanHeaderHeight())for(let u=d.length-1;u>=0;u--){const p=d[u];if(!p.isPadding()){s=p;break}r++}else s=Ae(d),s||(s=l)}return{column:s,headerRowIndex:r,headerRowIndexWithoutSpan:o}}getHeaderRowType(e){const t=this.ctrlsService.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const i=this.columnModel.getAllDisplayedColumns(),n=i["start"===t?0:i.length-1];if(!n)return;const r=this.ctrlsService.getHeaderRowContainerCtrl(n.getPinned()).getRowType(e);return"group"==r?{headerRowIndex:e,column:this.columnModel.getColumnGroupAtLevel(n,e)}:{headerRowIndex:null==r?-1:e,column:n}}};h([g("columnModel")],Xu.prototype,"columnModel",2),h([g("ctrlsService")],Xu.prototype,"ctrlsService",2),Xu=h([V("headerPositionUtils")],Xu);var MS=class{buildColumnDefs(e,t,i){const n=[],s={};return e.forEach(r=>{let a=!0,l=this.createDefFromColumn(r,t,i),d=r.getOriginalParent(),c=null;for(;d;){let u=null;if(d.isPadding()){d=d.getOriginalParent();continue}const p=s[d.getGroupId()];if(p){p.children.push(l),a=!1;break}if(u=this.createDefFromGroup(d),u&&(u.children=[l],s[u.groupId]=u,l=u,d=d.getOriginalParent()),null!=d&&c===d){a=!1;break}c=d}a&&n.push(l)}),n}createDefFromGroup(e){const t=_m(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,i){const n=_m(e.getColDef());return n.colId=e.getColId(),n.width=e.getActualWidth(),n.rowGroup=e.isRowGroupActive(),n.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,n.pivot=e.isPivotActive(),n.pivotIndex=e.isPivotActive()?i.indexOf(e):null,n.aggFunc=e.isValueActive()?e.getAggFunc():null,n.hide=!e.isVisible()||void 0,n.pinned=e.isPinned()?e.getPinned():null,n.sort=e.getSort()?e.getSort():null,n.sortIndex=null!=e.getSortIndex()?e.getSortIndex():null,n}};MS=h([V("columnDefFactory")],MS);var Ju=class{getInitialRowClasses(e){const t=[];return R(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),o_(t,this.processClassesFromGridOptions(e.rowNode)),o_(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&("left"===e.pinned&&t.push("ag-cell-last-left-pinned"),"right"===e.pinned&&t.push("ag-cell-first-right-pinned")),t}processClassesFromGridOptions(e){const t=[],i=r=>{"string"==typeof r?t.push(r):Array.isArray(r)&&r.forEach(o=>t.push(o))},n=this.gridOptionsService.get("rowClass");if(n){if("function"==typeof n)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];i(n)}const s=this.gridOptionsService.getCallback("getRowClass");return s&&i(s({data:e.data,node:e,rowIndex:e.rowIndex})),t}preProcessRowClassRules(e){const t=[];return this.processRowClassRules(e,i=>{t.push(i)},i=>{}),t}processRowClassRules(e,t,i){const n=this.gridOptionsService.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});this.stylingService.processClassRules(void 0,this.gridOptionsService.get("rowClassRules"),n,t,i)}calculateRowLevel(e){return e.group?e.level:e.parent?e.parent.level+1:0}};h([g("stylingService")],Ju.prototype,"stylingService",2),h([g("gridOptionsService")],Ju.prototype,"gridOptionsService",2),Ju=h([V("rowCssClassCalculator")],Ju);var cd=class extends A{init(){this.isAccentedSort=this.gridOptionsService.get("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",e=>this.isAccentedSort=e.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup())}doFullSort(e,t){const n=e.map((s,r)=>({currentPos:r,rowNode:s}));return n.sort(this.compareRowNodes.bind(this,t)),n.map(s=>s.rowNode)}compareRowNodes(e,t,i){const n=t.rowNode,s=i.rowNode;for(let r=0,o=e.length;r<o;r++){const a=e[r],l="desc"===a.sort,d=this.getValue(n,a.column),c=this.getValue(s,a.column);let u;const p=this.getComparator(a,n);if(u=p?p(d,c,n,s,l):fe.defaultComparator(d,c,this.isAccentedSort),!isNaN(u)&&0!==u)return"asc"===a.sort?u:-1*u}return t.currentPos-i.currentPos}getComparator(e,t){const i=e.column,n=i.getColDef().comparator;if(null!=n)return n;if(!i.getColDef().showRowGroup)return;const s=!t.group&&i.getColDef().field;if(!s)return;const r=this.columnModel.getPrimaryColumn(s);return r?r.getColDef().comparator:void 0}getValue(e,t){var i,n;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(t,e,!1,!1);if(e.rowGroupColumn===t){if(this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive())){const a=null==(i=e.allLeafChildren)?void 0:i[0];return a?this.valueService.getValue(t,a,!1,!1):void 0}const o=this.columnModel.getGroupDisplayColumnForGroup(t.getId());return o?null==(n=e.groupData)?void 0:n[o.getId()]:void 0}return e.group&&t.getColDef().showRowGroup?void 0:this.valueService.getValue(t,e,!1,!1)}};h([g("valueService")],cd.prototype,"valueService",2),h([g("columnModel")],cd.prototype,"columnModel",2),h([I],cd.prototype,"init",1),cd=h([V("rowNodeSorter")],cd);var eh=class extends A{constructor(){super(...arguments),this.ready=!1,this.readyCallbacks=[]}checkReady(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.stickyTopCenterRowContainerCtrl&&null!=this.stickyTopLeftRowContainerCtrl&&null!=this.stickyTopRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollComp&&null!=this.fakeVScrollComp&&null!=this.gridHeaderCtrl,this.ready){const e=this.createReadyParams();this.readyCallbacks.forEach(t=>t(e)),this.readyCallbacks.length=0}}whenReady(e){this.ready?e(this.createReadyParams()):this.readyCallbacks.push(e)}createReadyParams(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}}registerFakeHScrollComp(e){this.fakeHScrollComp=e,this.checkReady()}registerFakeVScrollComp(e){this.fakeVScrollComp=e,this.checkReady()}registerGridHeaderCtrl(e){this.gridHeaderCtrl=e,this.checkReady()}registerCenterRowContainerCtrl(e){this.centerRowContainerCtrl=e,this.checkReady()}registerLeftRowContainerCtrl(e){this.leftRowContainerCtrl=e,this.checkReady()}registerRightRowContainerCtrl(e){this.rightRowContainerCtrl=e,this.checkReady()}registerTopCenterRowContainerCtrl(e){this.topCenterRowContainerCtrl=e,this.checkReady()}registerTopLeftRowContainerCon(e){this.topLeftRowContainerCtrl=e,this.checkReady()}registerTopRightRowContainerCtrl(e){this.topRightRowContainerCtrl=e,this.checkReady()}registerStickyTopCenterRowContainerCtrl(e){this.stickyTopCenterRowContainerCtrl=e,this.checkReady()}registerStickyTopLeftRowContainerCon(e){this.stickyTopLeftRowContainerCtrl=e,this.checkReady()}registerStickyTopRightRowContainerCtrl(e){this.stickyTopRightRowContainerCtrl=e,this.checkReady()}registerBottomCenterRowContainerCtrl(e){this.bottomCenterRowContainerCtrl=e,this.checkReady()}registerBottomLeftRowContainerCtrl(e){this.bottomLeftRowContainerCtrl=e,this.checkReady()}registerBottomRightRowContainerCtrl(e){this.bottomRightRowContainerCtrl=e,this.checkReady()}registerHeaderContainer(e,t){switch(t){case"left":this.leftHeaderRowContainerCtrl=e;break;case"right":this.rightHeaderRowContainerCtrl=e;break;default:this.centerHeaderRowContainerCtrl=e}this.checkReady()}registerGridBodyCtrl(e){this.gridBodyCtrl=e,this.checkReady()}registerGridCtrl(e){this.gridCtrl=e,this.checkReady()}getFakeHScrollComp(){return this.fakeHScrollComp}getFakeVScrollComp(){return this.fakeVScrollComp}getGridHeaderCtrl(){return this.gridHeaderCtrl}getGridCtrl(){return this.gridCtrl}getCenterRowContainerCtrl(){return this.centerRowContainerCtrl}getTopCenterRowContainerCtrl(){return this.topCenterRowContainerCtrl}getBottomCenterRowContainerCtrl(){return this.bottomCenterRowContainerCtrl}getStickyTopCenterRowContainerCtrl(){return this.stickyTopCenterRowContainerCtrl}getGridBodyCtrl(){return this.gridBodyCtrl}getHeaderRowContainerCtrls(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]}getHeaderRowContainerCtrl(e){switch(e){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}}};eh.NAME="ctrlsService",eh=h([V(eh.NAME)],eh);var IS=class extends A{constructor(){super(...arguments),this.registry={}}register(e){this.registry[e.controllerName]=e.controllerClass}getInstance(e){const t=this.registry[e];if(null!=t)return new t}};IS=h([V("ctrlsFactory")],IS);var aa=class extends ee{constructor(e,t){super(e),this.direction=t,this.hideTimeout=null}postConstruct(){this.addManagedListener(this.eventService,f.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",T_()||ar())}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.invisibleScrollbar=M_(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const i=this.getGui();["mouseenter","mousedown","touchstart"].forEach(n=>this.addManagedListener(i,n,()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0))),["mouseleave","touchend"].forEach(n=>this.addManagedListener(i,n,()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1)))}onScrollVisibilityChanged(){void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedListener(this.eventService,f.EVENT_BODY_SCROLL,e=>{e.direction===this.direction&&(null!==this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))}),this.addManagedListener(this.eventService,f.EVENT_BODY_SCROLL_END,()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)})}attemptSettingScrollPosition(e){const t=this.getViewport();t_(()=>hn(t),()=>this.setScrollPosition(e),100)}getViewport(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(e){this.addManagedListener(this.getViewport(),"scroll",e)}};h([N("eViewport")],aa.prototype,"eViewport",2),h([N("eContainer")],aa.prototype,"eContainer",2),h([g("scrollVisibleService")],aa.prototype,"scrollVisibleService",2),h([g("ctrlsService")],aa.prototype,"ctrlsService",2),h([g("animationFrameService")],aa.prototype,"animationFrameService",2);var la=class fV extends aa{constructor(){super(fV.TEMPLATE,"horizontal")}postConstruct(){super.postConstruct();const t=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,f.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,f.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.addManagedListener(this.eventService,f.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",t),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new Kl(i=>this.eContainer.style.width=`${i}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gridOptionsService.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const t=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${t}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const t=this.scrollVisibleService.isVerticalScrollShowing();let i=this.columnModel.getDisplayedColumnsRightWidth();const n=!this.enableRtl&&t,s=this.gridOptionsService.getScrollbarWidth();n&&(i+=s),Fn(this.eRightSpacer,i),this.eRightSpacer.classList.toggle("ag-scroller-corner",i<=s);let r=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&t&&(r+=s),Fn(this.eLeftSpacer,r),this.eLeftSpacer.classList.toggle("ag-scroller-corner",r<=s)}setScrollVisible(){const t=this.scrollVisibleService.isHorizontalScrollShowing(),i=this.invisibleScrollbar,n=this.gridOptionsService.get("suppressHorizontalScroll"),s=t&&this.gridOptionsService.getScrollbarWidth()||0,o=n?0:0===s&&i?16:s;this.addOrRemoveCssClass("ag-scrollbar-invisible",i),No(this.getGui(),o),No(this.eViewport,o),No(this.eContainer,o),this.setDisplayed(t,{skipAriaHidden:!0})}getScrollPosition(){return _u(this.getViewport(),this.enableRtl)}setScrollPosition(t){hn(this.getViewport())||this.attemptSettingScrollPosition(t),Su(this.getViewport(),t,this.enableRtl)}};la.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',h([N("eLeftSpacer")],la.prototype,"eLeftSpacer",2),h([N("eRightSpacer")],la.prototype,"eRightSpacer",2),h([g("columnModel")],la.prototype,"columnModel",2),h([g("pinnedRowModel")],la.prototype,"pinnedRowModel",2),h([I],la.prototype,"postConstruct",1);var ate=la,th=class extends A{postConstruct(){const e=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,f.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,f.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const e=this.gridOptionsService.isDomLayout("print"),t=e?0:this.columnModel.getDisplayedColumnsLeftWidth(),i=e?0:this.columnModel.getDisplayedColumnsRightWidth();t!=this.leftWidth&&(this.leftWidth=t,this.eventService.dispatchEvent({type:f.EVENT_LEFT_PINNED_WIDTH_CHANGED})),i!=this.rightWidth&&(this.rightWidth=i,this.eventService.dispatchEvent({type:f.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}};h([g("columnModel")],th.prototype,"columnModel",2),h([I],th.prototype,"postConstruct",1),th=h([V("pinnedWidthService")],th);var ud=class extends A{constructor(){super(...arguments),this.events=[]}postConstruct(){"clientSide"==this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(e){null!=this.clientSideRowModel?(this.events.push(e),null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(i=>this.eventService.dispatchEvent(i)),this.events=[]})),this.dispatchExpandedDebounced()):this.eventService.dispatchEvent(e)}};h([g("animationFrameService")],ud.prototype,"animationFrameService",2),h([g("rowModel")],ud.prototype,"rowModel",2),h([I],ud.prototype,"postConstruct",1),ud=h([V("rowNodeEventThrottle")],ud);var Yr=(e,t)=>{var i;return"clientSide"===(null!=(i=t.rowModelType)?i:"clientSide")?{module:"@ag-grid-enterprise/row-grouping"}:null},dte={enableRowGroup:Yr,rowGroup:Yr,rowGroupIndex:Yr,enablePivot:Yr,enableValue:Yr,pivot:Yr,pivotIndex:Yr,aggFunc:Yr,cellEditor:e=>"agRichSelect"===e.cellEditor||"agRichSelectCellEditor"===e.cellEditor?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:e=>{var t;const i=["columnsMenuTab","generalMenuTab"];return null!=(t=e.menuTabs)&&t.some(n=>i.includes(n))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],dependencies:(e,{rowSelection:t})=>"multiple"===t?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],dependencies:(e,{rowSelection:t})=>"multiple"===t?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],dependencies:(e,{rowSelection:t})=>"multiple"===t?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},children:()=>hd},hd={objectName:"colDef",allProperties:PJ.ALL_PROPERTIES,docsUrl:"column-properties/",deprecations:{columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"},dndSource:{version:"31.2",message:"This feature has been replaced by `Row Dragging to an External DropZone`."},dndSourceOnRowDrag:{version:"31.2",message:"This feature has been replaced by `Row Dragging to an External DropZone`."}},validations:dte},ute={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!1,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"\t",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,suppressChartToolPanelsButton:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,functionsPassive:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,pivotMaxGeneratedColumns:-1},hte={sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",dependencies:e=>{var t;const i=null!=(t=e.rowModelType)?t:"clientSide";switch(i){case"clientSide":return e.getDataPath?null:`treeData requires 'getDataPath' in the ${i} row model.`;case"serverSide":return e.isServerSideGroup&&e.getServerSideGroupKey?null:`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${i} row model.`}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],dependencies:e=>{var t;switch(null!=(t=e.rowModelType)?t:"clientSide"){case"clientSide":return null;case"serverSide":return e.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},suppressParentsInRowNodes:{dependencies:{groupSelectsChildren:[void 0,!1]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},columnDefs:()=>hd,defaultColDef:()=>hd,defaultColGroupDef:()=>hd,autoGroupColumnDef:()=>hd},pte={objectName:"gridOptions",allProperties:[...xs.ALL_PROPERTIES,...Fm.EVENT_CALLBACKS],propertyExceptions:["api","columnApi"],docsUrl:"grid-options/",deprecations:{enableChartToolPanelsButton:{version:"29"},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",renamed:"enterNavigatesVertically"},enterMovesDownAfterEdit:{version:"30",renamed:"enterNavigatesVerticallyAfterEdit"},suppressParentsInRowNodes:{version:"30.2",message:"Using suppressParentsInRowNodes is no longer recommended. To serialize nodes it is now recommended to instead remove the parent node reference before serialization."},advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."}},validations:hte},Pe=class{constructor(){this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new Jn,this.globalEventHandlerFactory=e=>(t,i)=>{if(this.destroyed)return;const n=Im.has(t);if(n&&!e||!n&&e)return;const s=Fm.getCallbackForEvent(t),r=this.gridOptions[s];"function"==typeof r&&this.frameworkOverrides.wrapOutgoing(()=>{r(i)})}}get context(){return this.gridOptions.context}init(){this.columnApi=new na(this.api);const e=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),e),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.getScrollbarWidth()}destroy(){this.destroyed=!0,this.columnApi=void 0}get(e){var t;return null!=(t=this.gridOptions[e])?t:ute[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return R(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(i=>{const n=i;return n.api=this.api,n.columnApi=this.columnApi,n.context=this.context,e(n)})}static toBoolean(e){return"boolean"==typeof e?e:"string"==typeof e&&("TRUE"===e.toUpperCase()||""==e)}static toNumber(e){if("number"==typeof e)return e;if("string"==typeof e){const t=parseInt(e);return isNaN(t)?void 0:t}}static toConstrainedNum(e,t){return i=>{const n=Pe.toNumber(i);if(!(null==n||n<e||n>t))return n}}static getCoercedValue(e,t){const i=Pe.PROPERTY_COERCIONS.get(e);return i?i(t):t}static getCoercedGridOptions(e){const t={};return Object.entries(e).forEach(([i,n])=>{const s=Pe.getCoercedValue(i,n);t[i]=s}),t}updateGridOptions({options:e,source:t="api"}){const i={id:Pe.changeSetId++,properties:[]},n=[];Object.entries(e).forEach(([s,r])=>{"api"===t&&xX[s]&&$(`${s} is an initial property and cannot be updated.`);const o=Pe.getCoercedValue(s,r),l=this.gridOptions[s];("object"==typeof o&&"api"===t||l!==o)&&(this.gridOptions[s]=o,n.push({type:s,currentValue:o,previousValue:l,changeSet:i,source:t}))}),this.validationService.processGridOptions(this.gridOptions),i.properties=n.map(s=>s.type),n.forEach(s=>{this.gridOptions.debug&&console.log(`AG Grid: Updated property ${s.type} from `,s.previousValue," to  ",s.currentValue),this.propertyEventService.dispatchEvent(s)})}addEventListener(e,t){this.propertyEventService.addEventListener(e,t)}removeEventListener(e,t){this.propertyEventService.removeEventListener(e,t)}getScrollbarWidth(){if(null==this.scrollbarWidth){const t="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:bN();null!=t&&(this.scrollbarWidth=t,this.eventService.dispatchEvent({type:f.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth}isRowModelType(e){return this.gridOptions.rowModelType===e||"clientSide"===e&&Y(this.gridOptions.rowModelType)}isDomLayout(e){var t;return(null!=(t=this.gridOptions.domLayout)?t:"normal")===e}isRowSelection(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection}useAsyncEvents(){return!this.get("suppressAsyncEvents")}isGetRowHeightFunction(){return"function"==typeof this.gridOptions.getRowHeight}getRowHeightForNode(e,t=!1,i){if(null==i&&(i=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(t)return{height:i,estimated:!0};const s={node:e,data:e.data},r=this.getCallback("getRowHeight")(s);if(this.isNumeric(r))return 0===r&&$("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,r),estimated:!1}}return e.detail&&this.get("masterDetail")?this.getMasterDetailRowHeight():{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:i,estimated:!1}}getMasterDetailRowHeight(){return this.get("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}}getRowHeightAsNumber(){if(!this.gridOptions.rowHeight||Y(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();const e=this.environment.refreshRowHeightVariable();return-1!==e?e:(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())}isNumeric(e){return!isNaN(e)&&"number"==typeof e&&isFinite(e)}getDomDataKey(){return this.domDataKey}getDomData(e,t){const i=e[this.getDomDataKey()];return i?i[t]:void 0}setDomData(e,t,i){const n=this.getDomDataKey();let s=e[n];Y(s)&&(s={},e[n]=s),s[t]=i}getDocument(){let e=null;return this.gridOptions.getDocument&&R(this.gridOptions.getDocument)?e=this.gridOptions.getDocument():this.eGridDiv&&(e=this.eGridDiv.ownerDocument),e&&R(e)?e:document}getWindow(){return this.getDocument().defaultView||window}getRootNode(){return this.eGridDiv.getRootNode()}getAsyncTransactionWaitMillis(){return R(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50}isAnimateRows(){return!this.get("ensureDomOrder")&&this.get("animateRows")}isGroupRowsSticky(){return!(this.get("suppressGroupRowsSticky")||this.get("paginateChildRows")||this.get("groupHideOpenParents")||this.isDomLayout("print"))}isColumnsSortingCoupledToGroup(){const e=this.gridOptions.autoGroupColumnDef;return!e?.comparator&&!this.get("treeData")}getGroupAggFiltering(){const e=this.gridOptions.groupAggFiltering;return"function"==typeof e?this.getCallback("groupAggFiltering"):!0===e?()=>!0:void 0}isGroupIncludeFooterTrueOrCallback(){const e=this.gridOptions.groupIncludeFooter;return!0===e||"function"==typeof e}getGroupIncludeFooter(){const e=this.gridOptions.groupIncludeFooter;return"function"==typeof e?this.getCallback("groupIncludeFooter"):!0===e?()=>!0:()=>!1}isGroupMultiAutoColumn(){return this.gridOptions.groupDisplayType?"multipleColumns"===this.gridOptions.groupDisplayType:this.get("groupHideOpenParents")}isGroupUseEntireRow(e){return!e&&"groupRows"===this.gridOptions.groupDisplayType}getGridCommonParams(){return{api:this.api,columnApi:this.columnApi,context:this.context}}addGridCommonParams(e){const t=e;return t.api=this.api,t.columnApi=this.columnApi,t.context=this.context,t}};Pe.PROPERTY_COERCIONS=new Map([...xs.BOOLEAN_PROPERTIES.map(e=>[e,Pe.toBoolean]),...xs.NUMBER_PROPERTIES.map(e=>[e,Pe.toNumber]),["groupAggFiltering",e=>"function"==typeof e?e:Pe.toBoolean(e)],["pageSize",Pe.toConstrainedNum(1,Number.MAX_VALUE)],["autoSizePadding",Pe.toConstrainedNum(0,Number.MAX_VALUE)],["keepDetailRowsCount",Pe.toConstrainedNum(1,Number.MAX_VALUE)],["rowBuffer",Pe.toConstrainedNum(0,Number.MAX_VALUE)],["infiniteInitialRowCount",Pe.toConstrainedNum(1,Number.MAX_VALUE)],["cacheOverflowSize",Pe.toConstrainedNum(1,Number.MAX_VALUE)],["cacheBlockSize",Pe.toConstrainedNum(1,Number.MAX_VALUE)],["serverSideInitialRowCount",Pe.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelPageSize",Pe.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelBufferSize",Pe.toConstrainedNum(0,Number.MAX_VALUE)]]),Pe.changeSetId=0,h([g("gridOptions")],Pe.prototype,"gridOptions",2),h([g("eventService")],Pe.prototype,"eventService",2),h([g("environment")],Pe.prototype,"environment",2),h([g("frameworkOverrides")],Pe.prototype,"frameworkOverrides",2),h([g("eGridDiv")],Pe.prototype,"eGridDiv",2),h([g("validationService")],Pe.prototype,"validationService",2),h([g("gridApi")],Pe.prototype,"api",2),h([I],Pe.prototype,"init",1),h([Fi],Pe.prototype,"destroy",1),Pe=h([V("gridOptionsService")],Pe);var FS=class extends A{getLocaleTextFunc(){const e=this.gridOptionsService.getCallback("getLocaleText");if(e)return(i,n,s)=>e({key:i,defaultValue:n,variableValues:s});const t=this.gridOptionsService.get("localeText");return(i,n,s)=>{let r=t&&t[i];if(r&&s&&s.length){let o=0;for(;!(o>=s.length||-1===r.indexOf("${variable}"));)r=r.replace("${variable}",s[o++])}return r??n}}};FS=h([V("localeService")],FS);var OS=class mV extends aa{constructor(){super(mV.TEMPLATE,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new ig(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this),this.addManagedListener(this.eventService,f.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))}setScrollVisible(){const t=this.scrollVisibleService.isVerticalScrollShowing(),i=this.invisibleScrollbar,n=t&&this.gridOptionsService.getScrollbarWidth()||0,s=0===n&&i?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",i),Fn(this.getGui(),s),Fn(this.eViewport,s),Fn(this.eContainer,s),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const{ctrlsService:t}=this,n=t.getGridBodyCtrl().getBodyViewportElement(),s=this.getScrollPosition(),r=n.scrollTop;s!=r&&this.setScrollPosition(r,!0)}getScrollPosition(){return this.getViewport().scrollTop}setScrollPosition(t,i){!i&&!hn(this.getViewport())&&this.attemptSettingScrollPosition(t),this.getViewport().scrollTop=t}};OS.TEMPLATE='<div class="ag-body-vertical-scroll" aria-hidden="true">\n            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">\n                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>\n            </div>\n        </div>',h([I],OS.prototype,"postConstruct",1);var fte=OS,Uk={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},zk=["january","february","march","april","may","june","july","august","september","october","november","december"],fr=class extends A{constructor(){super(...arguments),this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}init(){this.groupHideOpenParents=this.gridOptionsService.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gridOptionsService.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(Gl(e.source))})}processDataTypeDefinitions(){var e;const t=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(t).forEach(([n,s])=>{this.dataTypeDefinitions[n]=ot(z({},s),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(s)})});const i=null!=(e=this.gridOptionsService.get("dataTypeDefinitions"))?e:{};this.dataTypeMatchers={},Object.entries(i).forEach(([n,s])=>{const r=this.processDataTypeDefinition(s,i,[n],t);r&&(this.dataTypeDefinitions[n]=r,s.dataTypeMatcher&&(this.dataTypeMatchers[n]=s.dataTypeMatcher))}),this.checkObjectValueHandlers(t),["dateString","text","number","boolean","date"].forEach(n=>{const s=this.dataTypeMatchers[n];s&&delete this.dataTypeMatchers[n],this.dataTypeMatchers[n]=s??t[n].dataTypeMatcher})}mergeDataTypeDefinitions(e,t){const i=z(z({},e),t);return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(i.columnTypes=[...this.convertColumnTypes(e.columnTypes),...this.convertColumnTypes(t.columnTypes)]),i}processDataTypeDefinition(e,t,i,n){let s;const r=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let o=n[r];const a=t[r];if(o&&a&&(o=a),!this.validateDataTypeDefinition(e,o,r))return;s=this.mergeDataTypeDefinitions(o,e)}else{if(i.includes(r))return void $('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');const o=t[r];if(!this.validateDataTypeDefinition(e,o,r))return;const a=this.processDataTypeDefinition(o,t,[...i,r],n);if(!a)return;s=this.mergeDataTypeDefinitions(a,e)}return ot(z({},s),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(s)})}validateDataTypeDefinition(e,t,i){return t?t.baseDataType===e.baseDataType||($('The "baseDataType" property of a data type definition must match that of its parent.'),!1):($(`The data type definition ${i} does not exist.`),!1)}createGroupSafeValueFormatter(e){if(e.valueFormatter)return t=>{var i,n;if(null!=(i=t.node)&&i.group){const s=t.column.getAggFunc();if(s){if("first"===s||"last"===s)return e.valueFormatter(t);if("number"===e.baseDataType&&"count"!==s){if("number"==typeof t.value)return e.valueFormatter(t);if("object"==typeof t.value){if(!t.value)return;if("toNumber"in t.value)return e.valueFormatter(ot(z({},t),{value:t.value.toNumber()}));if("value"in t.value)return e.valueFormatter(ot(z({},t),{value:t.value.value}))}}}if(!this.gridOptionsService.get("suppressGroupMaintainValueType"))return}else if(this.groupHideOpenParents&&t.column.isRowGroupActive()){if("string"!=typeof t.value||null!=(n=e.dataTypeMatcher)&&n.call(e,t.value))return e.valueFormatter(t);if(!this.gridOptionsService.get("suppressGroupMaintainValueType"))return}return e.valueFormatter(t)}}updateColDefAndGetDataTypeDefinitionColumnType(e,t,i){let{cellDataType:n}=t;const{field:s}=t;if(void 0===n&&(n=e.cellDataType),(null==n||!0===n)&&(n=!!this.canInferCellDataType(e,t)&&this.inferCellDataType(s,i)),!n)return void(e.cellDataType=!1);const r=this.dataTypeDefinitions[n];if(r)return e.cellDataType=n,r.groupSafeValueFormatter&&(e.valueFormatter=r.groupSafeValueFormatter),r.valueParser&&(e.valueParser=r.valueParser),r.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,r,i),r.columnTypes;$(`Missing data type definition - "${n}"`)}updateColDefAndGetColumnType(e,t,i){var n,s;const r=this.updateColDefAndGetDataTypeDefinitionColumnType(e,t,i),o=null!=(s=null!=(n=t.type)?n:r)?s:e.type;return e.type=o,o?this.convertColumnTypes(o):void 0}addColumnListeners(e){if(!this.isWaitingForRowData)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const i=n=>{t.add(n.key)};e.addEventListener(ze.EVENT_STATE_UPDATED,i),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.removeEventListener(ze.EVENT_STATE_UPDATED,i))}canInferCellDataType(e,t){var i;if("clientSide"!==this.rowModel.getType())return!1;const n={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(t,n))return!1;const s=null===t.type?e.type:t.type;if(s){const r=null!=(i=this.gridOptionsService.get("columnTypes"))?i:{};if(this.convertColumnTypes(s).some(a=>{const l=r[a.trim()];return l&&this.doColDefPropsPreventInference(l,n)}))return!1}return!this.doColDefPropsPreventInference(e,n)}doColDefPropsPreventInference(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([i,n])=>this.doesColDefPropPreventInference(e,t,i,n))}doesColDefPropPreventInference(e,t,i,n){if(!t[i])return!1;const s=e[i];return null===s?(t[i]=!1,!1):void 0===n?!!s:s===n}inferCellDataType(e,t){var i;if(!e)return;let n;const s=this.getInitialData();if(s){const o=e.indexOf(".")>=0&&!this.gridOptionsService.get("suppressFieldDotNotation");n=Nl(s,e,o)}else this.initWaitForRowData(t);if(null==n)return;const[r]=null!=(i=Object.entries(this.dataTypeMatchers).find(([o,a])=>a(n)))?i:["object"];return r}getInitialData(){const e=this.gridOptionsService.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{const t=this.rowModel.getRootNode().allLeafChildren;if(t?.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions;t&&this.columnModel.queueResizeOperations();const i=this.addManagedListener(this.eventService,f.EVENT_ROW_DATA_UPDATE_STARTED,n=>{const{firstRowData:s}=n;s&&(i?.(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(s,t),this.columnStateUpdatesPendingInference={},t&&this.columnModel.processResizeOperations(),this.eventService.dispatchEvent({type:f.EVENT_DATA_TYPES_INFERRED}))})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(e,t){this.initialData=e;const i=[];this.columnStateUpdateListenerDestroyFuncs.forEach(r=>r()),this.columnStateUpdateListenerDestroyFuncs=[];const n={},s={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([r,o])=>{const a=this.columnModel.getGridColumn(r);if(!a)return;const l=a.getColDef();if(!this.columnModel.resetColumnDefIntoColumn(a,"cellDataTypeInferred"))return;const d=a.getColDef();if(t&&d.type&&d.type!==l.type){const c=this.getUpdatedColumnState(a,o);c.rowGroup&&null==c.rowGroupIndex&&(n[r]=c),c.pivot&&null==c.pivotIndex&&(s[r]=c),i.push(c)}}),t&&i.push(...this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(n,s)),i.length&&this.columnModel.applyColumnState({state:i},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(e,t){const i=this.columnModel.getColumnStateFromColDef(e);return t.forEach(n=>{delete i[n],"rowGroup"===n?delete i.rowGroupIndex:"pivot"===n&&delete i.pivotIndex}),i}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,i=e.object;this.hasObjectValueParser=t.valueParser!==i.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==i.valueFormatter}convertColumnTypes(e){let t=[];return e instanceof Array?e.some(n=>"string"!=typeof n)?console.warn("if colDef.type is supplied an array it should be of type 'string[]'"):t=e:"string"==typeof e?t=e.split(","):console.warn("colDef.type should be of type 'string' | 'string[]'"),t}getDateStringTypeDefinition(e){var t;return e&&null!=(t=this.getDataTypeDefinition(e))?t:this.dataTypeDefinitions.dateString}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){var t;return null==(t=this.getDataTypeDefinition(e))?void 0:t.baseDataType}checkType(e,t){var i;if(null==t)return!0;const n=null==(i=this.getDataTypeDefinition(e))?void 0:i.dataTypeMatcher;return!n||n(t)}validateColDef(e){"object"===e.cellDataType&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&$('Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"'),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&$('Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"'))}setColDefPropertiesForBaseDataType(e,t,i){const n=(a,l,d)=>{let c=a.getColDef().valueFormatter;return c===t.groupSafeValueFormatter&&(c=t.valueFormatter),this.valueFormatterService.formatValue(a,l,d,c)},s=ke.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()),r=this.localeService.getLocaleTextFunc(),o=a=>{const{filterParams:l}=e;e.filterParams="object"==typeof l?z(z({},l),a):a};switch(t.baseDataType){case"number":e.cellEditor="agNumberCellEditor",s&&o({comparator:(a,l)=>{const d=null==a?0:parseInt(a),c=null==l?0:parseInt(l);return d===c?0:d>c?1:-1}});break;case"boolean":e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=a=>!!a.colDef.editable&&a.event.key===S.SPACE,o(s?{valueFormatter:a=>R(a.value)?r(String(a.value),a.value?"True":"False"):r("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(a,l)=>l,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(a,l)=>!1===l,numberOfInputs:0}]});break;case"date":e.cellEditor="agDateCellEditor",e.keyCreator=a=>n(a.column,a.node,a.value),s&&o({valueFormatter:a=>{const l=n(a.column,a.node,a.value);return R(l)?l:r("blanks","(Blanks)")},treeList:!0,treeListFormatter:(a,l)=>{if(1===l&&null!=a){const d=zk[Number(a)-1];return r(d,Uk[d])}return a??r("blanks","(Blanks)")}});break;case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=l=>n(l.column,l.node,l.value);const a=t.dateParser;o(s?{valueFormatter:l=>{const d=n(l.column,l.node,l.value);return R(d)?d:r("blanks","(Blanks)")},treeList:!0,treeListPathGetter:l=>{const d=a(l??void 0);return d?[String(d.getFullYear()),String(d.getMonth()+1),String(d.getDate())]:null},treeListFormatter:(l,d)=>{if(1===d&&null!=l){const c=zk[Number(l)-1];return r(c,Uk[c])}return l??r("blanks","(Blanks)")}}:{comparator:(l,d)=>{const c=a(d);return null==d||c<l?-1:c>l?1:0}});break}case"object":e.cellEditorParams={useFormatter:!0},e.comparator=(a,l)=>{const d=this.columnModel.getPrimaryColumn(i),c=d?.getColDef();if(!d||!c)return 0;const u=null==a?"":n(d,null,a),p=null==l?"":n(d,null,l);return u===p?0:u>p?1:-1},e.keyCreator=a=>n(a.column,a.node,a.value),s?o({valueFormatter:a=>{const l=n(a.column,a.node,a.value);return R(l)?l:r("blanks","(Blanks)")}}):e.filterValueGetter=a=>n(a.column,a.node,this.valueService.getValue(a.column,a.node))}}getDefaultDataTypes(){const e=i=>!!i.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:i=>{var n,s;return""===(null==(s=null==(n=i.newValue)?void 0:n.trim)?void 0:s.call(n))?null:Number(i.newValue)},valueFormatter:i=>null==i.value?"":"number"!=typeof i.value||isNaN(i.value)?t("invalidNumber","Invalid Number"):String(i.value),dataTypeMatcher:i=>"number"==typeof i},text:{baseDataType:"text",valueParser:i=>""===i.newValue?null:mu(i.newValue),dataTypeMatcher:i=>"string"==typeof i},boolean:{baseDataType:"boolean",valueParser:i=>{var n,s;return null==i.newValue?i.newValue:""===(null==(s=null==(n=i.newValue)?void 0:n.trim)?void 0:s.call(n))?null:"true"===String(i.newValue).toLowerCase()},valueFormatter:i=>null==i.value?"":String(i.value),dataTypeMatcher:i=>"boolean"==typeof i},date:{baseDataType:"date",valueParser:i=>$i(null==i.newValue?null:String(i.newValue)),valueFormatter:i=>{var n;return null==i.value?"":i.value instanceof Date&&!isNaN(i.value.getTime())?null!=(n=In(i.value,!1))?n:"":t("invalidDate","Invalid Date")},dataTypeMatcher:i=>i instanceof Date},dateString:{baseDataType:"dateString",dateParser:i=>{var n;return null!=(n=$i(i))?n:void 0},dateFormatter:i=>{var n;return null!=(n=In(i??null,!1))?n:void 0},valueParser:i=>e(String(i.newValue))?i.newValue:null,valueFormatter:i=>e(String(i.value))?i.value:"",dataTypeMatcher:i=>"string"==typeof i&&e(i)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:i=>{var n;return null!=(n=mu(i.value))?n:""}}}}};h([g("rowModel")],fr.prototype,"rowModel",2),h([g("columnModel")],fr.prototype,"columnModel",2),h([g("columnUtils")],fr.prototype,"columnUtils",2),h([g("valueService")],fr.prototype,"valueService",2),h([g("valueFormatterService")],fr.prototype,"valueFormatterService",2),h([I],fr.prototype,"init",1),fr=h([V("dataTypeService")],fr);var vg=class extends A{parseValue(e,t,i,n){const s=e.getColDef(),r=this.gridOptionsService.addGridCommonParams({node:t,data:t?.data,oldValue:n,newValue:i,colDef:s,column:e}),o=s.valueParser;return R(o)?"function"==typeof o?o(r):this.expressionService.evaluate(o,r):i}};h([g("expressionService")],vg.prototype,"expressionService",2),vg=h([V("valueParserService")],vg);var da=class extends A{constructor(){super(...arguments),this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.ctrlsService.whenReady(()=>{const e=this.gridOptionsService.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){this.columnModel.setColumnDefs(e??[],"gridInitializing"),this.rowModel.start()}gridReady(){this.dispatchGridReadyEvent();const e=ke.__isRegistered("@ag-grid-enterprise/core",this.context.getGridId());new _S("AG Grid",()=>this.gridOptionsService.get("debug")).log(`initialised successfully, enterprise = ${e}`)}dispatchGridReadyEvent(){this.eventService.dispatchEvent({type:f.EVENT_GRID_READY})}setColumnDefs(e){const t=this.gridOptionsService.get("columnDefs");if(t){if(this.waitingForColumns)return this.waitingForColumns=!1,void this.setColumnsAndData(t);this.columnModel.setColumnDefs(t,Gl(e.source))}}};h([g("ctrlsService")],da.prototype,"ctrlsService",2),h([g("columnModel")],da.prototype,"columnModel",2),h([g("rowModel")],da.prototype,"rowModel",2),h([I],da.prototype,"postConstruct",1),da=h([V("syncService")],da);var ca=class extends A{constructor(){super(...arguments),this.manuallyDisplayed=!1}postConstruct(){this.addManagedListener(this.eventService,f.EVENT_ROW_DATA_UPDATED,()=>this.onRowDataUpdated()),this.addManagedListener(this.eventService,f.EVENT_NEW_COLUMNS_LOADED,()=>this.onNewColumnsLoaded())}registerOverlayWrapperComp(e){this.overlayWrapperComp=e,(!this.gridOptionsService.get("columnDefs")||this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData"))&&this.showLoadingOverlay()}showLoadingOverlay(){if(this.gridOptionsService.get("suppressLoadingOverlay"))return;const t=this.userComponentFactory.getLoadingOverlayCompDetails({});this.showOverlay(t,"ag-overlay-loading-wrapper","loadingOverlayComponentParams")}showNoRowsOverlay(){if(this.gridOptionsService.get("suppressNoRowsOverlay"))return;const t=this.userComponentFactory.getNoRowsOverlayCompDetails({});this.showOverlay(t,"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams")}showOverlay(e,t,i){const n=e.newAgStackInstance(),s=this.addManagedPropertyListener(i,({currentValue:r})=>{n.then(o=>{o.refresh&&o.refresh(this.gridOptionsService.addGridCommonParams(z({},r??{})))})});this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.overlayWrapperComp.showOverlay(n,t,s)}hideOverlay(){this.manuallyDisplayed=!1,this.overlayWrapperComp.hideOverlay()}showOrHideOverlay(){const e=this.paginationProxy.isEmpty(),t=this.gridOptionsService.get("suppressNoRowsOverlay");e&&!t?this.showNoRowsOverlay():this.hideOverlay()}onRowDataUpdated(){this.showOrHideOverlay()}onNewColumnsLoaded(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()}};h([g("userComponentFactory")],ca.prototype,"userComponentFactory",2),h([g("paginationProxy")],ca.prototype,"paginationProxy",2),h([g("columnModel")],ca.prototype,"columnModel",2),h([I],ca.prototype,"postConstruct",1),ca=h([V("overlayService")],ca);var Li=class extends A{constructor(){super(...arguments),this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=Ii(()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=Ii(()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),0),this.onRowSelectedDebounced=Ii(()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){var e;this.isClientSideRowModel="clientSide"===this.rowModel.getType(),this.cachedState=null!=(e=this.gridOptionsService.get("initialState"))?e:{},this.ctrlsService.whenReady(()=>this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnGridReady()));const t=this.addManagedListener(this.eventService,f.EVENT_NEW_COLUMNS_LOADED,({source:s})=>{"gridInitializing"===s&&(t?.(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnColumnsInitialised()))}),i=this.addManagedListener(this.eventService,f.EVENT_ROW_COUNT_READY,()=>{i?.(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnRowCountReady())}),n=this.addManagedListener(this.eventService,f.EVENT_FIRST_DATA_RENDERED,()=>{n?.(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnFirstDataRendered())})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState()),this.addManagedListener(this.eventService,f.EVENT_TOOL_PANEL_VISIBLE_CHANGED,()=>this.updateCachedState("sideBar",this.getSideBarState())),this.addManagedListener(this.eventService,f.EVENT_SIDE_BAR_UPDATED,()=>this.updateCachedState("sideBar",this.getSideBarState()))}setupStateOnColumnsInitialised(){var e;const t=null!=(e=this.gridOptionsService.get("initialState"))?e:{};this.setColumnState(t),this.setColumnGroupState(t),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState()),this.addManagedListener(this.eventService,f.EVENT_COLUMN_VALUE_CHANGED,()=>this.updateColumnState(["aggregation"])),this.addManagedListener(this.eventService,f.EVENT_COLUMN_MOVED,()=>this.updateColumnState(["columnOrder"])),this.addManagedListener(this.eventService,f.EVENT_COLUMN_PINNED,()=>this.updateColumnState(["columnPinning"])),this.addManagedListener(this.eventService,f.EVENT_COLUMN_RESIZED,()=>this.updateColumnState(["columnSizing"])),this.addManagedListener(this.eventService,f.EVENT_COLUMN_VISIBLE,()=>this.updateColumnState(["columnVisibility"])),this.addManagedListener(this.eventService,f.EVENT_COLUMN_PIVOT_CHANGED,()=>this.updateColumnState(["pivot"])),this.addManagedListener(this.eventService,f.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.updateColumnState(["pivot"])),this.addManagedListener(this.eventService,f.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.updateColumnState(["rowGroup"])),this.addManagedListener(this.eventService,f.EVENT_SORT_CHANGED,()=>this.updateColumnState(["sort"])),this.addManagedListener(this.eventService,f.EVENT_NEW_COLUMNS_LOADED,()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"])),this.addManagedListener(this.eventService,f.EVENT_COLUMN_GROUP_OPENED,()=>this.updateCachedState("columnGroup",this.getColumnGroupState()))}setupStateOnRowCountReady(){var e;const{filter:t,rowGroupExpansion:i,rowSelection:n,pagination:s}=null!=(e=this.gridOptionsService.get("initialState"))?e:{},r=this.gridOptionsService.get("advancedFilterModel");(t||r)&&this.setFilterState(t,r),i&&this.setRowGroupExpansionState(i),n&&this.setRowSelectionState(n),s&&this.setPaginationState(s),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState()),this.addManagedListener(this.eventService,f.EVENT_FILTER_CHANGED,()=>this.updateCachedState("filter",this.getFilterState())),this.addManagedListener(this.eventService,f.EVENT_ROW_GROUP_OPENED,()=>this.onRowGroupOpenedDebounced()),this.addManagedListener(this.eventService,f.EVENT_EXPAND_COLLAPSE_ALL,()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())),this.addManagedListener(this.eventService,f.EVENT_SELECTION_CHANGED,()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()}),this.addManagedListener(this.eventService,f.EVENT_PAGINATION_CHANGED,o=>{(o.newPage||o.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())})}setupStateOnFirstDataRendered(){var e;const{scroll:t,rangeSelection:i,focusedCell:n,columnOrder:s}=null!=(e=this.gridOptionsService.get("initialState"))?e:{};n&&this.setFocusedCellState(n),i&&this.setRangeSelectionState(i),t&&this.setScrollState(t),this.setColumnPivotState(!!s?.orderedColIds),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState()),this.updateCachedState("rangeSelection",this.getRangeSelectionState()),this.updateCachedState("scroll",this.getScrollState()),this.addManagedListener(this.eventService,f.EVENT_CELL_FOCUSED,()=>this.updateCachedState("focusedCell",this.getFocusedCellState())),this.addManagedListener(this.eventService,f.EVENT_RANGE_SELECTION_CHANGED,r=>{r.finished&&this.updateCachedState("rangeSelection",this.getRangeSelectionState())}),this.addManagedListener(this.eventService,f.EVENT_BODY_SCROLL_END,()=>this.updateCachedState("scroll",this.getScrollState()))}getColumnState(){const e=this.columnModel.isPivotMode(),t=[],i=[],n=[],s=[],r=[],o=[],a=[],l=[],d=[],c=this.columnModel.getColumnState();for(let u=0;u<c.length;u++){const{colId:p,sort:m,sortIndex:v,rowGroup:C,rowGroupIndex:b,aggFunc:y,pivot:w,pivotIndex:E,pinned:D,hide:M,width:L,flex:k}=c[u];d.push(p),m&&(t[v??0]={colId:p,sort:m}),C&&(i[b??0]=p),"string"==typeof y&&n.push({colId:p,aggFunc:y}),w&&(s[E??0]=p),D&&("right"===D?o:r).push(p),M&&a.push(p),(k||L)&&l.push({colId:p,flex:k??void 0,width:L})}return{sort:t.length?{sortModel:t}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:n.length?{aggregationModel:n}:void 0,pivot:s.length||e?{pivotMode:e,pivotColIds:s}:void 0,columnPinning:r.length||o.length?{leftColIds:r,rightColIds:o}:void 0,columnVisibility:a.length?{hiddenColIds:a}:void 0,columnSizing:l.length?{columnSizingModel:l}:void 0,columnOrder:d.length?{orderedColIds:d}:void 0}}setColumnState(e){const{sort:t,rowGroup:i,aggregation:n,pivot:s,columnPinning:r,columnVisibility:o,columnSizing:a,columnOrder:l}=e,d={},c=v=>{let C=d[v];return C||(C={colId:v},d[v]=C,C)};t&&t.sortModel.forEach(({colId:v,sort:C},b)=>{const y=c(v);y.sort=C,y.sortIndex=b}),i&&i.groupColIds.forEach((v,C)=>{const b=c(v);b.rowGroup=!0,b.rowGroupIndex=C}),n&&n.aggregationModel.forEach(({colId:v,aggFunc:C})=>{c(v).aggFunc=C}),s&&(s.pivotColIds.forEach((v,C)=>{const b=c(v);b.pivot=!0,b.pivotIndex=C}),this.gridOptionsService.updateGridOptions({options:{pivotMode:s.pivotMode},source:"gridInitializing"})),r&&(r.leftColIds.forEach(v=>{c(v).pinned="left"}),r.rightColIds.forEach(v=>{c(v).pinned="right"})),o&&o.hiddenColIds.forEach(v=>{c(v).hide=!0}),a&&a.columnSizingModel.forEach(({colId:v,flex:C,width:b})=>{const y=c(v);y.flex=C??null,y.width=b});const u=l?.orderedColIds,p=!!u?.length,m=p?u.map(v=>c(v)):Object.values(d);m.length&&(this.columnStates=m,this.columnModel.applyColumnState({state:m,applyOrder:p,defaultState:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null}},"gridInitializing"))}setColumnPivotState(e){const t=this.columnStates;this.columnStates=void 0;const i=this.columnGroupStates;if(this.columnGroupStates=void 0,this.columnModel.isSecondaryColumnsPresent()){if(t){let n=[];for(const s of t)this.columnModel.getSecondaryColumn(s.colId)&&n.push(s);this.columnModel.applyColumnState({state:n,applyOrder:e},"gridInitializing")}i&&this.columnModel.setColumnGroupState(i,"gridInitializing")}}getColumnGroupState(){const e=this.columnModel.getColumnGroupState(),t=[];return e.forEach(({groupId:i,open:n})=>{n&&t.push(i)}),t.length?{openColumnGroupIds:t}:void 0}setColumnGroupState(e){var t;if(!e.hasOwnProperty("columnGroup"))return;const i=new Set(null==(t=e.columnGroup)?void 0:t.openColumnGroupIds),s=this.columnModel.getColumnGroupState().map(({groupId:r})=>{const o=i.has(r);return o&&i.delete(r),{groupId:r,open:o}});i.forEach(r=>{s.push({groupId:r,open:!0})}),s.length&&(this.columnGroupStates=s),this.columnModel.setColumnGroupState(s,"gridInitializing")}getFilterState(){var e;let t=this.filterManager.getFilterModel();t&&0===Object.keys(t).length&&(t=void 0);const i=null!=(e=this.filterManager.getAdvancedFilterModel())?e:void 0;return t||i?{filterModel:t,advancedFilterModel:i}:void 0}setFilterState(e,t){const{filterModel:i,advancedFilterModel:n}=e??{advancedFilterModel:t};i&&this.filterManager.setFilterModel(i,"columnFilter"),n&&this.filterManager.setAdvancedFilterModel(n)}getRangeSelectionState(){var e;const t=null==(e=this.rangeService)?void 0:e.getCellRanges().map(i=>{const{id:n,type:s,startRow:r,endRow:o,columns:a,startColumn:l}=i;return{id:n,type:s,startRow:r,endRow:o,colIds:a.map(d=>d.getColId()),startColId:l.getColId()}});return t?.length?{cellRanges:t}:void 0}setRangeSelectionState(e){var t;if(!this.gridOptionsService.get("enableRangeSelection"))return;const i=e.cellRanges.map(n=>ot(z({},n),{columns:n.colIds.map(s=>this.columnModel.getGridColumn(s)),startColumn:this.columnModel.getGridColumn(n.startColId)}));null==(t=this.rangeService)||t.setCellRanges(i)}getScrollState(){var e,t,i;if(!this.isClientSideRowModel)return;const n=null==(e=this.ctrlsService.getGridBodyCtrl())?void 0:e.getScrollFeature(),{left:s}=null!=(t=n?.getHScrollPosition())?t:{left:0},{top:r}=null!=(i=n?.getVScrollPosition())?i:{top:0};return r||s?{top:r,left:s}:void 0}setScrollState(e){var t;if(!this.isClientSideRowModel)return;const{top:i,left:n}=e;null==(t=this.ctrlsService.getGridBodyCtrl())||t.getScrollFeature().setScrollPosition(i,n)}getSideBarState(){var e,t;return null==(t=null==(e=this.sideBarService)?void 0:e.getSideBarComp())?void 0:t.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.focusService.getFocusedCell();if(e){const{column:t,rowIndex:i,rowPinned:n}=e;return{colId:t.getColId(),rowIndex:i,rowPinned:n}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{colId:t,rowIndex:i,rowPinned:n}=e;this.focusService.setFocusedCell({column:this.columnModel.getGridColumn(t),rowIndex:i,rowPinned:n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const e=this.paginationProxy.getCurrentPage(),t=this.gridOptionsService.get("paginationAutoPageSize")?void 0:this.paginationProxy.getPageSize();if(e||t)return{page:e,pageSize:t}}setPaginationState(e){e.pageSize&&!this.gridOptionsService.get("paginationAutoPageSize")&&this.paginationProxy.setPageSize(e.pageSize,"initialState"),"number"==typeof e.page&&this.paginationProxy.setPage(e.page)}getRowSelectionState(){var e;const t=this.selectionService.getSelectionState();return t&&(Array.isArray(t)||!1!==t.selectAll&&!1!==t.selectAllChildren||null!=(e=t?.toggledNodes)&&e.length)?t:void 0}setRowSelectionState(e){this.selectionService.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){const e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0}setRowGroupExpansionState(e){this.expansionService.expandRows(e.expandedRowGroupIds)}updateColumnState(e){const t=this.getColumnState();let i=!1;Object.entries(t).forEach(([n,s])=>{Yy(s,this.cachedState[n])||(i=!0)}),this.cachedState=z(z({},this.cachedState),t),i&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const i=this.cachedState[e];this.setCachedStateValue(e,t),Yy(t,i)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState=ot(z({},this.cachedState),{[e]:t})}refreshStaleState(){this.staleStateKeys.forEach(e=>{"rowSelection"===e&&this.setCachedStateValue(e,this.getRowSelectionState())}),this.staleStateKeys.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear(),this.eventService.dispatchEvent({type:f.EVENT_STATE_UPDATED,sources:e,state:this.cachedState})}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}};h([g("filterManager")],Li.prototype,"filterManager",2),h([De("rangeService")],Li.prototype,"rangeService",2),h([g("ctrlsService")],Li.prototype,"ctrlsService",2),h([De("sideBarService")],Li.prototype,"sideBarService",2),h([g("focusService")],Li.prototype,"focusService",2),h([g("columnModel")],Li.prototype,"columnModel",2),h([g("paginationProxy")],Li.prototype,"paginationProxy",2),h([g("rowModel")],Li.prototype,"rowModel",2),h([g("selectionService")],Li.prototype,"selectionService",2),h([g("expansionService")],Li.prototype,"expansionService",2),h([g("columnAnimationService")],Li.prototype,"columnAnimationService",2),h([I],Li.prototype,"postConstruct",1),Li=h([V("stateService")],Li);var ih=class extends A{init(){this.processGridOptions(this.gridOptions)}processGridOptions(e){this.processOptions(e,pte)}processColumnDefs(e){this.processOptions(e,hd)}processOptions(e,t){const{validations:i,deprecations:n,allProperties:s,propertyExceptions:r,objectName:o,docsUrl:a}=t;s&&!0!==this.gridOptions.suppressPropertyNamesCheck&&this.checkProperties(e,[...r??[],...Object.keys(n)],s,o,a);const l=new Set;Object.keys(e).forEach(c=>{var u;const p=n[c];if(p)if("renamed"in p){const{renamed:E,version:D}=p;l.add(`As of v${D}, ${String(c)} is deprecated. Please use ${String(E)} instead.`),e[E]=e[c]}else{const{message:E,version:D}=p;l.add(`As of v${D}, ${String(c)} is deprecated. ${E??""}`)}const m=e[c];if(null==m||!1===m)return;const v=i[c];let C;if(!v)return;if("function"==typeof v){const E=v(e,this.gridOptions);if(!E)return;if("objectName"in E){const D=e[c];return Array.isArray(D)?void D.forEach(M=>{this.processOptions(M,E)}):void this.processOptions(e[c],E)}C=E}else C=v;const{module:b,dependencies:y,supportedRowModels:w}=C;if(w){const E=null!=(u=this.gridOptions.rowModelType)?u:"clientSide";if(!w.includes(E))return void l.add(`${String(c)} is not supported with the '${E}' row model.`)}if(b){const E=Array.isArray(b)?b:[b];let D=!0;if(E.forEach(M=>{ke.__assertRegistered(M,String(c),this.context.getGridId())||(D=!1,l.add(`${String(c)} is only available when ${M} is loaded.`))}),!D)return}if(y){const E=this.checkForWarning(c,y,e);if(E)return void l.add(E)}}),l.size>0&&l.forEach(c=>{$(c)})}checkForWarning(e,t,i){if("function"==typeof t)return t(i,this.gridOptions);const s=Object.entries(t).find(([a,l])=>!l.includes(i[a]));if(!s)return null;const[r,o]=s;return o.length>1?`'${String(e)}' requires '${r}' to be one of [${o.join(", ")}].`:`'${String(e)}' requires '${r}' to be ${o[0]}.`}checkProperties(e,t,i,n,s){const o=ON(Object.getOwnPropertyNames(e),["__ob__","__v_skip","__metadata__",...t,...i],i);if(pi(o,(a,l)=>{$(`invalid ${n} property '${a}' did you mean any of these: ${l.slice(0,8).join(", ")}`)}),Object.keys(o).length>0&&s){const a=this.getFrameworkOverrides().getDocLink(s);$(`to see all the valid ${n} properties please check: ${a}`)}}};h([g("gridOptions")],ih.prototype,"gridOptions",2),h([I],ih.prototype,"init",1),ih=h([V("validationService")],ih);var Cg=class extends A{constructor(){super(...arguments),this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new i_(this.getFrameworkOverrides())}addEventListener(e,t){const i=this.frameworkEventWrappingService.wrap(t),n=this.gridOptionsService.useAsyncEvents()&&!Im.has(e),s=n?this.asyncEventListeners:this.syncEventListeners;s.has(e)||s.set(e,new Set),s.get(e).add(i),this.eventService.addEventListener(e,i,n)}removeEventListener(e,t){var i;const n=this.frameworkEventWrappingService.unwrap(t),s=this.asyncEventListeners.get(e),r=!!s?.delete(n);r||null==(i=this.syncEventListeners.get(e))||i.delete(n),this.eventService.removeEventListener(e,n,r)}addGlobalListener(e){const t=this.frameworkEventWrappingService.wrapGlobal(e);if(this.gridOptionsService.useAsyncEvents()){const n=(r,o)=>{Im.has(r)&&t(r,o)},s=(r,o)=>{Im.has(r)||t(r,o)};this.globalEventListenerPairs.set(e,{syncListener:n,asyncListener:s}),this.eventService.addGlobalListener(n,!1),this.eventService.addGlobalListener(s,!0)}else this.syncGlobalEventListeners.add(t),this.eventService.addGlobalListener(t,!1)}removeGlobalListener(e){const t=this.frameworkEventWrappingService.unwrapGlobal(e);if(this.globalEventListenerPairs.has(t)){const{syncListener:n,asyncListener:s}=this.globalEventListenerPairs.get(t);this.eventService.removeGlobalListener(n,!1),this.eventService.removeGlobalListener(s,!0),this.globalEventListenerPairs.delete(e)}else this.syncGlobalEventListeners.delete(t),this.eventService.removeGlobalListener(t,!1)}destroyEventListeners(e,t){e.forEach((i,n)=>{i.forEach(s=>this.eventService.removeEventListener(n,s,t)),i.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(i=>this.eventService.removeGlobalListener(i,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach(({syncListener:e,asyncListener:t})=>{this.eventService.removeGlobalListener(e,!1),this.eventService.removeGlobalListener(t,!0)}),this.globalEventListenerPairs.clear()}};h([I],Cg.prototype,"postConstruct",1),Cg=h([V("apiEventService")],Cg);var nh=class extends ee{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.paginationProxy.getPageSize()||(this.paginationProxy.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}init(){this.addManagedPropertyListener("paginationPageSizeSelector",()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedListener(this.eventService,f.EVENT_PAGINATION_CHANGED,e=>this.handlePaginationChanged(e))}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;const t=this.paginationProxy.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp&&this.appendChild(this.selectPageSizeComp))}reset(){It(this.getGui()),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0)}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel")&&!this.gridOptionsService.get("paginationAutoPageSize")&&!1!==this.gridOptionsService.get("paginationPageSizeSelector")}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.paginationProxy.getPageSize(),i=!t||!e.includes(t);i&&(e.unshift(""),$("The paginationPageSize grid option is set to a value that is not in the list of page size options.\n                Please make sure that the paginationPageSize grid option is set to one of the values in the \n                paginationPageSizeSelector array, or set the paginationPageSizeSelector to false to hide the page size selector.")),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0);const n=this.localeService.getLocaleTextFunc(),s=n("pageSizeSelectorLabel","Page Size:"),r=e.map(a=>({value:String(a),text:String(a)})),o=n("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new Km).addOptions(r).setValue(String(i?"":t)).setAriaLabel(o).setLabel(s).onValueChange(()=>this.handlePageSizeItemSelected()),this.hasEmptyOption=i}getPageSizeSelectorValues(){const t=this.gridOptionsService.get("paginationPageSizeSelector");return Array.isArray(t)&&this.validateValues(t)?[...t].sort((i,n)=>i-n):[20,50,100]}validateValues(e){if(!e.length)return $("The paginationPageSizeSelector grid option is an empty array. This is most likely a mistake.\n                If you want to hide the page size selector, please set the paginationPageSizeSelector to false."),!1;for(let t=0;t<e.length;t++){const i=e[t],s=i>0;if("number"!=typeof i)return $("The paginationPageSizeSelector grid option contains a non-numeric value.\n                    Please make sure that all values in the paginationPageSizeSelector array are numbers."),!1;if(!s)return $("The paginationPageSizeSelector grid option contains a negative number or zero.\n                    Please make sure that all values in the paginationPageSizeSelector array are positive."),!1}return!0}destroy(){this.toggleSelectDisplay(!1),super.destroy()}};h([g("localeService")],nh.prototype,"localeService",2),h([g("gridOptionsService")],nh.prototype,"gridOptionsService",2),h([g("paginationProxy")],nh.prototype,"paginationProxy",2),h([I],nh.prototype,"init",1);var sh=class extends A{constructor(){super(),this.descriptionContainer=null,this.announceValue=Ii(this.announceValue.bind(this),200)}postConstruct(){const e=this.gridOptionsService.getDocument(),t=this.descriptionContainer=e.createElement("div");t.classList.add("ag-aria-description-container"),p_(t,"polite"),oN(t,"additions text"),rN(t,!0),this.eGridDiv.appendChild(t)}announceValue(e){this.descriptionContainer&&(this.descriptionContainer.textContent="",setTimeout(()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=e)},50))}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(It(e),e.parentElement&&e.parentElement.removeChild(e)),this.descriptionContainer=null,this.eGridDiv=null}};h([g("eGridDiv")],sh.prototype,"eGridDiv",2),h([I],sh.prototype,"postConstruct",1),sh=h([V("ariaAnnouncementService")],sh);var gte=1,vte=class{wrap(e,t,i=[],n){const s=this.createWrapper(e,n);return t.forEach(r=>{this.createMethod(s,r,!0)}),i.forEach(r=>{this.createMethod(s,r,!1)}),s}unwrap(e){return e}createMethod(e,t,i){e.addMethod(t,this.createMethodProxy(e,t,i))}createMethodProxy(e,t,i){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(i&&console.warn("AG Grid: Framework component is missing the method "+t+"()"),null)}}},pd=typeof global>"u"?{}:global;pd.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement,pd.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement,pd.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement,pd.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement,pd.Node=typeof Node>"u"?{}:Node,pd.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var PS=class bh{constructor(t,i,n,s,r,o){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=t,this.gridOptionsService=i,this.eventService=n,this.columnModel=s,this.beans=o,this.selectionService=r,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=bh.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return fe.cloneObject(this.allNodesMap)}getRowNode(t){return this.allNodesMap[t]}setRowData(t){if("string"==typeof t)return void console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first");this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(t);const i=this.rootNode,n=this.rootNode.sibling;i.childrenAfterFilter=null,i.childrenAfterGroup=null,i.childrenAfterAggFilter=null,i.childrenAfterSort=null,i.childrenMapped=null,i.updateHasChildren(),this.nextId=0,this.allNodesMap={},t?i.allLeafChildren=t.map(s=>this.createNode(s,this.rootNode,bh.TOP_LEVEL)):(i.allLeafChildren=[],i.childrenAfterGroup=[]),n&&(n.childrenAfterFilter=i.childrenAfterFilter,n.childrenAfterGroup=i.childrenAfterGroup,n.childrenAfterAggFilter=i.childrenAfterAggFilter,n.childrenAfterSort=i.childrenAfterSort,n.childrenMapped=i.childrenMapped,n.allLeafChildren=i.allLeafChildren)}updateRowData(t,i){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(t.add);const n={remove:[],update:[],add:[]},s=[];return this.executeRemove(t,n,s),this.executeUpdate(t,n,s),this.executeAdd(t,n),this.updateSelection(s,"rowDataChanged"),i&&fe.sortRowNodesByOrder(this.rootNode.allLeafChildren,i),n}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(t){this.eventService.dispatchEvent({type:f.EVENT_ROW_DATA_UPDATE_STARTED,firstRowData:t?.length?t[0]:null})}updateSelection(t,i){const n=t.length>0;n&&this.selectionService.setNodesSelected({newValue:!1,nodes:t,suppressFinishActions:!0,source:i}),this.selectionService.updateGroupsFromChildrenSelections(i),n&&this.eventService.dispatchEvent({type:f.EVENT_SELECTION_CHANGED,source:i})}executeAdd(t,i){var n;const{add:s,addIndex:r}=t;if(fe.missingOrEmpty(s))return;const o=s.map(a=>this.createNode(a,this.rootNode,bh.TOP_LEVEL));if("number"==typeof r&&r>=0){const{allLeafChildren:a}=this.rootNode,l=a.length;let d=r;if(this.gridOptionsService.get("treeData")&&r>0&&l>0)for(let m=0;m<l;m++)if((null==(n=a[m])?void 0:n.rowIndex)==r-1){d=m+1;break}const u=a.slice(0,d),p=a.slice(d,a.length);this.rootNode.allLeafChildren=[...u,...o,...p]}else this.rootNode.allLeafChildren=[...this.rootNode.allLeafChildren,...o];this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),i.add=o}executeRemove(t,i,n){const{remove:s}=t;if(fe.missingOrEmpty(s))return;const r={};s.forEach(o=>{const a=this.lookupRowNode(o);a&&(a.isSelected()&&n.push(a),a.clearRowTopAndRowIndex(),r[a.id]=!0,delete this.allNodesMap[a.id],i.remove.push(a))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(o=>!r[o.id]),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(t,i,n){const{update:s}=t;fe.missingOrEmpty(s)||s.forEach(r=>{const o=this.lookupRowNode(r);o&&(o.updateData(r),!o.selectable&&o.isSelected()&&n.push(o),this.setMasterForRow(o,r,bh.TOP_LEVEL,!1),i.update.push(o))})}lookupRowNode(t){const i=this.gridOptionsService.getCallback("getRowId");let n;if(i){const s=i({data:t,level:0});if(n=this.allNodesMap[s],!n)return console.error(`AG Grid: could not find row id=${s}, data item was not found for this id`),null}else if(n=this.rootNode.allLeafChildren.find(s=>s.data===t),!n)return console.error("AG Grid: could not find data item as object was not found",t),console.error("Consider using getRowId to help the Grid find matching row data"),null;return n||null}createNode(t,i,n){const s=new me(this.beans);s.group=!1,this.setMasterForRow(s,t,n,!0);const r=this.gridOptionsService.get("suppressParentsInRowNodes");return i&&!r&&(s.parent=i),s.level=n,s.setDataAndId(t,this.nextId.toString()),this.allNodesMap[s.id]&&console.warn(`AG Grid: duplicate node id '${s.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[s.id]=s,this.nextId++,s}setMasterForRow(t,i,n,s){if(this.gridOptionsService.get("treeData"))t.setMaster(!1),s&&(t.expanded=!1);else{if(this.gridOptionsService.get("masterDetail")){const a=this.gridOptionsService.get("isRowMaster");t.setMaster(!a||a(i))}else t.setMaster(!1);if(s){const a=this.columnModel.getRowGroupColumns();t.expanded=!!t.master&&this.isExpanded(n+(a?a.length:0))}}}isExpanded(t){const i=this.gridOptionsService.get("groupDefaultExpanded");return-1===i||t<i}};PS.TOP_LEVEL=0,PS.ROOT_NODE_ID="ROOT_NODE_ID";var bte=PS,gi=class extends A{constructor(){super(...arguments),this.onRowHeightChanged_debounced=fe.debounce(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}init(){const e=this.refreshModel.bind(this,{step:"group"}),t=!this.gridOptionsService.get("suppressAnimationFrame"),i=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:t});this.addManagedListener(this.eventService,f.EVENT_NEW_COLUMNS_LOADED,i),this.addManagedListener(this.eventService,f.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,f.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,f.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:"pivot"})),this.addManagedListener(this.eventService,f.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,f.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,f.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.addManagedListener(this.eventService,f.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this)),this.addManagedListener(this.eventService,f.EVENT_GRID_READY,()=>this.onGridReady()),this.addPropertyListeners(),this.rootNode=new me(this.beans),this.nodeManager=new bte(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans)}addPropertyListeners(){const e=new Set(["treeData","masterDetail"]),t=new Set(["suppressParentsInRowNodes","groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),i=new Set(["excludeChildrenWhenTreeDataFiltering"]),n=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),s=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly"]),r=new Set(["postSortRows","groupDisplayType","accentedSort"]),o=new Set([]),a=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter"]),l=[...e,...t,...i,...n,...n,...s,...r,...o,...a];this.addManagedPropertyListeners(l,d=>{var c;const u=null==(c=d.changeSet)?void 0:c.properties;if(!u)return;const p=m=>u.some(v=>m.has(v));p(e)?this.setRowData(this.rootNode.allLeafChildren.map(m=>m.data)):p(t)?this.refreshModel({step:"group"}):p(i)?this.refreshModel({step:"filter"}):p(n)?this.refreshModel({step:"pivot"}):p(s)?this.refreshModel({step:"aggregate"}):p(r)?this.refreshModel({step:"sort"}):p(o)?this.refreshModel({step:"filter_aggregates"}):p(a)&&this.refreshModel({step:"map"})}),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){const e=this.gridOptionsService.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))}ensureRowHeightsValid(e,t,i,n){let s,r=!1;do{s=!1;const o=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(o,i),d=Math.min(a,n);for(let c=l;c<=d;c++){const u=this.getRow(c);if(u.rowHeightEstimated){const p=this.gridOptionsService.getRowHeightForNode(u);u.setRowHeight(p.height),s=!0,r=!0}}s&&this.setRowTopAndRowIndex()}while(s);return r}setRowTopAndRowIndex(){const e=this.environment.getDefaultRowHeight();let t=0;const i=new Set,n=this.gridOptionsService.isDomLayout("normal");for(let s=0;s<this.rowsToDisplay.length;s++){const r=this.rowsToDisplay[s];if(null!=r.id&&i.add(r.id),null==r.rowHeight){const o=this.gridOptionsService.getRowHeightForNode(r,n,e);r.setRowHeight(o.height,o.estimated)}r.setRowTop(t),r.setRowIndex(s),t+=r.rowHeight}return i}clearRowTopAndRowIndex(e,t){const i=e.isActive(),n=r=>{r&&null!=r.id&&!t.has(r.id)&&r.clearRowTopAndRowIndex()},s=r=>{n(r),n(r.detailNode),n(r.sibling),r.hasChildren()&&r.childrenAfterGroup&&(i&&-1!=r.level&&!r.expanded||r.childrenAfterGroup.forEach(s))};s(this.rootNode)}ensureRowsAtPixel(e,t,i=0){const n=this.getRowIndexAtPixel(t),s=this.getRow(n),r=!this.gridOptionsService.get("suppressAnimationFrame");return s!==e[0]&&(e.forEach(o=>{fe.removeFromArray(this.rootNode.allLeafChildren,o)}),e.forEach((o,a)=>{fe.insertIntoArray(this.rootNode.allLeafChildren,o,Math.max(n+i,0)+a)}),this.refreshModel({step:"group",keepRenderedRows:!0,keepEditingRows:!0,animate:r}),!0)}highlightRowAtPixel(e,t){const i=null!=t?this.getRowIndexAtPixel(t):null,n=null!=i?this.getRow(i):null;if(!n||!e||n===e||null==t)return void(this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null));const s=this.getHighlightPosition(t,n);this.lastHighlightedRow&&this.lastHighlightedRow!==n&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),n.setHighlighted(s),this.lastHighlightedRow=n}getHighlightPosition(e,t){if(!t){const s=this.getRowIndexAtPixel(e);if(!(t=this.getRow(s||0)))return 1}const{rowTop:i,rowHeight:n}=t;return e-i<n/2?0:1}getLastHighlightedRowNode(){return this.lastHighlightedRow}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const t=this.rootNode.childrenAfterAggFilter;return t?t.length:0}getTopLevelRowDisplayedIndex(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;let i=this.rootNode.childrenAfterSort[e];if(this.gridOptionsService.get("groupHideOpenParents"))for(;i.expanded&&i.childrenAfterSort&&i.childrenAfterSort.length>0;)i=i.childrenAfterSort[0];return i.rowIndex}getRowBounds(e){if(fe.missing(this.rowsToDisplay))return null;const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=this.gridOptionsService.isAnimateRows();this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=this.gridOptionsService.isAnimateRows(),n=0===e.columns.length||e.columns.some(s=>s.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:n,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=this.gridOptionsService.isAnimateRows();this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:"pivot"}):this.refreshModel({step:"aggregate"})}createChangePath(e){const t=fe.missingOrEmpty(e),i=new dg(!1,this.rootNode);return(t||this.gridOptionsService.get("treeData"))&&i.setInactive(),i}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gridOptionsService.get("suppressModelUpdateAfterUpdateTransaction")||null==e.rowNodeTransactions)return!1;const t=e.rowNodeTransactions.filter(n=>null!=n.add&&n.add.length>0||null!=n.remove&&n.remove.length>0);return null==t||0==t.length}buildRefreshModelParams(e){let t="group";const i={everything:"group",group:"group",filter:"filter",map:"map",aggregate:"aggregate",sort:"sort",pivot:"pivot"};if(fe.exists(e)&&(t=i[e]),!fe.missing(t))return{step:t,keepRenderedRows:!0,keepEditingRows:!0,animate:!this.gridOptionsService.get("suppressAnimationFrame")};console.error(`AG Grid: invalid step ${e}, available steps are ${Object.keys(i).join(", ")}`)}refreshModel(e){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.shouldRowModelIgnoreRefresh())return;let t="object"==typeof e&&"step"in e?e:this.buildRefreshModelParams(e);if(!t||this.isSuppressModelUpdateAfterUpdateTransaction(t))return;const i=this.createChangePath(t.rowNodeTransactions);switch(this.isRefreshingModel=!0,t.step){case"group":this.doRowGrouping(t.rowNodeTransactions,t.rowNodeOrder,i,!!t.afterColumnsChanged);case"filter":this.doFilter(i);case"pivot":this.doPivot(i);case"aggregate":this.doAggregate(i);case"filter_aggregates":this.doFilterAggregates(i);case"sort":this.doSort(t.rowNodeTransactions,i);case"map":this.doRowsToDisplay()}const n=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(i,n),this.isRefreshingModel=!1,this.eventService.dispatchEvent({type:f.EVENT_MODEL_UPDATED,animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1,keepUndoRedoStack:t.keepUndoRedoStack})}isEmpty(){const e=fe.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return fe.missing(this.rootNode)||e||!this.columnModel.isReady()}isRowsToRender(){return fe.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let i=!t,n=!1;const s=[],r=this.gridOptionsService.get("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(o=>{if(!n)if(i&&(o===t||o===e)&&(n=!0,o.group&&r))s.push(...o.allLeafChildren);else{if(!i){if(o!==t&&o!==e)return;i=!0}o.group&&r||s.push(o)}}),s}setDatasource(e){console.error("AG Grid: should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){if(this.isEmpty()||0===this.rowsToDisplay.length)return-1;let t=0,i=this.rowsToDisplay.length-1;if(e<=0)return 0;if(fe.last(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;let s=-1,r=-1;for(;;){const o=Math.floor((t+i)/2),a=this.rowsToDisplay[o];if(this.isRowInPixel(a,e)||(a.rowTop<e?t=o+1:a.rowTop>e&&(i=o-1),s===t&&r===i))return o;s=t,r=i}}isRowInPixel(e,t){return e.rowTop<=t&&e.rowTop+e.rowHeight>t}forEachLeafNode(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((t,i)=>e(t,i))}forEachNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:e,recursionType:0,index:0,includeFooterNodes:t})}forEachNodeAfterFilter(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:e,recursionType:1,index:0,includeFooterNodes:t})}forEachNodeAfterFilterAndSort(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:e,recursionType:2,index:0,includeFooterNodes:t})}forEachPivotNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:3,index:0,includeFooterNodes:t})}recursivelyWalkNodesAndCallback(e){var t;const{nodes:i,callback:n,recursionType:s,includeFooterNodes:r}=e;let{index:o}=e;for(let d=0;d<i.length;d++){const c=i[d];if(n(c,o++),c.hasChildren()&&!c.footer){let u=null;switch(s){case 0:u=c.childrenAfterGroup;break;case 1:u=c.childrenAfterAggFilter;break;case 2:u=c.childrenAfterSort;break;case 3:u=c.leafGroup?null:c.childrenAfterSort}u&&(o=this.recursivelyWalkNodesAndCallback({nodes:[...u],callback:n,recursionType:s,index:o,includeFooterNodes:r}))}}const a=null==(t=i[0])?void 0:t.parent;if(!r||!a)return o;if(a===this.rootNode){if(!this.gridOptionsService.get("groupIncludeTotalFooter"))return o}else if(!this.gridOptionsService.getGroupIncludeFooter()({node:a}))return o;return a.createFooter(),n(a.sibling,o++),o}doAggregate(e){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:e})}doFilterAggregates(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(e){const t=this.gridOptionsService.get("treeData"),i=this.columnModel.isPivotActive(),n=o=>{o&&o.forEach(a=>{const l=()=>{a.expanded=e,n(a.childrenAfterGroup)};t?fe.exists(a.childrenAfterGroup)&&l():i?!a.leafGroup&&l():a.group&&l()})};this.rootNode&&n(this.rootNode.childrenAfterGroup),this.refreshModel({step:"map"}),this.eventService.dispatchEvent({type:f.EVENT_EXPAND_COLLAPSE_ALL,source:e?"expandAll":"collapseAll"})}doSort(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})}doRowGrouping(e,t,i,n){this.groupStage?(this.groupStage.execute(e?{rowNode:this.rootNode,rowNodeTransactions:e,rowNodeOrder:t,changedPath:i}:{rowNode:this.rootNode,changedPath:i,afterColumnsChanged:n}),this.gridOptionsService.get("groupSelectsChildren")&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",i)&&this.eventService.dispatchEvent({type:f.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"})):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren()),this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:f.EVENT_ROW_COUNT_READY}))}doFilter(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})}doPivot(e){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:e})}getCopyOfNodesMap(){return this.nodeManager.getCopyOfNodesMap()}getRowNode(e){if("string"==typeof e&&0==e.indexOf(me.ID_PREFIX_ROW_GROUP)){let i;return this.forEachNode(n=>{n.id===e&&(i=n)}),i}return this.nodeManager.getRowNode(e)}setRowData(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){this.eventService.dispatchEvent({type:f.EVENT_ROW_DATA_UPDATED}),this.refreshModel({step:"group",newData:!0})}batchUpdateRowData(e,t){if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];const i=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.executeBatchUpdateRowData()},i)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache.onDataChanged();const e=[],t=[];let i=!1;this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(n=>{const s=this.nodeManager.updateRowData(n.rowDataTransaction,void 0);t.push(s),n.callback&&e.push(n.callback.bind(null,s)),"number"==typeof n.rowDataTransaction.addIndex&&(i=!0)}),this.commonUpdateRowData(t,void 0,i),e.length>0&&window.setTimeout(()=>{e.forEach(n=>n())},0),t.length>0&&this.eventService.dispatchEvent({type:f.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e,t){this.valueCache.onDataChanged();const i=this.nodeManager.updateRowData(e,t);return this.commonUpdateRowData([i],t,"number"==typeof e.addIndex),i}createRowNodeOrder(){if(this.gridOptionsService.get("suppressMaintainUnsortedOrder"))return;const t={};if(this.rootNode&&this.rootNode.allLeafChildren)for(let i=0;i<this.rootNode.allLeafChildren.length;i++)t[this.rootNode.allLeafChildren[i].id]=i;return t}commonUpdateRowData(e,t,i){if(!this.hasStarted)return;const n=!this.gridOptionsService.get("suppressAnimationFrame");i&&(t=this.createRowNodeOrder()),this.eventService.dispatchEvent({type:f.EVENT_ROW_DATA_UPDATED}),this.refreshModel({step:"group",rowNodeTransactions:e,rowNodeOrder:t,keepRenderedRows:!0,keepEditingRows:!0,animate:n})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const i=t.detailNode;i&&i.setRowHeight(i.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}};h([g("columnModel")],gi.prototype,"columnModel",2),h([g("selectionService")],gi.prototype,"selectionService",2),h([g("filterManager")],gi.prototype,"filterManager",2),h([g("valueCache")],gi.prototype,"valueCache",2),h([g("beans")],gi.prototype,"beans",2),h([g("filterStage")],gi.prototype,"filterStage",2),h([g("sortStage")],gi.prototype,"sortStage",2),h([g("flattenStage")],gi.prototype,"flattenStage",2),h([De("groupStage")],gi.prototype,"groupStage",2),h([De("aggregationStage")],gi.prototype,"aggregationStage",2),h([De("pivotStage")],gi.prototype,"pivotStage",2),h([De("filterAggregatesStage")],gi.prototype,"filterAggregatesStage",2),h([I],gi.prototype,"init",1),gi=h([V("rowModel")],gi);var bg=class extends A{execute(e){const{changedPath:t}=e;this.filterService.filter(t)}};h([g("filterService")],bg.prototype,"filterService",2),bg=h([V("filterStage")],bg);var rh=class extends A{execute(e){const t=this.sortController.getSortOptions(),i=fe.exists(t)&&t.length>0,n=i&&fe.exists(e.rowNodeTransactions)&&this.gridOptionsService.get("deltaSort"),s=t.some(r=>this.gridOptionsService.isColumnsSortingCoupledToGroup()?r.column.isPrimary()&&r.column.isRowGroupActive():!!r.column.getColDef().showRowGroup);this.sortService.sort(t,i,n,e.rowNodeTransactions,e.changedPath,s)}};h([g("sortService")],rh.prototype,"sortService",2),h([g("sortController")],rh.prototype,"sortController",2),rh=h([V("sortStage")],rh);var oh=class extends A{execute(e){const t=e.rowNode,i=[],n=this.columnModel.isPivotMode(),s=n&&t.leafGroup,r=s?[t]:t.childrenAfterSort,o=this.getFlattenDetails();return this.recursivelyAddToRowsToDisplay(o,r,i,n,0),!s&&i.length>0&&o.groupIncludeTotalFooter&&(t.createFooter(),this.addRowNodeToRowsToDisplay(o,t.sibling,i,0)),i}getFlattenDetails(){const e=this.gridOptionsService.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!e&&this.gridOptionsService.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:e,isGroupMultiAutoColumn:this.gridOptionsService.isGroupMultiAutoColumn(),hideOpenParents:this.gridOptionsService.get("groupHideOpenParents"),groupIncludeTotalFooter:this.gridOptionsService.get("groupIncludeTotalFooter"),getGroupIncludeFooter:this.gridOptionsService.getGroupIncludeFooter()}}recursivelyAddToRowsToDisplay(e,t,i,n,s){if(!fe.missingOrEmpty(t))for(let r=0;r<t.length;r++){const o=t[r],a=o.hasChildren(),d=e.groupRemoveSingleChildren&&a&&1===o.childrenAfterGroup.length,c=e.groupRemoveLowestSingleChildren&&a&&o.leafGroup&&1===o.childrenAfterGroup.length;if(!(n&&!a)&&!(e.hideOpenParents&&o.expanded&&!o.master&&(!n||!o.leafGroup))&&!d&&!c&&this.addRowNodeToRowsToDisplay(e,o,i,s),!n||!o.leafGroup)if(a){const v=d||c;if(o.expanded||v){const C=v?s:s+1;this.recursivelyAddToRowsToDisplay(e,o.childrenAfterSort,i,n,C),e.getGroupIncludeFooter({node:o})?(o.createFooter(),this.addRowNodeToRowsToDisplay(e,o.sibling,i,C)):o.destroyFooter()}}else if(o.master&&o.expanded){const v=this.createDetailNode(o);this.addRowNodeToRowsToDisplay(e,v,i,s)}}}addRowNodeToRowsToDisplay(e,t,i,n){i.push(t),t.setUiLevel(e.isGroupMultiAutoColumn?0:n)}createDetailNode(e){if(fe.exists(e.detailNode))return e.detailNode;const t=new me(this.beans);return t.detail=!0,t.selectable=!1,t.parent=e,fe.exists(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t}};h([g("columnModel")],oh.prototype,"columnModel",2),h([g("beans")],oh.prototype,"beans",2),oh=h([V("flattenStage")],oh);var ah=class extends A{sort(e,t,i,n,s,r){const o=this.gridOptionsService.get("groupMaintainOrder"),a=this.columnModel.getAllGridColumns().some(p=>p.isRowGroupActive());let l={};i&&n&&(l=this.calculateDirtyNodes(n));const d=this.columnModel.isPivotMode(),c=this.gridOptionsService.getCallback("postSortRows");s&&s.forEachChangedNodeDepthFirst(p=>{var m;this.pullDownGroupDataForHideOpenParents(p.childrenAfterAggFilter,!0);const v=d&&p.leafGroup;if(o&&a&&!p.leafGroup&&!r){const b=null==(m=this.columnModel.getRowGroupColumns())?void 0:m[p.level+1],y=null===b?.getSort(),w=p.childrenAfterAggFilter.slice(0);if(p.childrenAfterSort&&!y){const E={};p.childrenAfterSort.forEach((D,M)=>{E[D.id]=M}),w.sort((D,M)=>{var L,k;return(null!=(L=E[D.id])?L:0)-(null!=(k=E[M.id])?k:0)})}p.childrenAfterSort=w}else p.childrenAfterSort=!t||v?p.childrenAfterAggFilter.slice(0):i?this.doDeltaSort(p,l,s,e):this.rowNodeSorter.doFullSort(p.childrenAfterAggFilter,e);p.sibling&&(p.sibling.childrenAfterSort=p.childrenAfterSort),this.updateChildIndexes(p),c&&c({nodes:p.childrenAfterSort})}),this.updateGroupDataForHideOpenParents(s)}calculateDirtyNodes(e){const t={},i=n=>{n&&n.forEach(s=>t[s.id]=!0)};return e&&e.forEach(n=>{i(n.add),i(n.update),i(n.remove)}),t}doDeltaSort(e,t,i,n){const s=e.childrenAfterAggFilter,r=e.childrenAfterSort;if(!r)return this.rowNodeSorter.doFullSort(s,n);const o={},a=[];s.forEach(u=>{t[u.id]||!i.canSkip(u)?a.push(u):o[u.id]=!0});const l=r.filter(u=>o[u.id]),d=(u,p)=>({currentPos:p,rowNode:u}),c=a.map(d).sort((u,p)=>this.rowNodeSorter.compareRowNodes(n,u,p));return this.mergeSortedArrays(n,c,l.map(d)).map(({rowNode:u})=>u)}mergeSortedArrays(e,t,i){const n=[];let s=0,r=0;for(;s<t.length&&r<i.length;)this.rowNodeSorter.compareRowNodes(e,t[s],i[r])<0?n.push(t[s++]):n.push(i[r++]);for(;s<t.length;)n.push(t[s++]);for(;r<i.length;)n.push(i[r++]);return n}updateChildIndexes(e){if(fe.missing(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let i=0;i<t.length;i++){const n=t[i],r=i===e.childrenAfterSort.length-1;n.setFirstChild(0===i),n.setLastChild(r),n.setChildIndex(i)}}updateGroupDataForHideOpenParents(e){if(!this.gridOptionsService.get("groupHideOpenParents"))return;if(this.gridOptionsService.get("treeData"))return fe.warnOnce("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;const t=i=>{this.pullDownGroupDataForHideOpenParents(i.childrenAfterSort,!1),i.childrenAfterSort.forEach(n=>{n.hasChildren()&&t(n)})};e&&e.executeFromRootNode(i=>t(i))}pullDownGroupDataForHideOpenParents(e,t){!this.gridOptionsService.get("groupHideOpenParents")||fe.missing(e)||e.forEach(i=>{this.columnModel.getGroupDisplayColumns().forEach(s=>{const r=s.getColDef().showRowGroup;if("string"!=typeof r)return void console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");const a=this.columnModel.getPrimaryColumn(r);if(a!==i.rowGroupColumn)if(t)i.setGroupValue(s.getId(),void 0);else{const d=i.getFirstChildOfFirstChild(a);d&&i.setGroupValue(s.getId(),d.key)}})})}};h([g("columnModel")],ah.prototype,"columnModel",2),h([g("rowNodeSorter")],ah.prototype,"rowNodeSorter",2),ah=h([V("sortService")],ah);var wg=class extends A{filter(e){const t=this.filterManager.isChildFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){const i=(n,s)=>{n.childrenAfterFilter=n.hasChildren()&&e&&!s?n.childrenAfterGroup.filter(r=>{const o=r.childrenAfterFilter&&r.childrenAfterFilter.length>0,a=r.data&&this.filterManager.doesRowPassFilter({rowNode:r});return o||a}):n.childrenAfterGroup,n.sibling&&(n.sibling.childrenAfterFilter=n.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const n=(r,o)=>{if(r.childrenAfterGroup)for(let a=0;a<r.childrenAfterGroup.length;a++){const l=r.childrenAfterGroup[a],d=o||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?n(r.childrenAfterGroup[a],d):i(l,d)}i(r,o)};t.executeFromRootNode(r=>n(r,!1))}else t.forEachChangedNodeDepthFirst(s=>i(s,!1),!0)}doingTreeDataFiltering(){return this.gridOptionsService.get("treeData")&&!this.gridOptionsService.get("excludeChildrenWhenTreeDataFiltering")}};h([g("filterManager")],wg.prototype,"filterManager",2),wg=h([V("filterService")],wg);var ua=class extends A{postConstruct(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",()=>this.onRowDataUpdated()))}isActive(){const e=this.gridOptionsService.exists("getRowId");return!this.gridOptionsService.get("resetRowDataOnUpdate")&&e}setRowData(e){const t=this.createTransactionForRowData(e);if(!t)return;const[i,n]=t;this.clientSideRowModel.updateRowData(i,n)}createTransactionForRowData(e){if(fe.missing(this.clientSideRowModel))return void console.error("AG Grid: ImmutableService only works with ClientSideRowModel");const t=this.gridOptionsService.getCallback("getRowId");if(null==t)return void console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");const i={remove:[],update:[],add:[]},n=this.clientSideRowModel.getCopyOfNodesMap(),r=this.gridOptionsService.get("suppressMaintainUnsortedOrder")?void 0:{};return fe.exists(e)&&e.forEach((o,a)=>{const l=t({data:o,level:0}),d=n[l];r&&(r[l]=a),d?(d.data!==o&&i.update.push(o),n[l]=void 0):i.add.push(o)}),fe.iterateObject(n,(o,a)=>{a&&i.remove.push(a.data)}),[i,r]}onRowDataUpdated(){const e=this.gridOptionsService.get("rowData");e&&(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))}};h([g("rowModel")],ua.prototype,"rowModel",2),h([g("rowRenderer")],ua.prototype,"rowRenderer",2),h([g("selectionService")],ua.prototype,"selectionService",2),h([I],ua.prototype,"postConstruct",1);var yte={version:"31.2.0",moduleName:"@ag-grid-community/client-side-row-model",rowModel:"clientSide",beans:[gi,bg,rh,oh,ah,wg,ua=h([V("immutableService")],ua)]},_te=Object.defineProperty,Ste=Object.getOwnPropertyDescriptor,Ni=(e,t,i,n)=>{for(var o,s=n>1?void 0:n?Ste(t,i):t,r=e.length-1;r>=0;r--)(o=e[r])&&(s=(n?o(t,i,s):o(s))||s);return n&&s&&_te(t,i,s),s},lh=class extends vS{constructor(e,t,i){super(e),this.parentCache=t,this.params=i,this.startRow=e*i.blockSize,this.endRow=this.startRow+i.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(e,t,i){fe.exists(t)?e.setDataAndId(t,i.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();fe.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsService.getGridCommonParams().context}}forEachNode(e,t,i){this.rowNodes.forEach((n,s)=>{this.startRow+s<i&&e(n,t.next())})}getLastAccessed(){return this.lastAccessed}getRow(e,t=!1){return t||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[e-this.startRow]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let e=0;e<this.params.blockSize;e++){const t=this.startRow+e,i=new me(this.beans);i.setRowHeight(this.params.rowHeight),i.uiLevel=0,i.setRowIndex(t),i.setRowTop(this.params.rowHeight*t),this.rowNodes.push(i)}}processServerResult(e){this.rowNodes.forEach((i,n)=>{const s=e.rowData?e.rowData[n]:void 0;!i.id&&i.alreadyRendered&&s&&(this.rowNodes[n]=new me(this.beans),this.rowNodes[n].setRowIndex(i.rowIndex),this.rowNodes[n].setRowTop(i.rowTop),this.rowNodes[n].setRowHeight(i.rowHeight),i.clearRowTopAndRowIndex()),this.setDataAndId(this.rowNodes[n],s,this.startRow+n)}),this.parentCache.pageLoaded(this,null!=e.rowCount&&e.rowCount>=0?e.rowCount:void 0)}destroyRowNodes(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()})}};Ni([g("beans")],lh.prototype,"beans",2),Ni([I],lh.prototype,"postConstruct",1),Ni([Fi],lh.prototype,"destroyRowNodes",1);var t,fd=class gV extends A{constructor(t){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=t.initialRowCount,this.params=t}setBeans(t){this.logger=t.create("InfiniteCache")}getRow(t,i=!1){const n=Math.floor(t/this.params.blockSize);let s=this.blocks[n];if(!s){if(i)return;s=this.createBlock(n)}return s.getRow(t)}createBlock(t){const i=this.createBean(new lh(t,this,this.params));return this.blocks[i.getId()]=i,this.blockCount++,this.purgeBlocksIfNeeded(i),this.params.rowNodeBlockLoader.addBlock(i),i}refreshCache(){0!=this.blockCount?(this.getBlocksInOrder().forEach(i=>i.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()):this.purgeCache()}destroyAllBlocks(){this.getBlocksInOrder().forEach(t=>this.destroyBlock(t))}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(t,i){this.isAlive()&&(this.logger.log(`onPageLoaded: page = ${t.getId()}, lastRow = ${i}`),this.checkRowCount(t,i),this.onCacheUpdated())}purgeBlocksIfNeeded(t){const i=this.getBlocksInOrder().filter(a=>a!=t);i.sort((a,l)=>l.getLastAccessed()-a.getLastAccessed());const s=this.params.maxBlocksInCache>0,r=s?this.params.maxBlocksInCache-1:null,o=gV.MAX_EMPTY_BLOCKS_TO_KEEP-1;i.forEach((a,l)=>{if(a.getState()===lh.STATE_WAITING_TO_LOAD&&l>=o||s&&l>=r){if(this.isBlockCurrentlyDisplayed(a)||this.isBlockFocused(a))return;this.removeBlockFromCache(a)}})}isBlockFocused(t){const i=this.focusService.getFocusCellToUseAfterRefresh();if(!i||null!=i.rowPinned)return!1;const n=t.getStartRow(),s=t.getEndRow();return i.rowIndex>=n&&i.rowIndex<s}isBlockCurrentlyDisplayed(t){const i=t.getStartRow(),n=t.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(i,n)}removeBlockFromCache(t){t&&this.destroyBlock(t)}checkRowCount(t,i){if("number"==typeof i&&i>=0)this.rowCount=i,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const s=(t.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<s&&(this.rowCount=s)}}setRowCount(t,i){this.rowCount=t,fe.exists(i)&&(this.lastRowIndexKnown=i),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(t){const i=new Wl;this.getBlocksInOrder().forEach(n=>n.forEachNode(t,i,this.rowCount))}getBlocksInOrder(){return fe.getAllValuesInObject(this.blocks).sort((n,s)=>n.getId()-s.getId())}destroyBlock(t){delete this.blocks[t.getId()],this.destroyBean(t),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(t)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:f.EVENT_STORE_UPDATED}))}destroyAllBlocksPastVirtualRowCount(){const t=[];this.getBlocksInOrder().forEach(i=>{i.getId()*this.params.blockSize>=this.rowCount&&t.push(i)}),t.length>0&&t.forEach(i=>this.destroyBlock(i))}purgeCache(){this.getBlocksInOrder().forEach(t=>this.removeBlockFromCache(t)),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(t,i){const n=[];let s=-1,r=!1;const o=new Wl;fe.missing(t)&&(r=!0);let a=!1;return this.getBlocksInOrder().forEach(d=>{if(!a){if(r&&s+1!==d.getId())return void(a=!0);s=d.getId(),d.forEachNode(c=>{const u=c===t||c===i;(r||u)&&n.push(c),u&&(r=!r)},o,this.rowCount)}}),a||r?[]:n}};fd.MAX_EMPTY_BLOCKS_TO_KEEP=2,Ni([g("rowRenderer")],fd.prototype,"rowRenderer",2),Ni([g("focusService")],fd.prototype,"focusService",2),Ni([(0,t=Tn("loggerFactory"),(i,n)=>t(i,n,0))],fd.prototype,"setBeans",1),Ni([Fi],fd.prototype,"destroyAllBlocks",1);var Dte=fd,Is=class extends A{getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(e,t,i,n){return!1}init(){this.gridOptionsService.isRowModelType("infinite")&&(this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()),this.verifyProps())}verifyProps(){this.gridOptionsService.exists("initialGroupOrderComparator")&&fe.warnOnce("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")}start(){this.setDatasource(this.gridOptionsService.get("datasource"))}destroyDatasource(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedListener(this.eventService,f.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,f.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,f.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,f.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this)),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gridOptionsService.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let e;e=!this.cacheParams||this.isSortModelDifferent(),e&&this.reset()}isSortModelDifferent(){return!fe.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,t):[]}reset(){this.datasource&&(null!=this.gridOptionsService.getCallback("getRowId")||this.selectionService.reset("rowDataChanged"),this.resetCache())}createModelUpdatedEvent(){return{type:f.EVENT_MODEL_UPDATED,newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1}}resetCache(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gridOptionsService.get("infiniteInitialRowCount"),maxBlocksInCache:this.gridOptionsService.get("maxBlocksInCache"),rowHeight:this.gridOptionsService.getRowHeightAsNumber(),overflowSize:this.gridOptionsService.get("cacheOverflowSize"),blockSize:this.gridOptionsService.get("cacheBlockSize"),lastAccessedSequence:new Wl},this.infiniteCache=this.createBean(new Dte(this.cacheParams)),this.eventService.dispatchEventOnce({type:f.EVENT_ROW_COUNT_READY});const e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)}updateRowHeights(){this.forEachNode(t=>{t.setRowHeight(this.rowHeight),t.setRowTop(this.rowHeight*t.rowIndex)});const e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){const e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)}getRow(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)}getRowNode(e){let t;return this.forEachNode(i=>{i.id===e&&(t=i)}),t}forEachNode(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(0!==this.rowHeight){const t=Math.floor(e/this.rowHeight),i=this.getRowCount()-1;return t>i?i:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()}setRowCount(e,t){this.infiniteCache&&this.infiniteCache.setRowCount(e,t)}};Ni([g("filterManager")],Is.prototype,"filterManager",2),Ni([g("sortController")],Is.prototype,"sortController",2),Ni([g("selectionService")],Is.prototype,"selectionService",2),Ni([g("rowRenderer")],Is.prototype,"rowRenderer",2),Ni([g("rowNodeBlockLoader")],Is.prototype,"rowNodeBlockLoader",2),Ni([I],Is.prototype,"init",1),Ni([Fi],Is.prototype,"destroyDatasource",1);var Rte={version:"31.2.0",moduleName:"@ag-grid-community/infinite-row-model",rowModel:"infinite",beans:[Is=Ni([V("rowModel")],Is)]},jk=Object.defineProperty,Tte=Object.defineProperties,Ate=Object.getOwnPropertyDescriptor,Mte=Object.getOwnPropertyDescriptors,$k=Object.getOwnPropertySymbols,Ite=Object.prototype.hasOwnProperty,Fte=Object.prototype.propertyIsEnumerable,qk=(e,t,i)=>t in e?jk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,Kk=(e,t)=>{for(var i in t||(t={}))Ite.call(t,i)&&qk(e,i,t[i]);if($k)for(var i of $k(t))Fte.call(t,i)&&qk(e,i,t[i]);return e},Yk=(e,t)=>Tte(e,Mte(t)),vi=(e,t,i,n)=>{for(var o,s=n>1?void 0:n?Ate(t,i):t,r=e.length-1;r>=0;r--)(o=e[r])&&(s=(n?o(t,i,s):o(s))||s);return n&&s&&jk(t,i,s),s},dh=(e,t,i)=>new Promise((n,s)=>{var r=l=>{try{a(i.next(l))}catch(d){s(d)}},o=l=>{try{a(i.throw(l))}catch(d){s(d)}},a=l=>l.done?n(l.value):Promise.resolve(l.value).then(r,o);a((i=i.apply(e,t)).next())}),Ote=class{setBeans(e){this.beans=e}getFileName(e){const t=this.getDefaultFileExtension();return(null==e||!e.length)&&(e=this.getDefaultFileName()),-1===e.indexOf(".")?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},Pte=class{constructor(e){this.groupColumns=[];const{columnModel:t,valueService:i,gridOptionsService:n,valueFormatterService:s,valueParserService:r,processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:d}=e;this.columnModel=t,this.valueService=i,this.gridOptionsService=n,this.valueFormatterService=s,this.valueParserService=r,this.processCellCallback=o,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=d}prepare(e){this.groupColumns=e.filter(t=>!!t.getColDef().showRowGroup)}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,i,n,s){const o=this.gridOptionsService.get("groupHideOpenParents")&&!s.footer||!this.shouldRenderGroupSummaryCell(s,e,t)?this.valueService.getValue(e,s):this.createValueForGroupNode(e,s);return this.processCell({accumulatedRowIndex:i,rowNode:s,column:e,value:o,processCellCallback:this.processCellCallback,type:n})}shouldRenderGroupSummaryCell(e,t,i){var n;if(!e||!e.group)return!1;if(-1!==this.groupColumns.indexOf(t)){if(null!=(null==(n=e.groupData)?void 0:n[t.getId()])||this.gridOptionsService.isRowModelType("serverSide")&&e.group)return!0;if(e.footer&&-1===e.level){const a=t.getColDef();return null==a||!0===a.showRowGroup||a.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}const o=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotMode());return 0===i&&o}getHeaderName(e,t){return e?e(this.gridOptionsService.addGridCommonParams({column:t})):this.columnModel.getDisplayNameForColumn(t,"csv",!0)}createValueForGroupNode(e,t){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gridOptionsService.addGridCommonParams({column:e,node:t}));const i=this.gridOptionsService.get("treeData"),n=this.gridOptionsService.get("suppressGroupMaintainValueType"),s=l=>{var d,c;if(i||n)return l.key;const u=null==(d=l.groupData)?void 0:d[e.getId()];return u&&l.rowGroupColumn&&!1!==l.rowGroupColumn.getColDef().useValueFormatterForExport&&null!=(c=this.valueFormatterService.formatValue(l.rowGroupColumn,l,u))?c:u},r=t.footer,o=[s(t)];if(!this.gridOptionsService.isGroupMultiAutoColumn())for(;t.parent;)o.push(s(t=t.parent));const a=o.reverse().join(" -> ");return r?`Total ${a}`:a}processCell(e){var t;const{accumulatedRowIndex:i,rowNode:n,column:s,value:r,processCellCallback:o,type:a}=e;return o?{value:null!=(t=o(this.gridOptionsService.addGridCommonParams({accumulatedRowIndex:i,column:s,node:n,value:r,type:a,parseValue:l=>this.valueParserService.parseValue(s,n,l,this.valueService.getValue(s,n)),formatValue:l=>{var d;return null!=(d=this.valueFormatterService.formatValue(s,n,l))?d:l}})))?t:""}:!1!==s.getColDef().useValueFormatterForExport?{value:r??"",valueFormatted:this.valueFormatterService.formatValue(s,n,r)}:{value:r??""}}},Lte=class{static download(e,t){const i=document.defaultView||window;if(!i)return void console.warn("AG Grid: There is no `window` associated with the current `document`");const n=document.createElement("a"),s=i.URL.createObjectURL(t);n.setAttribute("href",s),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:i})),document.body.removeChild(n),i.setTimeout(()=>{i.URL.revokeObjectURL(s)},0)}},Nte=class extends Pte{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:i}=e;this.suppressQuotes=t,this.columnSeparator=i}addCustomContent(e){e&&("string"==typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((i,n)=>{0!==n&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(i.data.value||""),i.mergeAcross&&this.appendEmptyCells(i.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,i,n){0!=i&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(n)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,i){var n;0!=t&&(this.result+=this.columnSeparator);const s=this.extractRowCellValue(e,t,t,"csv",i);this.result+=this.putInQuotes(null!=(n=s.valueFormatted)?n:s.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(null==e)return'""';let t;return"string"==typeof e?t=e:"function"==typeof e.toString?t=e.toString():(console.warn("AG Grid: unknown value type during csv conversion"),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1}},Fs=class extends Ote{postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})}getMergedParams(e){const t=this.gridOptionsService.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed())return void console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration.");const t=this.getMergedParams(e),i=this.getData(t),n=new Blob(["\ufeff",i],{type:"text/plain"}),s="function"==typeof t.fileName?t.fileName(this.gridOptionsService.getGridCommonParams()):t.fileName;Lte.download(this.getFileName(s),n)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const i=t?Object.assign({},e):this.getMergedParams(e);return this.getData(i)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{columnModel:t,valueService:i,gridOptionsService:n,valueFormatterService:s,valueParserService:r}=this,{processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:d,suppressQuotes:c,columnSeparator:u}=e;return new Nte({columnModel:t,valueService:i,gridOptionsService:n,valueFormatterService:s,valueParserService:r,processCellCallback:o||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:d||void 0,suppressQuotes:c||!1,columnSeparator:u||","})}isExportSuppressed(){return this.gridOptionsService.get("suppressCsvExport")}};vi([g("columnModel")],Fs.prototype,"columnModel",2),vi([g("valueService")],Fs.prototype,"valueService",2),vi([g("gridSerializer")],Fs.prototype,"gridSerializer",2),vi([g("gridOptionsService")],Fs.prototype,"gridOptionsService",2),vi([g("valueFormatterService")],Fs.prototype,"valueFormatterService",2),vi([g("valueParserService")],Fs.prototype,"valueParserService",2),vi([I],Fs.prototype,"postConstruct",1),Fs=vi([V("csvCreator")],Fs);var Os=class extends A{serialize(e,t={}){const{allColumns:i,columnKeys:n,skipRowGroups:s}=t,r=this.getColumnsToExport(i,s,n);return fe.compose(this.prepareSession(r),this.prependContent(t),this.exportColumnGroups(t,r),this.exportHeaders(t,r),this.processPinnedTopRows(t,r),this.processRows(t,r),this.processPinnedBottomRows(t,r),this.appendContent(t))(e).parse()}processRow(e,t,i,n){const s=t.shouldRowBeSkipped||(()=>!1),r=this.gridOptionsService.get("groupRemoveSingleChildren"),o=this.gridOptionsService.get("groupRemoveLowestSingleChildren"),l=null!=t.rowPositions||!!t.onlySelected,d=this.gridOptionsService.get("groupHideOpenParents")&&!l,c=this.columnModel.isPivotMode()?n.leafGroup:!n.group,u=!!n.footer;if(!c&&!u&&(t.skipRowGroups||1===n.allChildrenCount&&(r||o&&n.leafGroup)||d)||t.onlySelected&&!n.isSelected()||t.skipPinnedTop&&"top"===n.rowPinned||t.skipPinnedBottom&&"bottom"===n.rowPinned||-1===n.level&&!c&&!u||s(this.gridOptionsService.addGridCommonParams({node:n})))return;const y=e.onNewBodyRow(n);if(i.forEach((w,E)=>{y.onColumn(w,E,n)}),t.getCustomContentBelowRow){const w=t.getCustomContentBelowRow(this.gridOptionsService.addGridCommonParams({node:n}));w&&e.addCustomContent(w)}}appendContent(e){return t=>{const i=e.appendContent;return i&&t.addCustomContent(i),t}}prependContent(e){return t=>{const i=e.prependContent;return i&&t.addCustomContent(i),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return i=>{if(!e.skipColumnGroupHeaders){const n=new YL,s=this.displayedGroupCreator.createDisplayedGroups(t,n,null);this.recursivelyAddHeaderGroups(s,i,e.processGroupHeaderCallback)}return i}}exportHeaders(e,t){return i=>{if(!e.skipColumnHeaders){const n=i.onNewHeaderRow();t.forEach((s,r)=>{n.onColumn(s,r,void 0)})}return i}}processPinnedTopRows(e,t){return i=>{const n=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter(s=>"top"===s.rowPinned).sort((s,r)=>s.rowIndex-r.rowIndex).map(s=>this.pinnedRowModel.getPinnedTopRow(s.rowIndex)).forEach(n):this.pinnedRowModel.forEachPinnedTopRow(n),i}}processRows(e,t){return i=>{const n=this.rowModel,s=n.getType(),r="clientSide"===s,o="serverSide"===s,a=!r&&e.onlySelected,l=this.processRow.bind(this,i,e,t),{exportedRows:d="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter(c=>null==c.rowPinned).sort((c,u)=>c.rowIndex-u.rowIndex).map(c=>n.getRow(c.rowIndex)).forEach(l);else if(this.columnModel.isPivotMode())r?n.forEachPivotNode(l,!0):o?n.forEachNodeAfterFilterAndSort(l,!0):n.forEachNode(l);else if(e.onlySelectedAllPages||a){const c=this.selectionService.getSelectedNodes();this.replicateSortedOrder(c),c.forEach(l)}else"all"===d?n.forEachNode(l):r||o?n.forEachNodeAfterFilterAndSort(l,!0):n.forEachNode(l);return i}}replicateSortedOrder(e){const t=this.sortController.getSortOptions(),i=(n,s)=>{var r,o,a,l;return null!=n.rowIndex&&null!=s.rowIndex?n.rowIndex-s.rowIndex:n.level===s.level?(null==(r=n.parent)?void 0:r.id)===(null==(o=s.parent)?void 0:o.id)?this.rowNodeSorter.compareRowNodes(t,{rowNode:n,currentPos:null!=(a=n.rowIndex)?a:-1},{rowNode:s,currentPos:null!=(l=s.rowIndex)?l:-1}):i(n.parent,s.parent):n.level>s.level?i(n.parent,s):i(n,s.parent)};e.sort(i)}processPinnedBottomRows(e,t){return i=>{const n=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter(s=>"bottom"===s.rowPinned).sort((s,r)=>s.rowIndex-r.rowIndex).map(s=>this.pinnedRowModel.getPinnedBottomRow(s.rowIndex)).forEach(n):this.pinnedRowModel.forEachPinnedBottomRow(n),i}}getColumnsToExport(e=!1,t=!1,i){const n=this.columnModel.isPivotMode();if(i&&i.length)return this.columnModel.getGridColumns(i);const s=this.gridOptionsService.get("treeData");let r=[];return r=e&&!n?this.columnModel.getAllGridColumns():this.columnModel.getAllDisplayedColumns(),t&&!s&&(r=r.filter(o=>o.getColId()!==Vl)),r}recursivelyAddHeaderGroups(e,t,i){const n=[];e.forEach(s=>{s.getChildren&&s.getChildren().forEach(o=>n.push(o))}),e.length>0&&e[0]instanceof Lt&&this.doAddHeaderHeader(t,e,i),n&&n.length>0&&this.recursivelyAddHeaderGroups(n,t,i)}doAddHeaderHeader(e,t,i){const n=e.onNewHeaderGroupingRow();let s=0;t.forEach(r=>{const o=r;let a;a=i?i(this.gridOptionsService.addGridCommonParams({columnGroup:o})):this.columnModel.getDisplayNameForColumnGroup(o,"header");const l=o.getLeafColumns().reduce((d,c,u,p)=>{let m=fe.last(d);return"open"===c.getColumnGroupShow()?(!m||null!=m[1])&&(m=[u],d.push(m)):m&&null==m[1]&&(m[1]=u-1),u===p.length-1&&m&&null==m[1]&&(m[1]=u),d},[]);n.onColumn(o,a||"",s++,o.getLeafColumns().length-1,l)})}};vi([g("displayedGroupCreator")],Os.prototype,"displayedGroupCreator",2),vi([g("columnModel")],Os.prototype,"columnModel",2),vi([g("rowModel")],Os.prototype,"rowModel",2),vi([g("pinnedRowModel")],Os.prototype,"pinnedRowModel",2),vi([g("selectionService")],Os.prototype,"selectionService",2),vi([g("rowNodeSorter")],Os.prototype,"rowNodeSorter",2),vi([g("sortController")],Os.prototype,"sortController",2);var Gte={version:"31.2.0",moduleName:"@ag-grid-community/csv-export",beans:[Fs,Os=vi([V("gridSerializer")],Os)]};function Ci(e,t){let i="";for(let n=0;n<t;n++)i+=String.fromCharCode(255&e),e>>>=8;return i}var Xk=e=>e.length?(e=>{if(!e.length)return 0;let t=-1,i=0,n=0,s=0;for(let r=0;r<e.length;r++)i=e[r],n=255&(t^i),s=Ute[n],t=t>>>8^s;return-1^t})("string"==typeof e?(new TextEncoder).encode(e):e):0,Ute=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),{utf8_encode:jte}=fe,$te=(e,t)=>dh(void 0,null,function*(){const{content:i}=e,{size:n,content:s}=i?e1(i):{size:0,content:Uint8Array.from([])};let r,o,a=!1;if("file"===e.type&&s&&n>0){const c=yield(e=>dh(void 0,null,function*(){const t=new Blob([e]),{size:i,content:n}=yield(e=>dh(void 0,null,function*(){let t=0;const i=[],n=new WritableStream({write:o=>{i.push(o),t+=o.length}}),s=new ReadableStream({start:o=>{const a=new FileReader;a.onload=l=>{var d;null!=(d=l.target)&&d.result&&o.enqueue(l.target.result),o.close()},a.readAsArrayBuffer(e)}}),r=new window.CompressionStream("deflate-raw");return yield s.pipeThrough(r).pipeTo(n),{size:t,content:new Blob(i)}}))(t);return{size:i,content:new Uint8Array(yield n.arrayBuffer())}}))(s);r=c.content,o=c.size,a=!0}const d=Jk(e,a,t,n,s,o);return Yk(Kk({},d),{content:r||s,isCompressed:a})}),qte=(e,t)=>{const{content:i}=e,{content:n}=i?e1(i):{content:Uint8Array.from([])},s=Jk(e,!1,t,n.length,n,void 0);return Yk(Kk({},s),{content:n,isCompressed:!1})},Jk=(e,t,i,n,s,r)=>{const{content:o,path:a,created:l}=e,d=(e=>{let t=e.getHours();return t<<=6,t|=e.getMinutes(),t<<=5,t|=e.getSeconds()/2,t})(l),c=(e=>{let t=e.getFullYear()-1980;return t<<=4,t|=e.getMonth()+1,t<<=5,t|=e.getDate(),t})(l),u=Xk(s),p=void 0!==r?r:n,m=jte(a),v=m!==a;let C="";if(v){const E=Ci(1,1)+Ci(Xk(m),4)+m;C="up"+Ci(E.length,2)+E}const b="\x14\0"+(v?"\0\b":"\0\0")+Ci(t?8:0,2)+Ci(d,2)+Ci(c,2)+Ci(p?u:0,4)+Ci(r??n,4)+Ci(n,4)+Ci(m.length,2)+Ci(C.length,2),y="PK\x03\x04"+b+m+C,w="PK\x01\x02\x14\0"+b+"\0\0\0\0\0\0"+(o?"\0\0\0\0":"\x10\0\0\0")+Ci(i,4)+m+C;return{localFileHeader:Uint8Array.from(y,E=>E.charCodeAt(0)),centralDirectoryHeader:Uint8Array.from(w,E=>E.charCodeAt(0))}},e1=e=>{let t;return t="string"==typeof e?(e=>{const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t})(atob(e.split(";base64,")[1])):e,{size:t.length,content:t}},t1=class{static addFolders(e){e.forEach(this.addFolder.bind(this))}static addFolder(e){this.folders.push({path:e,created:new Date,isBase64:!1,type:"folder"})}static addFile(e,t,i=!1){this.files.push({path:e,created:new Date,content:i?t:(new TextEncoder).encode(t),isBase64:i,type:"file"})}static getZipFile(e="application/zip"){return dh(this,null,function*(){const t=yield this.buildCompressedFileStream();return this.clearStream(),new Blob([t],{type:e})})}static getUncompressedZipFile(e="application/zip"){const t=this.buildFileStream();return this.clearStream(),new Blob([t],{type:e})}static clearStream(){this.folders=[],this.files=[]}static packageFiles(e){let t=new Uint8Array(0),i=new Uint8Array(0),n=0,s=0;for(const a of e){const{localFileHeader:l,centralDirectoryHeader:d,content:c}=a,u=new Uint8Array(t.length+l.length);u.set(t),u.set(l,t.length),t=u;const p=new Uint8Array(t.length+c.length);p.set(t),p.set(c,t.length),t=p;const m=new Uint8Array(i.length+d.length);m.set(i),m.set(d,i.length),i=m,n+=l.length+c.length,s+=d.length}const r=((e,t,i)=>{const n="PK\x05\x06\0\0\0\0"+Ci(e,2)+Ci(e,2)+Ci(t,4)+Ci(i,4)+"\0\0";return Uint8Array.from(n,s=>s.charCodeAt(0))})(e.length,s,n),o=new Uint8Array(t.length+i.length+r.length);return o.set(t),o.set(i,t.length),o.set(r,t.length+i.length),o}static buildCompressedFileStream(){return dh(this,null,function*(){const e=[...this.folders,...this.files],t=[];let i=0;for(const n of e){const s=yield $te(n,i),{localFileHeader:r,content:o}=s;t.push(s),i+=r.length+o.length}return this.packageFiles(t)})}static buildFileStream(){const e=[...this.folders,...this.files],t=[];let i=0;for(const n of e){const s=qte(n,i),{localFileHeader:r,content:o}=s;t.push(s),i+=r.length+o.length}return this.packageFiles(t)}};t1.folders=[],t1.files=[],ke.__registerModules([yte,Rte,Gte],!1,void 0);let n1=(()=>{class e extends Nk{constructor(i){super("angular"),this._ngZone=i,this.isRunningWithinTestZone=!1,this.wrapIncoming=(n,s)=>this.runOutside(n,s),this.wrapOutgoing=n=>this.runInsideAngular(n),this.isRunningWithinTestZone=window?.AG_GRID_UNDER_TEST??!!window?.Zone?.AsyncTestZoneSpec,this.runOutside=this._ngZone?this.isRunningWithinTestZone?(n,s)=>"resize-observer"===s?this._ngZone.runOutsideAngular(n):n():n=>this._ngZone.runOutsideAngular(n):n=>n()}get shouldWrapOutgoing(){return this._ngZone&&q.isInAngularZone()}isFrameworkComponent(i){if(!i)return!1;const n=i.prototype;return n&&"agInit"in n}runInsideAngular(i){return this._ngZone?this._ngZone.run(i):i()}runOutsideAngular(i,n){return this.runOutside(i,n)}}return e.\u0275fac=function(i){return new(i||e)(P(q))},e.\u0275prov=H({token:e,factory:e.\u0275fac}),e})(),s1=(()=>{class e extends vte{setViewContainerRef(i,n){this.viewContainerRef=i,this.angularFrameworkOverrides=n}createWrapper(i,n){let s=this.angularFrameworkOverrides,r=this,a=new class o extends Qte{init(d){s.runInsideAngular(()=>{super.init(d),this._componentRef.changeDetectorRef.detectChanges()})}createComponent(){return s.runInsideAngular(()=>r.createComponent(i))}hasMethod(d){return null!=a.getFrameworkComponentInstance()[d]}callMethod(d,c){const u=this.getFrameworkComponentInstance();return s.runInsideAngular(()=>a.getFrameworkComponentInstance()[d].apply(u,c))}addMethod(d,c){a[d]=c}};return a}createComponent(i){return this.viewContainerRef.createComponent(i)}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=Ct(e)))(n||e)}}(),e.\u0275prov=H({token:e,factory:e.\u0275fac}),e})();class Qte{init(t){this._params=t,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}getRootElement(){return this._eGui.firstChild}destroy(){this._frameworkComponentInstance&&"function"==typeof this._frameworkComponentInstance.destroy&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}}let r1=(()=>{class e{constructor(i,n,s,r){this.viewContainerRef=n,this.angularFrameworkOverrides=s,this.frameworkComponentWrapper=r,this._initialised=!1,this._destroyed=!1,this._fullyReady=Ki.resolve(!0),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.columnMenu=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipTrigger=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.tooltipShowMode=void 0,this.tooltipInteraction=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.suppressCutToClipboard=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.dataTypeDefinitions=void 0,this.maintainColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressRowGroupHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.autoSizeStrategy=void 0,this.components=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterMovesDown=void 0,this.enterMovesDownAfterEdit=void 0,this.enterNavigatesVertically=void 0,this.enterNavigatesVerticallyAfterEdit=void 0,this.enableCellEditingOnBackspace=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.excludeHiddenColumnsFromQuickFilter=void 0,this.includeHiddenColumnsInQuickFilter=void 0,this.quickFilterParser=void 0,this.quickFilterMatcher=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableAdvancedFilter=void 0,this.advancedFilterModel=void 0,this.includeHiddenColumnsInAdvancedFilter=void 0,this.advancedFilterParent=void 0,this.advancedFilterBuilderParams=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.enableChartToolPanelsButton=void 0,this.suppressChartToolPanelsButton=void 0,this.chartToolPanelsDef=void 0,this.chartMenuItems=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressParentsInRowNodes=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationPageSizeSelector=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotMaxGeneratedColumns=void 0,this.pivotDefaultExpanded=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.alwaysAggregateAtRootLevel=void 0,this.suppressAggAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDuration=void 0,this.cellFlashDelay=void 0,this.cellFadeDuration=void 0,this.cellFadeDelay=void 0,this.allowShowChangeAfterFilter=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.rowDragText=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.suppressGroupMaintainValueType=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupLockGroupColumns=void 0,this.groupAggFiltering=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.groupAllowUnbalanced=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.rowGroupPanelSuppressSort=void 0,this.suppressGroupRowsSticky=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideInitialRowCount=void 0,this.suppressServerSideInfiniteScroll=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortAllLevels=void 0,this.serverSideEnableClientSideSort=void 0,this.serverSideOnlyRefreshFilteredGroups=void 0,this.serverSideFilterAllLevels=void 0,this.serverSideSortOnServer=void 0,this.serverSideFilterOnServer=void 0,this.serverSidePivotResultFieldSeparator=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellFocus=void 0,this.suppressHeaderFocus=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.gridId=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.functionsPassive=void 0,this.enableGroupEdit=void 0,this.initialState=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processUnpinnedColumns=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.processPivotResultColDef=void 0,this.processPivotResultColGroupDef=void 0,this.getDataPath=void 0,this.getChildCount=void 0,this.getServerSideGroupLevelParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new T,this.toolPanelSizeChanged=new T,this.columnMenuVisibleChanged=new T,this.cutStart=new T,this.cutEnd=new T,this.pasteStart=new T,this.pasteEnd=new T,this.columnVisible=new T,this.columnPinned=new T,this.columnResized=new T,this.columnMoved=new T,this.columnValueChanged=new T,this.columnPivotModeChanged=new T,this.columnPivotChanged=new T,this.columnGroupOpened=new T,this.newColumnsLoaded=new T,this.gridColumnsChanged=new T,this.displayedColumnsChanged=new T,this.virtualColumnsChanged=new T,this.columnEverythingChanged=new T,this.columnHeaderMouseOver=new T,this.columnHeaderMouseLeave=new T,this.columnHeaderClicked=new T,this.columnHeaderContextMenu=new T,this.componentStateChanged=new T,this.cellValueChanged=new T,this.cellEditRequest=new T,this.rowValueChanged=new T,this.cellEditingStarted=new T,this.cellEditingStopped=new T,this.rowEditingStarted=new T,this.rowEditingStopped=new T,this.undoStarted=new T,this.undoEnded=new T,this.redoStarted=new T,this.redoEnded=new T,this.rangeDeleteStart=new T,this.rangeDeleteEnd=new T,this.filterOpened=new T,this.filterChanged=new T,this.filterModified=new T,this.advancedFilterBuilderVisibleChanged=new T,this.chartCreated=new T,this.chartRangeSelectionChanged=new T,this.chartOptionsChanged=new T,this.chartDestroyed=new T,this.cellKeyDown=new T,this.gridReady=new T,this.gridPreDestroyed=new T,this.firstDataRendered=new T,this.gridSizeChanged=new T,this.modelUpdated=new T,this.virtualRowRemoved=new T,this.viewportChanged=new T,this.bodyScroll=new T,this.bodyScrollEnd=new T,this.dragStarted=new T,this.dragStopped=new T,this.stateUpdated=new T,this.paginationChanged=new T,this.rowDragEnter=new T,this.rowDragMove=new T,this.rowDragLeave=new T,this.rowDragEnd=new T,this.columnRowGroupChanged=new T,this.rowGroupOpened=new T,this.expandOrCollapseAll=new T,this.pivotMaxColumnsExceeded=new T,this.pinnedRowDataChanged=new T,this.rowDataUpdated=new T,this.asyncTransactionsFlushed=new T,this.storeRefreshed=new T,this.cellClicked=new T,this.cellDoubleClicked=new T,this.cellFocused=new T,this.cellMouseOver=new T,this.cellMouseOut=new T,this.cellMouseDown=new T,this.rowClicked=new T,this.rowDoubleClicked=new T,this.rowSelected=new T,this.selectionChanged=new T,this.cellContextMenu=new T,this.rangeSelectionChanged=new T,this.tooltipShow=new T,this.tooltipHide=new T,this.sortChanged=new T,this.columnRowGroupChangeRequest=new T,this.columnPivotChangeRequest=new T,this.columnValueChangeRequest=new T,this.columnAggFuncChangeRequest=new T,this._nativeElement=i.nativeElement}ngAfterViewInit(){this.angularFrameworkOverrides.runOutsideAngular(()=>{this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef,this.angularFrameworkOverrides);const i=Fm.combineAttributesAndGridOptions(this.gridOptions,this);this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]};const n=function mte(e,t,i){if(!t)return Xn("No gridOptions provided to createGrid"),{};const n=Pe.getCoercedGridOptions(t),s=(new class{create(e,t,i,n,s){var r;const o=!!t.debug,a=null!=(r=t.gridId)?r:String(gte++),l=this.getRegisteredModules(s,a),d=this.createBeansList(t.rowModelType,l,a),c=this.createProvidedBeans(e,t,s);if(!d)return void Xn("Failed to create grid.");const u={providedBeanInstances:c,beanClasses:d,debug:o,gridId:a},p=new _S("Context",()=>u.debug),m=new class{constructor(e,t){if(this.beanWrappers={},this.destroyed=!1,!e||!e.beanClasses)return;this.contextParams=e,this.logger=t,this.logger.log(">> creating ag-Application Context"),this.createBeans();const i=this.getBeanInstances();this.wireBeans(i),this.logger.log(">> ag-Application Context ready - component is alive")}getBeanInstances(){return Io(this.beanWrappers).map(e=>e.beanInstance)}createBean(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.wireBeans([e],t),e}wireBeans(e,t){this.autoWireBeans(e),this.methodWireBeans(e),this.callLifeCycleMethods(e,"preConstructMethods"),R(t)&&e.forEach(t),this.callLifeCycleMethods(e,"postConstructMethods")}createBeans(){this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),pi(this.beanWrappers,(t,i)=>{let n;i.bean.__agBeanMetaData&&i.bean.__agBeanMetaData.autowireMethods&&i.bean.__agBeanMetaData.autowireMethods.agConstructor&&(n=i.bean.__agBeanMetaData.autowireMethods.agConstructor);const s=this.getBeansForParameters(n,i.bean.name),r=new(i.bean.bind.apply(i.bean,[null,...s]));i.beanInstance=r});const e=Object.keys(this.beanWrappers).join(", ");this.logger.log(`created beans: ${e}`)}createBeanWrapper(e){const t=e.__agBeanMetaData;if(!t){let n;return n=e.prototype.constructor?Em(e.prototype.constructor):""+e,void console.error(`Context item ${n} is not a bean`)}this.beanWrappers[t.beanName]={bean:e,beanInstance:null,beanName:t.beanName}}autoWireBeans(e){e.forEach(t=>{this.forEachMetaDataInHierarchy(t,(i,n)=>{const s=i.agClassAttributes;s&&s.forEach(r=>{const o=this.lookupBeanInstance(n,r.beanName,r.optional);t[r.attributeName]=o})})})}methodWireBeans(e){e.forEach(t=>{this.forEachMetaDataInHierarchy(t,(i,n)=>{pi(i.autowireMethods,(s,r)=>{if("agConstructor"===s)return;const o=this.getBeansForParameters(r,n);t[s].apply(t,o)})})})}forEachMetaDataInHierarchy(e,t){let i=Object.getPrototypeOf(e);for(;null!=i;){const n=i.constructor;n.hasOwnProperty("__agBeanMetaData")&&t(n.__agBeanMetaData,this.getBeanName(n)),i=Object.getPrototypeOf(i)}}getBeanName(e){if(e.__agBeanMetaData&&e.__agBeanMetaData.beanName)return e.__agBeanMetaData.beanName;const t=e.toString();return t.substring(9,t.indexOf("("))}getBeansForParameters(e,t){const i=[];return e&&pi(e,(n,s)=>{const r=this.lookupBeanInstance(t,s);i[Number(n)]=r}),i}lookupBeanInstance(e,t,i=!1){if(this.destroyed)return this.logger.log(`AG Grid: bean reference ${t} is used after the grid is destroyed!`),null;if("context"===t)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(t))return this.contextParams.providedBeanInstances[t];const n=this.beanWrappers[t];return n?n.beanInstance:(i||console.error(`AG Grid: unable to find bean reference ${t} while initialising ${e}`),null)}callLifeCycleMethods(e,t){e.forEach(i=>this.callLifeCycleMethodsOnBean(i,t))}callLifeCycleMethodsOnBean(e,t,i){const n={};this.forEachMetaDataInHierarchy(e,r=>{const o=r[t];o&&o.forEach(a=>{a!=i&&(n[a]=!0)})}),Object.keys(n).forEach(r=>e[r]())}getBean(e){return this.lookupBeanInstance("getBean",e,!0)}destroy(){if(this.destroyed)return;this.destroyed=!0,this.logger.log(">> Shutting down ag-Application Context");const e=this.getBeanInstances();this.destroyBeans(e),this.contextParams.providedBeanInstances=null,ke.__unRegisterGridModules(this.contextParams.gridId),this.logger.log(">> ag-Application Context shut down - component is dead")}destroyBean(e){e&&this.destroyBeans([e])}destroyBeans(e){return e?(e.forEach(t=>{this.callLifeCycleMethodsOnBean(t,"preDestroyMethods","destroy"),"function"==typeof t.destroy&&t.destroy()}),[]):[]}isDestroyed(){return this.destroyed}getGridId(){return this.contextParams.gridId}}(u,p),v=m.getBean("beans");return this.registerModuleUserComponents(v,l),this.registerStackComponents(v,l),this.registerControllers(v,l),i(m),v.syncService.start(),n&&n(m),v.gridApi}registerControllers(e,t){t.forEach(i=>{i.controllers&&i.controllers.forEach(n=>e.ctrlsFactory.register(n))})}registerStackComponents(e,t){const i=this.createAgStackComponentsList(t);e.agStackComponentsRegistry.setupComponents(i)}getRegisteredModules(e,t){const i=e?e.modules:null,n=ke.__getRegisteredModules(t),s=[],r={},o=(a,l,d)=>{var u;r[(u=l).moduleName]||(r[u.moduleName]=!0,s.push(u),ke.__register(u,a,d)),l.dependantModules&&l.dependantModules.forEach(u=>o(a,u,d))};return i&&i.forEach(a=>o(!0,a,t)),n&&n.forEach(a=>o(!ke.__isPackageBased(),a,void 0)),s}registerModuleUserComponents(e,t){this.extractModuleEntity(t,n=>n.userComponents?n.userComponents:[]).forEach(n=>{e.userComponentRegistry.registerDefaultComponent(n.componentName,n.componentClass)})}createProvidedBeans(e,t,i){let n=i?i.frameworkOverrides:null;Y(n)&&(n=new Nk);const s={gridOptions:t,eGridDiv:e,globalEventListener:i?i.globalEventListener:null,globalSyncEventListener:i?i.globalSyncEventListener:null,frameworkOverrides:n};return i&&i.providedBeanInstances&&Object.assign(s,i.providedBeanInstances),s}createAgStackComponentsList(e){let t=[{componentName:"AgCheckbox",componentClass:Ym},{componentName:"AgRadioButton",componentClass:ZN},{componentName:"AgToggleButton",componentClass:Fk},{componentName:"AgInputTextField",componentClass:Vo},{componentName:"AgInputTextArea",componentClass:Bee},{componentName:"AgInputNumberField",componentClass:Q_},{componentName:"AgInputDateField",componentClass:Uee},{componentName:"AgInputRange",componentClass:zee},{componentName:"AgRichSelect",componentClass:bS},{componentName:"AgSelect",componentClass:Km},{componentName:"AgSlider",componentClass:jee},{componentName:"AgGridBody",componentClass:As},{componentName:"AgHeaderRoot",componentClass:Lee},{componentName:"AgSortIndicator",componentClass:J_},{componentName:"AgPagination",componentClass:Zi},{componentName:"AgPageSizeSelector",componentClass:nh},{componentName:"AgOverlayWrapper",componentClass:ote},{componentName:"AgGroupComponent",componentClass:$ee},{componentName:"AgRowContainer",componentClass:Ql},{componentName:"AgFakeHorizontalScroll",componentClass:ate},{componentName:"AgFakeVerticalScroll",componentClass:fte},{componentName:"AgAutocomplete",componentClass:Xee}];const i=this.extractModuleEntity(e,n=>n.agStackComponents?n.agStackComponents:[]);return t=t.concat(i),t}createBeansList(e="clientSide",t,i){const n=t.filter(l=>!l.rowModel||l.rowModel===e),s={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!s[e])return void Xn("Could not find row model for rowModelType = "+e);if(!ke.__assertRegistered(s[e],`rowModelType = '${e}'`,i))return;const r=[J,dd,TS,Xu,rd,be,Ou,gg,Ku,gS,Ur,ad,Gu,FS,ih,zu,Pu,c_,Jn,Pe,pr,ia,Pn,Wt,Qo,Wu,fn,pg,kl,yS,ta,mi,mg,Kr,fg,d_,Xo,zr,ie,na,We,ur,Yu,qr,lg,cg,Yl,oa,SS,qu,ld,vu,od,td,Ln,u_,MS,Ju,Ms,cd,eh,th,ud,IS,fr,vg,Yi,da,ca,Li,Bu,Cg,sh,os],o=this.extractModuleEntity(n,l=>l.beans?l.beans:[]);r.push(...o);const a=[];return r.forEach(l=>{a.indexOf(l)<0&&a.push(l)}),a}extractModuleEntity(e,t){return[].concat(...e.map(t))}}).create(e,n,r=>{const o=new ra(e);r.createBean(o)},void 0,i);if(!Object.isFrozen(t)&&!i?.frameworkOverrides){const r="https://ag-grid.com/javascript-data-grid/grid-interface/#grid-api";Object.defineProperty(t,"api",{get:()=>{Xn(`gridOptions.api is no longer supported. See ${r}.`)},configurable:!0}),Object.defineProperty(t,"columnApi",{get:()=>{Xn(`gridOptions.columnApi is no longer supported and all methods moved to the grid api. See ${r}.`)},configurable:!0})}return s}(this._nativeElement,i,this.gridParams);n&&(this.api=n,this.columnApi=new na(n));const s=this.gridPreDestroyed;(s.observed??s.observers.length>0)&&console.warn('AG Grid: gridPreDestroyed event listener registered via (gridPreDestroyed)="method($event)" will be ignored! Please assign via gridOptions.gridPreDestroyed and pass to the grid as [gridOptions]="gridOptions"'),this._initialised=!0,this._fullyReady.resolveNow(null,r=>r)})}ngOnChanges(i){this._initialised&&this.angularFrameworkOverrides.runOutsideAngular(()=>{const n={};Object.entries(i).forEach(([s,r])=>{n[s]=r.currentValue}),Fm.processOnChange(n,this.api)})}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api?.destroy())}isEmitterUsed(i){const s=this[i],r=s?.observed??s?.observers?.length>0,o=`on${i.charAt(0).toUpperCase()}${i.substring(1)}`;return r||!!this.gridOptions&&!!this.gridOptions[o]}globalEventListener(i,n){if(this._destroyed)return;const s=this[i];if(s&&this.isEmitterUsed(i)){const r=()=>this.angularFrameworkOverrides.runInsideAngular(()=>s.emit(n));"gridReady"===i?this._fullyReady.then(()=>r()):r()}}}return e.\u0275fac=function(i){return new(i||e)(_(ye),_(Dn),_(n1),_(s1))},e.\u0275cmp=gt({type:e,selectors:[["ag-grid-angular"]],inputs:{gridOptions:"gridOptions",modules:"modules",statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",columnMenu:"columnMenu",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipTrigger:"tooltipTrigger",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:"tooltipMouseTrack",tooltipShowMode:"tooltipShowMode",tooltipInteraction:"tooltipInteraction",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",copyGroupHeadersToClipboard:"copyGroupHeadersToClipboard",clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressCopySingleCellRanges:"suppressCopySingleCellRanges",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",suppressCutToClipboard:"suppressCutToClipboard",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",dataTypeDefinitions:"dataTypeDefinitions",maintainColumnOrder:"maintainColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",suppressRowGroupHidesColumns:"suppressRowGroupHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",autoSizeStrategy:"autoSizeStrategy",components:"components",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",readOnlyEdit:"readOnlyEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterMovesDown:"enterMovesDown",enterMovesDownAfterEdit:"enterMovesDownAfterEdit",enterNavigatesVertically:"enterNavigatesVertically",enterNavigatesVerticallyAfterEdit:"enterNavigatesVerticallyAfterEdit",enableCellEditingOnBackspace:"enableCellEditingOnBackspace",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",excludeHiddenColumnsFromQuickFilter:"excludeHiddenColumnsFromQuickFilter",includeHiddenColumnsInQuickFilter:"includeHiddenColumnsInQuickFilter",quickFilterParser:"quickFilterParser",quickFilterMatcher:"quickFilterMatcher",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",enableAdvancedFilter:"enableAdvancedFilter",advancedFilterModel:"advancedFilterModel",includeHiddenColumnsInAdvancedFilter:"includeHiddenColumnsInAdvancedFilter",advancedFilterParent:"advancedFilterParent",advancedFilterBuilderParams:"advancedFilterBuilderParams",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",enableChartToolPanelsButton:"enableChartToolPanelsButton",suppressChartToolPanelsButton:"suppressChartToolPanelsButton",chartToolPanelsDef:"chartToolPanelsDef",chartMenuItems:"chartMenuItems",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",context:"context",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressParentsInRowNodes:"suppressParentsInRowNodes",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationPageSizeSelector:"paginationPageSizeSelector",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotMaxGeneratedColumns:"pivotMaxGeneratedColumns",pivotDefaultExpanded:"pivotDefaultExpanded",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",alwaysAggregateAtRootLevel:"alwaysAggregateAtRootLevel",suppressAggAtRootLevel:"suppressAggAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",removePivotHeaderRowWhenSingleValueColumn:"removePivotHeaderRowWhenSingleValueColumn",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDuration:"cellFlashDuration",cellFlashDelay:"cellFlashDelay",cellFadeDuration:"cellFadeDuration",cellFadeDelay:"cellFadeDelay",allowShowChangeAfterFilter:"allowShowChangeAfterFilter",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",suppressRowVirtualisation:"suppressRowVirtualisation",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",rowDragText:"rowDragText",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",suppressGroupMaintainValueType:"suppressGroupMaintainValueType",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupLockGroupColumns:"groupLockGroupColumns",groupAggFiltering:"groupAggFiltering",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",groupAllowUnbalanced:"groupAllowUnbalanced",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",rowGroupPanelSuppressSort:"rowGroupPanelSuppressSort",suppressGroupRowsSticky:"suppressGroupRowsSticky",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideInitialRowCount:"serverSideInitialRowCount",suppressServerSideInfiniteScroll:"suppressServerSideInfiniteScroll",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortAllLevels:"serverSideSortAllLevels",serverSideEnableClientSideSort:"serverSideEnableClientSideSort",serverSideOnlyRefreshFilteredGroups:"serverSideOnlyRefreshFilteredGroups",serverSideFilterAllLevels:"serverSideFilterAllLevels",serverSideSortOnServer:"serverSideSortOnServer",serverSideFilterOnServer:"serverSideFilterOnServer",serverSidePivotResultFieldSeparator:"serverSidePivotResultFieldSeparator",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellFocus:"suppressCellFocus",suppressHeaderFocus:"suppressHeaderFocus",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",alwaysMultiSort:"alwaysMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",gridId:"gridId",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",functionsPassive:"functionsPassive",enableGroupEdit:"enableGroupEdit",initialState:"initialState",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processUnpinnedColumns:"processUnpinnedColumns",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",processPivotResultColDef:"processPivotResultColDef",processPivotResultColGroupDef:"processPivotResultColGroupDef",getDataPath:"getDataPath",getChildCount:"getChildCount",getServerSideGroupLevelParams:"getServerSideGroupLevelParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowId:"getRowId",resetRowDataOnUpdate:"resetRowDataOnUpdate",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthRow:"isFullWidthRow"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",toolPanelSizeChanged:"toolPanelSizeChanged",columnMenuVisibleChanged:"columnMenuVisibleChanged",cutStart:"cutStart",cutEnd:"cutEnd",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",columnHeaderMouseOver:"columnHeaderMouseOver",columnHeaderMouseLeave:"columnHeaderMouseLeave",columnHeaderClicked:"columnHeaderClicked",columnHeaderContextMenu:"columnHeaderContextMenu",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",undoStarted:"undoStarted",undoEnded:"undoEnded",redoStarted:"redoStarted",redoEnded:"redoEnded",rangeDeleteStart:"rangeDeleteStart",rangeDeleteEnd:"rangeDeleteEnd",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",advancedFilterBuilderVisibleChanged:"advancedFilterBuilderVisibleChanged",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",gridReady:"gridReady",gridPreDestroyed:"gridPreDestroyed",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",stateUpdated:"stateUpdated",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pivotMaxColumnsExceeded:"pivotMaxColumnsExceeded",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",storeRefreshed:"storeRefreshed",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",tooltipShow:"tooltipShow",tooltipHide:"tooltipHide",sortChanged:"sortChanged",columnRowGroupChangeRequest:"columnRowGroupChangeRequest",columnPivotChangeRequest:"columnPivotChangeRequest",columnValueChangeRequest:"columnValueChangeRequest",columnAggFuncChangeRequest:"columnAggFuncChangeRequest"},standalone:!0,features:[Te([n1,s1]),Si,bb],decls:0,vars:0,template:function(i,n){},encapsulation:2}),e})(),Zte=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ze({type:e}),e.\u0275inj=qe({imports:[r1]}),e})(),Xte=(()=>{class e{constructor(){this.themeClass="ag-theme-quartz-dark",this.defaultColDef={editable:!0,filter:!0},this.rowData=[{make:"Tesla",model:"Model Y",price:64950,electric:!0},{make:"Ford",model:"F-Series",price:33850,electric:!1},{make:"Toyota",model:"Corolla",price:29600,electric:!1}],this.columnDefs=[{field:"make",filter:!0,floatingFilter:!0},{field:"model",filter:!0,floatingFilter:!0},{field:"price",filter:!0,floatingFilter:!0},{field:"electric",filter:!0,floatingFilter:!0}]}ngOnInit(){}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=gt({type:e,selectors:[["app-dashboard"]],decls:1,vars:5,consts:[[1,"ag-grid",2,"height","500px","box-sizing","border-box",3,"rowData","columnDefs","defaultColDef"]],template:function(n,s){1&n&&Je(0,"ag-grid-angular",0),2&n&&(JR(s.themeClass),K("rowData",s.rowData)("columnDefs",s.columnDefs)("defaultColDef",s.defaultColDef))},dependencies:[r1],styles:[".ag-theme-quartz[_ngcontent-%COMP%], .ag-theme-quartz-dark[_ngcontent-%COMP%]{--ag-foreground-color: rgb(14, 68, 145);--ag-background-color: rgba(241, 247, 255);--ag-header-background-color: rgba(228, 237, 250);--ag-row-hover-color: rgba(0, 38, 255, .1)}.ag-grid[_ngcontent-%COMP%]{margin-right:509px}"]})}return e})();function Jte(e,t){if(1&e){const i=cc();j(0,"button",8),bt("click",function(){return Ma(i),nt(),Ia(Cs(2).toggle())}),j(1,"mat-icon",9),Yt(2,"menu"),X()()}}const eie=[{path:"",component:Uy},{path:"public/login",component:rL},{path:"secure/home",component:(()=>{class e{constructor(){this.breakpointObserver=G(ty),this.isHandset$=this.breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)").pipe(ge(i=>i.matches),qO())}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=gt({type:e,selectors:[["app-sidebar-nav"]],decls:22,vars:12,consts:[[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["drawer",""],["color","primary"],["mat-list-item","","routerLink","/secure/home"],["mat-list-item","","routerLink","/public/login"],["mat-list-item","","href","#"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click",4,"ngIf"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"]],template:function(n,s){1&n&&(j(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2),wc(3,"async"),wc(4,"async"),wc(5,"async"),j(6,"mat-toolbar",3),Yt(7,"Menu"),X(),j(8,"mat-nav-list")(9,"a",4),Yt(10,"Dashboard"),X(),j(11,"a",5),Yt(12,"Login"),X(),j(13,"a",6),Yt(14,"Link 3"),X()()(),j(15,"mat-sidenav-content")(16,"mat-toolbar",3),he(17,Jte,3,0,"button",7),wc(18,"async"),j(19,"span"),Yt(20,"Dashboard"),X()(),Je(21,"app-dashboard"),X()()),2&n&&(ue(1),K("mode",yc(4,6,s.isHandset$)?"over":"side")("opened",!1===yc(5,8,s.isHandset$)),lt("role",yc(3,4,s.isHandset$)?"dialog":"navigation"),ue(16),K("ngIf",yc(18,10,s.isHandset$)))},dependencies:[wo,Gf,kP,iL,nL,pL,fL,$y,ZZ,YZ,Xte,zM],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}"]})}return e})()},{path:"**",component:Uy}];let tie=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=Ze({type:e});static#i=this.\u0275inj=qe({imports:[yF.forChild(eie),yF]})}return e})();function o1(e){return new x(3e3,!1)}function Qr(e){switch(e.length){case 0:return new ru;case 1:return e[0];default:return new ZO(e)}}function a1(e,t,i=new Map,n=new Map){const s=[],r=[];let o=-1,a=null;if(t.forEach(l=>{const d=l.get("offset"),c=d==o,u=c&&a||new Map;l.forEach((p,m)=>{let v=m,C=p;if("offset"!==m)switch(v=e.normalizePropertyName(v,s),C){case"!":C=i.get(m);break;case nr:C=n.get(m);break;default:C=e.normalizeStyleValue(m,v,C,s)}u.set(v,C)}),c||r.push(u),a=u,o=d}),s.length)throw function Eie(e){return new x(3502,!1)}();return r}function LS(e,t,i,n){switch(t){case"start":e.onStart(()=>n(i&&NS(i,"start",e)));break;case"done":e.onDone(()=>n(i&&NS(i,"done",e)));break;case"destroy":e.onDestroy(()=>n(i&&NS(i,"destroy",e)))}}function NS(e,t,i){const r=kS(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,i.totalTime??e.totalTime,!!i.disabled),o=e._data;return null!=o&&(r._data=o),r}function kS(e,t,i,n,s="",r=0,o){return{element:e,triggerName:t,fromState:i,toState:n,phaseName:s,totalTime:r,disabled:!!o}}function mn(e,t,i){let n=e.get(t);return n||e.set(t,n=i),n}function l1(e){const t=e.indexOf(":");return[e.substring(1,t),e.slice(t+1)]}const Nie=(()=>typeof document>"u"?null:document.documentElement)();function VS(e){const t=e.parentNode||e.host||null;return t===Nie?null:t}let ha=null,d1=!1;function c1(e,t){for(;t;){if(t===e)return!0;t=VS(t)}return!1}function u1(e,t,i){if(i)return Array.from(e.querySelectorAll(t));const n=e.querySelector(t);return n?[n]:[]}let h1=(()=>{class e{validateStyleProperty(i){return function Vie(e){ha||(ha=function Gie(){return typeof document<"u"?document.body:null}()||{},d1=!!ha.style&&"WebkitAppearance"in ha.style);let t=!0;return ha.style&&!function kie(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in ha.style,!t&&d1&&(t="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in ha.style)),t}(i)}matchesElement(i,n){return!1}containsElement(i,n){return c1(i,n)}getParentElement(i){return VS(i)}query(i,n,s){return u1(i,n,s)}computeStyle(i,n,s){return s||""}animate(i,n,s,r,o,a=[],l){return new ru(s,r)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac})}return e})(),GS=(()=>{class e{static#e=this.NOOP=new h1}return e})();const Hie=1e3,HS="ng-enter",_g="ng-leave",Sg="ng-trigger",Eg=".ng-trigger",f1="ng-animating",BS=".ng-animating";function mr(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:US(parseFloat(t[1]),t[2])}function US(e,t){return"s"===t?e*Hie:e}function Dg(e,t,i){return e.hasOwnProperty("duration")?e:function Uie(e,t,i){let s,r=0,o="";if("string"==typeof e){const a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(o1()),{duration:0,delay:0,easing:""};s=US(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(r=US(parseFloat(l),a[4]));const d=a[5];d&&(o=d)}else s=e;if(!i){let a=!1,l=t.length;s<0&&(t.push(function iie(){return new x(3100,!1)}()),a=!0),r<0&&(t.push(function nie(){return new x(3101,!1)}()),a=!0),a&&t.splice(l,0,o1())}return{duration:s,delay:r,easing:o}}(e,t,i)}function ch(e,t={}){return Object.keys(e).forEach(i=>{t[i]=e[i]}),t}function m1(e){const t=new Map;return Object.keys(e).forEach(i=>{t.set(i,e[i])}),t}function Zr(e,t=new Map,i){if(i)for(let[n,s]of i)t.set(n,s);for(let[n,s]of e)t.set(n,s);return t}function Ps(e,t,i){t.forEach((n,s)=>{const r=WS(s);i&&!i.has(s)&&i.set(s,e.style[r]),e.style[r]=n})}function pa(e,t){t.forEach((i,n)=>{const s=WS(n);e.style[s]=""})}function uh(e){return Array.isArray(e)?1==e.length?e[0]:QO(e):e}const zS=new RegExp("{{\\s*(.+?)\\s*}}","g");function v1(e){let t=[];if("string"==typeof e){let i;for(;i=zS.exec(e);)t.push(i[1]);zS.lastIndex=0}return t}function hh(e,t,i){const n=e.toString(),s=n.replace(zS,(r,o)=>{let a=t[o];return null==a&&(i.push(function rie(e){return new x(3003,!1)}()),a=""),a.toString()});return s==n?e:s}function xg(e){const t=[];let i=e.next();for(;!i.done;)t.push(i.value),i=e.next();return t}const jie=/-+([a-z0-9])/g;function WS(e){return e.replace(jie,(...t)=>t[1].toUpperCase())}function gn(e,t,i){switch(t.type){case 7:return e.visitTrigger(t,i);case 0:return e.visitState(t,i);case 1:return e.visitTransition(t,i);case 2:return e.visitSequence(t,i);case 3:return e.visitGroup(t,i);case 4:return e.visitAnimate(t,i);case 5:return e.visitKeyframes(t,i);case 6:return e.visitStyle(t,i);case 8:return e.visitReference(t,i);case 9:return e.visitAnimateChild(t,i);case 10:return e.visitAnimateRef(t,i);case 11:return e.visitQuery(t,i);case 12:return e.visitStagger(t,i);default:throw function oie(e){return new x(3004,!1)}()}}function C1(e,t){return window.getComputedStyle(e)[t]}const Rg="*";function Kie(e,t){const i=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(n=>function Yie(e,t,i){if(":"==e[0]){const l=function Qie(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(i,n)=>parseFloat(n)>parseFloat(i);case":decrement":return(i,n)=>parseFloat(n)<parseFloat(i);default:return t.push(function wie(e){return new x(3016,!1)}()),"* => *"}}(e,i);if("function"==typeof l)return void t.push(l);e=l}const n=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return i.push(function bie(e){return new x(3015,!1)}()),t;const s=n[1],r=n[2],o=n[3];t.push(b1(s,o));"<"==r[0]&&!(s==Rg&&o==Rg)&&t.push(b1(o,s))}(n,i,t)):i.push(e),i}const Tg=new Set(["true","1"]),Ag=new Set(["false","0"]);function b1(e,t){const i=Tg.has(e)||Ag.has(e),n=Tg.has(t)||Ag.has(t);return(s,r)=>{let o=e==Rg||e==s,a=t==Rg||t==r;return!o&&i&&"boolean"==typeof s&&(o=s?Tg.has(e):Ag.has(e)),!a&&n&&"boolean"==typeof r&&(a=r?Tg.has(t):Ag.has(t)),o&&a}}const Zie=new RegExp("s*:selfs*,?","g");function jS(e,t,i,n){return new Xie(e).build(t,i,n)}class Xie{constructor(t){this._driver=t}build(t,i,n){const s=new tne(i);return this._resetContextStyleTimingState(s),gn(this,uh(t),s)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,i){let n=i.queryCount=0,s=i.depCount=0;const r=[],o=[];return"@"==t.name.charAt(0)&&i.errors.push(function lie(){return new x(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(i),0==a.type){const l=a,d=l.name;d.toString().split(/\s*,\s*/).forEach(c=>{l.name=c,r.push(this.visitState(l,i))}),l.name=d}else if(1==a.type){const l=this.visitTransition(a,i);n+=l.queryCount,s+=l.depCount,o.push(l)}else i.errors.push(function die(){return new x(3007,!1)}())}),{type:7,name:t.name,states:r,transitions:o,queryCount:n,depCount:s,options:null}}visitState(t,i){const n=this.visitStyle(t.styles,i),s=t.options&&t.options.params||null;if(n.containsDynamicStyles){const r=new Set,o=s||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{v1(l).forEach(d=>{o.hasOwnProperty(d)||r.add(d)})})}),r.size&&(xg(r.values()),i.errors.push(function cie(e,t){return new x(3008,!1)}()))}return{type:0,name:t.name,style:n,options:s?{params:s}:null}}visitTransition(t,i){i.queryCount=0,i.depCount=0;const n=gn(this,uh(t.animation),i);return{type:1,matchers:Kie(t.expr,i.errors),animation:n,queryCount:i.queryCount,depCount:i.depCount,options:fa(t.options)}}visitSequence(t,i){return{type:2,steps:t.steps.map(n=>gn(this,n,i)),options:fa(t.options)}}visitGroup(t,i){const n=i.currentTime;let s=0;const r=t.steps.map(o=>{i.currentTime=n;const a=gn(this,o,i);return s=Math.max(s,i.currentTime),a});return i.currentTime=s,{type:3,steps:r,options:fa(t.options)}}visitAnimate(t,i){const n=function nne(e,t){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return $S(Dg(e,t).duration,0,"");const i=e;if(i.split(/\s+/).some(r=>"{"==r.charAt(0)&&"{"==r.charAt(1))){const r=$S(0,0,"");return r.dynamic=!0,r.strValue=i,r}const s=Dg(i,t);return $S(s.duration,s.delay,s.easing)}(t.timings,i.errors);i.currentAnimateTimings=n;let s,r=t.styles?t.styles:Ol({});if(5==r.type)s=this.visitKeyframes(r,i);else{let o=t.styles,a=!1;if(!o){a=!0;const d={};n.easing&&(d.easing=n.easing),o=Ol(d)}i.currentTime+=n.duration+n.delay;const l=this.visitStyle(o,i);l.isEmptyStep=a,s=l}return i.currentAnimateTimings=null,{type:4,timings:n,style:s,options:null}}visitStyle(t,i){const n=this._makeStyleAst(t,i);return this._validateStyleAst(n,i),n}_makeStyleAst(t,i){const n=[],s=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of s)"string"==typeof a?a===nr?n.push(a):i.errors.push(new x(3002,!1)):n.push(m1(a));let r=!1,o=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!r))for(let l of a.values())if(l.toString().indexOf("{{")>=0){r=!0;break}}),{type:6,styles:n,easing:o,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,i){const n=i.currentAnimateTimings;let s=i.currentTime,r=i.currentTime;n&&r>0&&(r-=n.duration+n.delay),t.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const d=i.collectedStyles.get(i.currentQuerySelector),c=d.get(l);let u=!0;c&&(r!=s&&r>=c.startTime&&s<=c.endTime&&(i.errors.push(function hie(e,t,i,n,s){return new x(3010,!1)}()),u=!1),r=c.startTime),u&&d.set(l,{startTime:r,endTime:s}),i.options&&function Wie(e,t,i){const n=t.params||{},s=v1(e);s.length&&s.forEach(r=>{n.hasOwnProperty(r)||i.push(function sie(e){return new x(3001,!1)}())})}(a,i.options,i.errors)})})}visitKeyframes(t,i){const n={type:5,styles:[],options:null};if(!i.currentAnimateTimings)return i.errors.push(function pie(){return new x(3011,!1)}()),n;let r=0;const o=[];let a=!1,l=!1,d=0;const c=t.steps.map(y=>{const w=this._makeStyleAst(y,i);let E=null!=w.offset?w.offset:function ine(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(i=>{if(i instanceof Map&&i.has("offset")){const n=i;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}return t}(w.styles),D=0;return null!=E&&(r++,D=w.offset=E),l=l||D<0||D>1,a=a||D<d,d=D,o.push(D),w});l&&i.errors.push(function fie(){return new x(3012,!1)}()),a&&i.errors.push(function mie(){return new x(3200,!1)}());const u=t.steps.length;let p=0;r>0&&r<u?i.errors.push(function gie(){return new x(3202,!1)}()):0==r&&(p=1/(u-1));const m=u-1,v=i.currentTime,C=i.currentAnimateTimings,b=C.duration;return c.forEach((y,w)=>{const E=p>0?w==m?1:p*w:o[w],D=E*b;i.currentTime=v+C.delay+D,C.duration=D,this._validateStyleAst(y,i),y.offset=E,n.styles.push(y)}),n}visitReference(t,i){return{type:8,animation:gn(this,uh(t.animation),i),options:fa(t.options)}}visitAnimateChild(t,i){return i.depCount++,{type:9,options:fa(t.options)}}visitAnimateRef(t,i){return{type:10,animation:this.visitReference(t.animation,i),options:fa(t.options)}}visitQuery(t,i){const n=i.currentQuerySelector,s=t.options||{};i.queryCount++,i.currentQuery=t;const[r,o]=function Jie(e){const t=!!e.split(/\s*,\s*/).find(i=>":self"==i);return t&&(e=e.replace(Zie,"")),e=e.replace(/@\*/g,Eg).replace(/@\w+/g,i=>Eg+"-"+i.slice(1)).replace(/:animating/g,BS),[e,t]}(t.selector);i.currentQuerySelector=n.length?n+" "+r:r,mn(i.collectedStyles,i.currentQuerySelector,new Map);const a=gn(this,uh(t.animation),i);return i.currentQuery=null,i.currentQuerySelector=n,{type:11,selector:r,limit:s.limit||0,optional:!!s.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:fa(t.options)}}visitStagger(t,i){i.currentQuery||i.errors.push(function vie(){return new x(3013,!1)}());const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Dg(t.timings,i.errors,!0);return{type:12,animation:gn(this,uh(t.animation),i),timings:n,options:null}}}class tne{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function fa(e){return e?(e=ch(e)).params&&(e.params=function ene(e){return e?ch(e):null}(e.params)):e={},e}function $S(e,t,i){return{duration:e,delay:t,easing:i}}function qS(e,t,i,n,s,r,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:i,postStyleProps:n,duration:s,delay:r,totalTime:s+r,easing:o,subTimeline:a}}class Mg{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,i){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...i)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const one=new RegExp(":enter","g"),lne=new RegExp(":leave","g");function KS(e,t,i,n,s,r=new Map,o=new Map,a,l,d=[]){return(new dne).buildKeyframes(e,t,i,n,s,r,o,a,l,d)}class dne{buildKeyframes(t,i,n,s,r,o,a,l,d,c=[]){d=d||new Mg;const u=new YS(t,i,d,s,r,c,[]);u.options=l;const p=l.delay?mr(l.delay):0;u.currentTimeline.delayNextStep(p),u.currentTimeline.setStyles([o],null,u.errors,l),gn(this,n,u);const m=u.timelines.filter(v=>v.containsAnimation());if(m.length&&a.size){let v;for(let C=m.length-1;C>=0;C--){const b=m[C];if(b.element===i){v=b;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,u.errors,l)}return m.length?m.map(v=>v.buildKeyframes()):[qS(i,[],[],[],0,p,"",!1)]}visitTrigger(t,i){}visitState(t,i){}visitTransition(t,i){}visitAnimateChild(t,i){const n=i.subInstructions.get(i.element);if(n){const s=i.createSubContext(t.options),r=i.currentTimeline.currentTime,o=this._visitSubInstructions(n,s,s.options);r!=o&&i.transformIntoNewTimeline(o)}i.previousNode=t}visitAnimateRef(t,i){const n=i.createSubContext(t.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],i,n),this.visitReference(t.animation,n),i.transformIntoNewTimeline(n.currentTimeline.currentTime),i.previousNode=t}_applyAnimationRefDelays(t,i,n){for(const s of t){const r=s?.delay;if(r){const o="number"==typeof r?r:mr(hh(r,s?.params??{},i.errors));n.delayNextStep(o)}}}_visitSubInstructions(t,i,n){let r=i.currentTimeline.currentTime;const o=null!=n.duration?mr(n.duration):null,a=null!=n.delay?mr(n.delay):null;return 0!==o&&t.forEach(l=>{const d=i.appendInstructionToTimeline(l,o,a);r=Math.max(r,d.duration+d.delay)}),r}visitReference(t,i){i.updateOptions(t.options,!0),gn(this,t.animation,i),i.previousNode=t}visitSequence(t,i){const n=i.subContextCount;let s=i;const r=t.options;if(r&&(r.params||r.delay)&&(s=i.createSubContext(r),s.transformIntoNewTimeline(),null!=r.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=Ig);const o=mr(r.delay);s.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>gn(this,o,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>n&&s.transformIntoNewTimeline()),i.previousNode=t}visitGroup(t,i){const n=[];let s=i.currentTimeline.currentTime;const r=t.options&&t.options.delay?mr(t.options.delay):0;t.steps.forEach(o=>{const a=i.createSubContext(t.options);r&&a.delayNextStep(r),gn(this,o,a),s=Math.max(s,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(o=>i.currentTimeline.mergeTimelineCollectedStyles(o)),i.transformIntoNewTimeline(s),i.previousNode=t}_visitTiming(t,i){if(t.dynamic){const n=t.strValue;return Dg(i.params?hh(n,i.params,i.errors):n,i.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,i){const n=i.currentAnimateTimings=this._visitTiming(t.timings,i),s=i.currentTimeline;n.delay&&(i.incrementTime(n.delay),s.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,i):(i.incrementTime(n.duration),this.visitStyle(r,i),s.applyStylesToKeyframe()),i.currentAnimateTimings=null,i.previousNode=t}visitStyle(t,i){const n=i.currentTimeline,s=i.currentAnimateTimings;!s&&n.hasCurrentStyleProperties()&&n.forwardFrame();const r=s&&s.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,i.errors,i.options),i.previousNode=t}visitKeyframes(t,i){const n=i.currentAnimateTimings,s=i.currentTimeline.duration,r=n.duration,a=i.createSubContext().currentTimeline;a.easing=n.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*r),a.setStyles(l.styles,l.easing,i.errors,i.options),a.applyStylesToKeyframe()}),i.currentTimeline.mergeTimelineCollectedStyles(a),i.transformIntoNewTimeline(s+r),i.previousNode=t}visitQuery(t,i){const n=i.currentTimeline.currentTime,s=t.options||{},r=s.delay?mr(s.delay):0;r&&(6===i.previousNode.type||0==n&&i.currentTimeline.hasCurrentStyleProperties())&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Ig);let o=n;const a=i.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,i.errors);i.currentQueryTotal=a.length;let l=null;a.forEach((d,c)=>{i.currentQueryIndex=c;const u=i.createSubContext(t.options,d);r&&u.delayNextStep(r),d===i.element&&(l=u.currentTimeline),gn(this,t.animation,u),u.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,u.currentTimeline.currentTime)}),i.currentQueryIndex=0,i.currentQueryTotal=0,i.transformIntoNewTimeline(o),l&&(i.currentTimeline.mergeTimelineCollectedStyles(l),i.currentTimeline.snapshotCurrentStyles()),i.previousNode=t}visitStagger(t,i){const n=i.parentContext,s=i.currentTimeline,r=t.timings,o=Math.abs(r.duration),a=o*(i.currentQueryTotal-1);let l=o*i.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime}const c=i.currentTimeline;l&&c.delayNextStep(l);const u=c.currentTime;gn(this,t.animation,i),i.previousNode=t,n.currentStaggerTime=s.currentTime-u+(s.startTime-n.currentTimeline.startTime)}}const Ig={};class YS{constructor(t,i,n,s,r,o,a,l){this._driver=t,this.element=i,this.subInstructions=n,this._enterClassName=s,this._leaveClassName=r,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ig,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Fg(this._driver,i,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,i){if(!t)return;const n=t;let s=this.options;null!=n.duration&&(s.duration=mr(n.duration)),null!=n.delay&&(s.delay=mr(n.delay));const r=n.params;if(r){let o=s.params;o||(o=this.options.params={}),Object.keys(r).forEach(a=>{(!i||!o.hasOwnProperty(a))&&(o[a]=hh(r[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const i=this.options.params;if(i){const n=t.params={};Object.keys(i).forEach(s=>{n[s]=i[s]})}}return t}createSubContext(t=null,i,n){const s=i||this.element,r=new YS(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=Ig,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,i,n){const s={duration:i??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},r=new cne(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(r),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,i,n,s,r,o){let a=[];if(s&&a.push(this.element),t.length>0){t=(t=t.replace(one,"."+this._enterClassName)).replace(lne,"."+this._leaveClassName);let d=this._driver.query(this.element,t,1!=n);0!==n&&(d=n<0?d.slice(d.length+n,d.length):d.slice(0,n)),a.push(...d)}return!r&&0==a.length&&o.push(function Cie(e){return new x(3014,!1)}()),a}}class Fg{constructor(t,i,n,s){this._driver=t,this.element=i,this.startTime=n,this._elementTimelineStylesLookup=s,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(i),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(i,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const i=1===this._keyframes.size&&this._pendingStyles.size;this.duration||i?(this.forwardTime(this.currentTime+t),i&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,i){return this.applyStylesToKeyframe(),new Fg(this._driver,t,i||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,i){this._localTimelineStyles.set(t,i),this._globalTimelineStyles.set(t,i),this._styleSummary.set(t,{time:this.currentTime,value:i})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[i,n]of this._globalTimelineStyles)this._backFill.set(i,n||nr),this._currentKeyframe.set(i,nr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,i,n,s){i&&this._previousKeyframe.set("easing",i);const r=s&&s.params||{},o=function une(e,t){const i=new Map;let n;return e.forEach(s=>{if("*"===s){n=n||t.keys();for(let r of n)i.set(r,nr)}else Zr(s,i)}),i}(t,this._globalTimelineStyles);for(let[a,l]of o){const d=hh(l,r,n);this._pendingStyles.set(a,d),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??nr),this._updateStyle(a,d)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,i)=>{this._currentKeyframe.set(i,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,i)=>{this._currentKeyframe.has(i)||this._currentKeyframe.set(i,t)}))}snapshotCurrentStyles(){for(let[t,i]of this._localTimelineStyles)this._pendingStyles.set(t,i),this._updateStyle(t,i)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let i in this._currentKeyframe)t.push(i);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((i,n)=>{const s=this._styleSummary.get(n);(!s||i.time>s.time)&&this._updateStyle(n,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,i=new Set,n=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((a,l)=>{const d=Zr(a,new Map,this._backFill);d.forEach((c,u)=>{"!"===c?t.add(u):c===nr&&i.add(u)}),n||d.set("offset",l/this.duration),s.push(d)});const r=t.size?xg(t.values()):[],o=i.size?xg(i.values()):[];if(n){const a=s[0],l=new Map(a);a.set("offset",0),l.set("offset",1),s=[a,l]}return qS(this.element,s,r,o,this.duration,this.startTime,this.easing,!1)}}class cne extends Fg{constructor(t,i,n,s,r,o,a=!1){super(t,i,o.delay),this.keyframes=n,this.preStyleProps=s,this.postStyleProps=r,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:i,duration:n,easing:s}=this.timings;if(this._stretchStartingKeyframe&&i){const r=[],o=n+i,a=i/o,l=Zr(t[0]);l.set("offset",0),r.push(l);const d=Zr(t[0]);d.set("offset",_1(a)),r.push(d);const c=t.length-1;for(let u=1;u<=c;u++){let p=Zr(t[u]);const m=p.get("offset");p.set("offset",_1((i+m*n)/o)),r.push(p)}n=o,i=0,s="",t=r}return qS(this.element,t,this.preStyleProps,this.postStyleProps,n,i,s,!0)}}function _1(e,t=3){const i=Math.pow(10,t-1);return Math.round(e*i)/i}class QS{}const hne=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class pne extends QS{normalizePropertyName(t,i){return WS(t)}normalizeStyleValue(t,i,n,s){let r="";const o=n.toString().trim();if(hne.has(i)&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&s.push(function aie(e,t){return new x(3005,!1)}())}return o+r}}function S1(e,t,i,n,s,r,o,a,l,d,c,u,p){return{type:0,element:e,triggerName:t,isRemovalTransition:s,fromState:i,fromStyles:r,toState:n,toStyles:o,timelines:a,queriedElements:l,preStyleProps:d,postStyleProps:c,totalTime:u,errors:p}}const ZS={};class E1{constructor(t,i,n){this._triggerName=t,this.ast=i,this._stateStyles=n}match(t,i,n,s){return function fne(e,t,i,n,s){return e.some(r=>r(t,i,n,s))}(this.ast.matchers,t,i,n,s)}buildStyles(t,i,n){let s=this._stateStyles.get("*");return void 0!==t&&(s=this._stateStyles.get(t?.toString())||s),s?s.buildStyles(i,n):new Map}build(t,i,n,s,r,o,a,l,d,c){const u=[],p=this.ast.options&&this.ast.options.params||ZS,v=this.buildStyles(n,a&&a.params||ZS,u),C=l&&l.params||ZS,b=this.buildStyles(s,C,u),y=new Set,w=new Map,E=new Map,D="void"===s,M={params:mne(C,p),delay:this.ast.options?.delay},L=c?[]:KS(t,i,this.ast.animation,r,o,v,b,M,d,u);let k=0;if(L.forEach(xe=>{k=Math.max(xe.duration+xe.delay,k)}),u.length)return S1(i,this._triggerName,n,s,D,v,b,[],[],w,E,k,u);L.forEach(xe=>{const ft=xe.element,jt=mn(w,ft,new Set);xe.preStyleProps.forEach(ei=>jt.add(ei));const kn=mn(E,ft,new Set);xe.postStyleProps.forEach(ei=>kn.add(ei)),ft!==i&&y.add(ft)});const te=xg(y.values());return S1(i,this._triggerName,n,s,D,v,b,L,te,w,E,k)}}function mne(e,t){const i=ch(t);for(const n in e)e.hasOwnProperty(n)&&null!=e[n]&&(i[n]=e[n]);return i}class gne{constructor(t,i,n){this.styles=t,this.defaultParams=i,this.normalizer=n}buildStyles(t,i){const n=new Map,s=ch(this.defaultParams);return Object.keys(t).forEach(r=>{const o=t[r];null!==o&&(s[r]=o)}),this.styles.styles.forEach(r=>{"string"!=typeof r&&r.forEach((o,a)=>{o&&(o=hh(o,s,i));const l=this.normalizer.normalizePropertyName(a,i);o=this.normalizer.normalizeStyleValue(a,l,o,i),n.set(a,o)})}),n}}class Cne{constructor(t,i,n){this.name=t,this.ast=i,this._normalizer=n,this.transitionFactories=[],this.states=new Map,i.states.forEach(s=>{this.states.set(s.name,new gne(s.style,s.options&&s.options.params||{},n))}),D1(this.states,"true","1"),D1(this.states,"false","0"),i.transitions.forEach(s=>{this.transitionFactories.push(new E1(t,s,this.states))}),this.fallbackTransition=function bne(e,t,i){return new E1(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,i,n,s){return this.transitionFactories.find(o=>o.match(t,i,n,s))||null}matchStyles(t,i,n){return this.fallbackTransition.buildStyles(t,i,n)}}function D1(e,t,i){e.has(t)?e.has(i)||e.set(i,e.get(t)):e.has(i)&&e.set(t,e.get(i))}const wne=new Mg;class yne{constructor(t,i,n){this.bodyNode=t,this._driver=i,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,i){const n=[],r=jS(this._driver,i,n,[]);if(n.length)throw function Die(e){return new x(3503,!1)}();this._animations.set(t,r)}_buildPlayer(t,i,n){const s=t.element,r=a1(this._normalizer,t.keyframes,i,n);return this._driver.animate(s,r,t.duration,t.delay,t.easing,[],!0)}create(t,i,n={}){const s=[],r=this._animations.get(t);let o;const a=new Map;if(r?(o=KS(this._driver,i,r,HS,_g,new Map,new Map,n,wne,s),o.forEach(c=>{const u=mn(a,c.element,new Map);c.postStyleProps.forEach(p=>u.set(p,null))})):(s.push(function xie(){return new x(3300,!1)}()),o=[]),s.length)throw function Rie(e){return new x(3504,!1)}();a.forEach((c,u)=>{c.forEach((p,m)=>{c.set(m,this._driver.computeStyle(u,m,nr))})});const d=Qr(o.map(c=>{const u=a.get(c.element);return this._buildPlayer(c,new Map,u)}));return this._playersById.set(t,d),d.onDestroy(()=>this.destroy(t)),this.players.push(d),d}destroy(t){const i=this._getPlayer(t);i.destroy(),this._playersById.delete(t);const n=this.players.indexOf(i);n>=0&&this.players.splice(n,1)}_getPlayer(t){const i=this._playersById.get(t);if(!i)throw function Tie(e){return new x(3301,!1)}();return i}listen(t,i,n,s){const r=kS(i,"","","");return LS(this._getPlayer(t),n,r,s),()=>{}}command(t,i,n,s){if("register"==n)return void this.register(t,s[0]);if("create"==n)return void this.create(t,i,s[0]||{});const r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t)}}}const x1="ng-animate-queued",XS="ng-animate-disabled",xne=[],R1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Rne={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},as="__ng_removed";class JS{get params(){return this.options.params}constructor(t,i=""){this.namespaceId=i;const n=t&&t.hasOwnProperty("value");if(this.value=function Ine(e){return e??null}(n?t.value:t),n){const r=ch(t);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const i=t.params;if(i){const n=this.options.params;Object.keys(i).forEach(s=>{null==n[s]&&(n[s]=i[s])})}}}const ph="void",eE=new JS(ph);class Tne{constructor(t,i,n){this.id=t,this.hostElement=i,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Nn(i,this._hostClassName)}listen(t,i,n,s){if(!this._triggers.has(i))throw function Aie(e,t){return new x(3302,!1)}();if(null==n||0==n.length)throw function Mie(e){return new x(3303,!1)}();if(!function Fne(e){return"start"==e||"done"==e}(n))throw function Iie(e,t){return new x(3400,!1)}();const r=mn(this._elementListeners,t,[]),o={name:i,phase:n,callback:s};r.push(o);const a=mn(this._engine.statesByElement,t,new Map);return a.has(i)||(Nn(t,Sg),Nn(t,Sg+"-"+i),a.set(i,eE)),()=>{this._engine.afterFlush(()=>{const l=r.indexOf(o);l>=0&&r.splice(l,1),this._triggers.has(i)||a.delete(i)})}}register(t,i){return!this._triggers.has(t)&&(this._triggers.set(t,i),!0)}_getTrigger(t){const i=this._triggers.get(t);if(!i)throw function Fie(e){return new x(3401,!1)}();return i}trigger(t,i,n,s=!0){const r=this._getTrigger(i),o=new tE(this.id,i,t);let a=this._engine.statesByElement.get(t);a||(Nn(t,Sg),Nn(t,Sg+"-"+i),this._engine.statesByElement.set(t,a=new Map));let l=a.get(i);const d=new JS(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&d.absorbOptions(l.options),a.set(i,d),l||(l=eE),d.value!==ph&&l.value===d.value){if(!function Lne(e,t){const i=Object.keys(e),n=Object.keys(t);if(i.length!=n.length)return!1;for(let s=0;s<i.length;s++){const r=i[s];if(!t.hasOwnProperty(r)||e[r]!==t[r])return!1}return!0}(l.params,d.params)){const C=[],b=r.matchStyles(l.value,l.params,C),y=r.matchStyles(d.value,d.params,C);C.length?this._engine.reportError(C):this._engine.afterFlush(()=>{pa(t,b),Ps(t,y)})}return}const p=mn(this._engine.playersByElement,t,[]);p.forEach(C=>{C.namespaceId==this.id&&C.triggerName==i&&C.queued&&C.destroy()});let m=r.matchTransition(l.value,d.value,t,d.params),v=!1;if(!m){if(!s)return;m=r.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:m,fromState:l,toState:d,player:o,isFallbackTransition:v}),v||(Nn(t,x1),o.onStart(()=>{md(t,x1)})),o.onDone(()=>{let C=this.players.indexOf(o);C>=0&&this.players.splice(C,1);const b=this._engine.playersByElement.get(t);if(b){let y=b.indexOf(o);y>=0&&b.splice(y,1)}}),this.players.push(o),p.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(i=>i.delete(t)),this._elementListeners.forEach((i,n)=>{this._elementListeners.set(n,i.filter(s=>s.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const i=this._engine.playersByElement.get(t);i&&(i.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,i){const n=this._engine.driver.query(t,Eg,!0);n.forEach(s=>{if(s[as])return;const r=this._engine.fetchNamespacesByElement(s);r.size?r.forEach(o=>o.triggerLeaveAnimation(s,i,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(t,i,n,s){const r=this._engine.statesByElement.get(t),o=new Map;if(r){const a=[];if(r.forEach((l,d)=>{if(o.set(d,l.value),this._triggers.has(d)){const c=this.trigger(t,d,ph,s);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,i,o),n&&Qr(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const i=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(i&&n){const s=new Set;i.forEach(r=>{const o=r.name;if(s.has(o))return;s.add(o);const l=this._triggers.get(o).fallbackTransition,d=n.get(o)||eE,c=new JS(ph),u=new tE(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:d,toState:c,player:u,isFallbackTransition:!0})})}}removeNode(t,i){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,i),this.triggerLeaveAnimation(t,i,!0))return;let s=!1;if(n.totalAnimations){const r=n.players.length?n.playersByQueriedElement.get(t):[];if(r&&r.length)s=!0;else{let o=t;for(;o=o.parentNode;)if(n.statesByElement.get(o)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(t),s)n.markElementAsRemoved(this.id,t,!1,i);else{const r=t[as];(!r||r===R1)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,i))}}insertNode(t,i){Nn(t,this._hostClassName)}drainQueuedTransitions(t){const i=[];return this._queue.forEach(n=>{const s=n.player;if(s.destroyed)return;const r=n.element,o=this._elementListeners.get(r);o&&o.forEach(a=>{if(a.name==n.triggerName){const l=kS(r,n.triggerName,n.fromState.value,n.toState.value);l._data=t,LS(n.player,a.phase,l,a.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):i.push(n)}),this._queue=[],i.sort((n,s)=>{const r=n.transition.ast.depCount,o=s.transition.ast.depCount;return 0==r||0==o?r-o:this._engine.driver.containsElement(n.element,s.element)?1:-1})}destroy(t){this.players.forEach(i=>i.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class Ane{_onRemovalComplete(t,i){this.onRemovalComplete(t,i)}constructor(t,i,n){this.bodyNode=t,this.driver=i,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,r)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(i=>{i.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,i){const n=new Tne(t,i,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,i)?this._balanceNamespaceList(n,i):(this.newHostElements.set(i,n),this.collectEnterElement(i)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,i){const n=this._namespaceList,s=this.namespacesByHostElement;if(n.length-1>=0){let o=!1,a=this.driver.getParentElement(i);for(;a;){const l=s.get(a);if(l){const d=n.indexOf(l);n.splice(d+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||n.unshift(t)}else n.push(t);return s.set(i,t),t}register(t,i){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,i)),n}registerTrigger(t,i,n){let s=this._namespaceLookup[t];s&&s.register(i,n)&&this.totalAnimations++}destroy(t,i){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const n=this._fetchNamespace(t);this.namespacesByHostElement.delete(n.hostElement);const s=this._namespaceList.indexOf(n);s>=0&&this._namespaceList.splice(s,1),n.destroy(i),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const i=new Set,n=this.statesByElement.get(t);if(n)for(let s of n.values())if(s.namespaceId){const r=this._fetchNamespace(s.namespaceId);r&&i.add(r)}return i}trigger(t,i,n,s){if(Og(i)){const r=this._fetchNamespace(t);if(r)return r.trigger(i,n,s),!0}return!1}insertNode(t,i,n,s){if(!Og(i))return;const r=i[as];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const o=this.collectedLeaveElements.indexOf(i);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(i,n)}s&&this.collectEnterElement(i)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,i){i?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Nn(t,XS)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),md(t,XS))}removeNode(t,i,n){if(Og(i)){const s=t?this._fetchNamespace(t):null;s?s.removeNode(i,n):this.markElementAsRemoved(t,i,!1,n);const r=this.namespacesByHostElement.get(i);r&&r.id!==t&&r.removeNode(i,n)}else this._onRemovalComplete(i,n)}markElementAsRemoved(t,i,n,s,r){this.collectedLeaveElements.push(i),i[as]={namespaceId:t,setForRemoval:s,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:r}}listen(t,i,n,s,r){return Og(i)?this._fetchNamespace(t).listen(i,n,s,r):()=>{}}_buildInstruction(t,i,n,s,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,s,t.fromState.options,t.toState.options,i,r)}destroyInnerAnimations(t){let i=this.driver.query(t,Eg,!0);i.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(i=this.driver.query(t,BS,!0),i.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){const i=this.playersByElement.get(t);i&&i.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){const i=this.playersByQueriedElement.get(t);i&&i.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Qr(this.players).onDone(()=>t());t()})}processLeaveNode(t){const i=t[as];if(i&&i.setForRemoval){if(t[as]=R1,i.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(i.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}t.classList?.contains(XS)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let i=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,s)=>this._balanceNamespaceList(n,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Nn(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{i=this._flushAnimations(n,t)}finally{for(let s=0;s<n.length;s++)n[s]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],i.length?Qr(i).onDone(()=>{n.forEach(s=>s())}):n.forEach(s=>s())}}reportError(t){throw function Oie(e){return new x(3402,!1)}()}_flushAnimations(t,i){const n=new Mg,s=[],r=new Map,o=[],a=new Map,l=new Map,d=new Map,c=new Set;this.disabledNodes.forEach(W=>{c.add(W);const Z=this.driver.query(W,".ng-animate-queued",!0);for(let ne=0;ne<Z.length;ne++)c.add(Z[ne])});const u=this.bodyNode,p=Array.from(this.statesByElement.keys()),m=M1(p,this.collectedEnterElements),v=new Map;let C=0;m.forEach((W,Z)=>{const ne=HS+C++;v.set(Z,ne),W.forEach(Le=>Nn(Le,ne))});const b=[],y=new Set,w=new Set;for(let W=0;W<this.collectedLeaveElements.length;W++){const Z=this.collectedLeaveElements[W],ne=Z[as];ne&&ne.setForRemoval&&(b.push(Z),y.add(Z),ne.hasAnimation?this.driver.query(Z,".ng-star-inserted",!0).forEach(Le=>y.add(Le)):w.add(Z))}const E=new Map,D=M1(p,Array.from(y));D.forEach((W,Z)=>{const ne=_g+C++;E.set(Z,ne),W.forEach(Le=>Nn(Le,ne))}),t.push(()=>{m.forEach((W,Z)=>{const ne=v.get(Z);W.forEach(Le=>md(Le,ne))}),D.forEach((W,Z)=>{const ne=E.get(Z);W.forEach(Le=>md(Le,ne))}),b.forEach(W=>{this.processLeaveNode(W)})});const M=[],L=[];for(let W=this._namespaceList.length-1;W>=0;W--)this._namespaceList[W].drainQueuedTransitions(i).forEach(ne=>{const Le=ne.player,ti=ne.element;if(M.push(Le),this.collectedEnterElements.length){const bi=ti[as];if(bi&&bi.setForMove){if(bi.previousTriggersValues&&bi.previousTriggersValues.has(ne.triggerName)){const ma=bi.previousTriggersValues.get(ne.triggerName),Vn=this.statesByElement.get(ne.element);if(Vn&&Vn.has(ne.triggerName)){const kg=Vn.get(ne.triggerName);kg.value=ma,Vn.set(ne.triggerName,kg)}}return void Le.destroy()}}const Ls=!u||!this.driver.containsElement(u,ti),vn=E.get(ti),Xr=v.get(ti),wt=this._buildInstruction(ne,n,Xr,vn,Ls);if(wt.errors&&wt.errors.length)return void L.push(wt);if(Ls)return Le.onStart(()=>pa(ti,wt.fromStyles)),Le.onDestroy(()=>Ps(ti,wt.toStyles)),void s.push(Le);if(ne.isFallbackTransition)return Le.onStart(()=>pa(ti,wt.fromStyles)),Le.onDestroy(()=>Ps(ti,wt.toStyles)),void s.push(Le);const G1=[];wt.timelines.forEach(bi=>{bi.stretchStartingKeyframe=!0,this.disabledNodes.has(bi.element)||G1.push(bi)}),wt.timelines=G1,n.append(ti,wt.timelines),o.push({instruction:wt,player:Le,element:ti}),wt.queriedElements.forEach(bi=>mn(a,bi,[]).push(Le)),wt.preStyleProps.forEach((bi,ma)=>{if(bi.size){let Vn=l.get(ma);Vn||l.set(ma,Vn=new Set),bi.forEach((kg,sE)=>Vn.add(sE))}}),wt.postStyleProps.forEach((bi,ma)=>{let Vn=d.get(ma);Vn||d.set(ma,Vn=new Set),bi.forEach((kg,sE)=>Vn.add(sE))})});if(L.length){const W=[];L.forEach(Z=>{W.push(function Pie(e,t){return new x(3505,!1)}())}),M.forEach(Z=>Z.destroy()),this.reportError(W)}const k=new Map,te=new Map;o.forEach(W=>{const Z=W.element;n.has(Z)&&(te.set(Z,Z),this._beforeAnimationBuild(W.player.namespaceId,W.instruction,k))}),s.forEach(W=>{const Z=W.element;this._getPreviousPlayers(Z,!1,W.namespaceId,W.triggerName,null).forEach(Le=>{mn(k,Z,[]).push(Le),Le.destroy()})});const xe=b.filter(W=>F1(W,l,d)),ft=new Map;A1(ft,this.driver,w,d,nr).forEach(W=>{F1(W,l,d)&&xe.push(W)});const kn=new Map;m.forEach((W,Z)=>{A1(kn,this.driver,new Set(W),l,"!")}),xe.forEach(W=>{const Z=ft.get(W),ne=kn.get(W);ft.set(W,new Map([...Z?.entries()??[],...ne?.entries()??[]]))});const ei=[],fh=[],Ng={};o.forEach(W=>{const{element:Z,player:ne,instruction:Le}=W;if(n.has(Z)){if(c.has(Z))return ne.onDestroy(()=>Ps(Z,Le.toStyles)),ne.disabled=!0,ne.overrideTotalTime(Le.totalTime),void s.push(ne);let ti=Ng;if(te.size>1){let vn=Z;const Xr=[];for(;vn=vn.parentNode;){const wt=te.get(vn);if(wt){ti=wt;break}Xr.push(vn)}Xr.forEach(wt=>te.set(wt,ti))}const Ls=this._buildAnimation(ne.namespaceId,Le,k,r,kn,ft);if(ne.setRealPlayer(Ls),ti===Ng)ei.push(ne);else{const vn=this.playersByElement.get(ti);vn&&vn.length&&(ne.parentPlayer=Qr(vn)),s.push(ne)}}else pa(Z,Le.fromStyles),ne.onDestroy(()=>Ps(Z,Le.toStyles)),fh.push(ne),c.has(Z)&&s.push(ne)}),fh.forEach(W=>{const Z=r.get(W.element);if(Z&&Z.length){const ne=Qr(Z);W.setRealPlayer(ne)}}),s.forEach(W=>{W.parentPlayer?W.syncPlayerEvents(W.parentPlayer):W.destroy()});for(let W=0;W<b.length;W++){const Z=b[W],ne=Z[as];if(md(Z,_g),ne&&ne.hasAnimation)continue;let Le=[];if(a.size){let Ls=a.get(Z);Ls&&Ls.length&&Le.push(...Ls);let vn=this.driver.query(Z,BS,!0);for(let Xr=0;Xr<vn.length;Xr++){let wt=a.get(vn[Xr]);wt&&wt.length&&Le.push(...wt)}}const ti=Le.filter(Ls=>!Ls.destroyed);ti.length?One(this,Z,ti):this.processLeaveNode(Z)}return b.length=0,ei.forEach(W=>{this.players.push(W),W.onDone(()=>{W.destroy();const Z=this.players.indexOf(W);this.players.splice(Z,1)}),W.play()}),ei}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,i,n,s,r){let o=[];if(i){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const l=!r||r==ph;a.forEach(d=>{d.queued||!l&&d.triggerName!=s||o.push(d)})}}return(n||s)&&(o=o.filter(a=>!(n&&n!=a.namespaceId||s&&s!=a.triggerName))),o}_beforeAnimationBuild(t,i,n){const r=i.element,o=i.isRemovalTransition?void 0:t,a=i.isRemovalTransition?void 0:i.triggerName;for(const l of i.timelines){const d=l.element,c=d!==r,u=mn(n,d,[]);this._getPreviousPlayers(d,c,o,a,i.toState).forEach(m=>{const v=m.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),m.destroy(),u.push(m)})}pa(r,i.fromStyles)}_buildAnimation(t,i,n,s,r,o){const a=i.triggerName,l=i.element,d=[],c=new Set,u=new Set,p=i.timelines.map(v=>{const C=v.element;c.add(C);const b=C[as];if(b&&b.removedBeforeQueried)return new ru(v.duration,v.delay);const y=C!==l,w=function Pne(e){const t=[];return I1(e,t),t}((n.get(C)||xne).map(k=>k.getRealPlayer())).filter(k=>!!k.element&&k.element===C),E=r.get(C),D=o.get(C),M=a1(this._normalizer,v.keyframes,E,D),L=this._buildPlayer(v,M,w);if(v.subTimeline&&s&&u.add(C),y){const k=new tE(t,a,C);k.setRealPlayer(L),d.push(k)}return L});d.forEach(v=>{mn(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>function Mne(e,t,i){let n=e.get(t);if(n){if(n.length){const s=n.indexOf(i);n.splice(s,1)}0==n.length&&e.delete(t)}return n}(this.playersByQueriedElement,v.element,v))}),c.forEach(v=>Nn(v,f1));const m=Qr(p);return m.onDestroy(()=>{c.forEach(v=>md(v,f1)),Ps(l,i.toStyles)}),u.forEach(v=>{mn(s,v,[]).push(m)}),m}_buildPlayer(t,i,n){return i.length>0?this.driver.animate(t.element,i,t.duration,t.delay,t.easing,n):new ru(t.duration,t.delay)}}class tE{constructor(t,i,n){this.namespaceId=t,this.triggerName=i,this.element=n,this._player=new ru,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((i,n)=>{i.forEach(s=>LS(t,n,void 0,s))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const i=this._player;i.triggerCallback&&t.onStart(()=>i.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,i){mn(this._queuedCallbacks,t,[]).push(i)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const i=this._player;i.triggerCallback&&i.triggerCallback(t)}}function Og(e){return e&&1===e.nodeType}function T1(e,t){const i=e.style.display;return e.style.display=t??"none",i}function A1(e,t,i,n,s){const r=[];i.forEach(l=>r.push(T1(l)));const o=[];n.forEach((l,d)=>{const c=new Map;l.forEach(u=>{const p=t.computeStyle(d,u,s);c.set(u,p),(!p||0==p.length)&&(d[as]=Rne,o.push(d))}),e.set(d,c)});let a=0;return i.forEach(l=>T1(l,r[a++])),o}function M1(e,t){const i=new Map;if(e.forEach(a=>i.set(a,[])),0==t.length)return i;const s=new Set(t),r=new Map;function o(a){if(!a)return 1;let l=r.get(a);if(l)return l;const d=a.parentNode;return l=i.has(d)?d:s.has(d)?1:o(d),r.set(a,l),l}return t.forEach(a=>{const l=o(a);1!==l&&i.get(l).push(a)}),i}function Nn(e,t){e.classList?.add(t)}function md(e,t){e.classList?.remove(t)}function One(e,t,i){Qr(i).onDone(()=>e.processLeaveNode(t))}function I1(e,t){for(let i=0;i<e.length;i++){const n=e[i];n instanceof ZO?I1(n.players,t):t.push(n)}}function F1(e,t,i){const n=i.get(e);if(!n)return!1;let s=t.get(e);return s?n.forEach(r=>s.add(r)):t.set(e,n),i.delete(e),!0}class Pg{constructor(t,i,n){this.bodyNode=t,this._driver=i,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(s,r)=>{},this._transitionEngine=new Ane(t,i,n),this._timelineEngine=new yne(t,i,n),this._transitionEngine.onRemovalComplete=(s,r)=>this.onRemovalComplete(s,r)}registerTrigger(t,i,n,s,r){const o=t+"-"+s;let a=this._triggerCache[o];if(!a){const l=[],c=jS(this._driver,r,l,[]);if(l.length)throw function Sie(e,t){return new x(3404,!1)}();a=function vne(e,t,i){return new Cne(e,t,i)}(s,c,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(i,s,a)}register(t,i){this._transitionEngine.register(t,i)}destroy(t,i){this._transitionEngine.destroy(t,i)}onInsert(t,i,n,s){this._transitionEngine.insertNode(t,i,n,s)}onRemove(t,i,n){this._transitionEngine.removeNode(t,i,n)}disableAnimations(t,i){this._transitionEngine.markElementAsDisabled(t,i)}process(t,i,n,s){if("@"==n.charAt(0)){const[r,o]=l1(n);this._timelineEngine.command(r,i,o,s)}else this._transitionEngine.trigger(t,i,n,s)}listen(t,i,n,s,r){if("@"==n.charAt(0)){const[o,a]=l1(n);return this._timelineEngine.listen(o,i,a,r)}return this._transitionEngine.listen(t,i,n,s,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let kne=(()=>{class e{static#e=this.initialStylesByElement=new WeakMap;constructor(i,n,s){this._element=i,this._startStyles=n,this._endStyles=s,this._state=0;let r=e.initialStylesByElement.get(i);r||e.initialStylesByElement.set(i,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Ps(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ps(this._element,this._initialStyles),this._endStyles&&(Ps(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(pa(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(pa(this._element,this._endStyles),this._endStyles=null),Ps(this._element,this._initialStyles),this._state=3)}}return e})();function iE(e){let t=null;return e.forEach((i,n)=>{(function Vne(e){return"display"===e||"position"===e})(n)&&(t=t||new Map,t.set(n,i))}),t}class O1{constructor(t,i,n,s){this.element=t,this.keyframes=i,this.options=n,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const i=()=>this._onFinish();this.domPlayer.addEventListener("finish",i),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",i)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const i=[];return t.forEach(n=>{i.push(Object.fromEntries(n))}),i}_triggerWebAnimation(t,i,n){return t.animate(this._convertKeyframesToObject(i),n)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,s)=>{"offset"!==s&&t.set(s,this._finished?n:C1(this.element,s))}),this.currentSnapshot=t}triggerCallback(t){const i="start"===t?this._onStartFns:this._onDoneFns;i.forEach(n=>n()),i.length=0}}class Gne{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,i){return!1}containsElement(t,i){return c1(t,i)}getParentElement(t){return VS(t)}query(t,i,n){return u1(t,i,n)}computeStyle(t,i,n){return window.getComputedStyle(t)[i]}animate(t,i,n,s,r,o=[]){const l={duration:n,delay:s,fill:0==s?"both":"forwards"};r&&(l.easing=r);const d=new Map,c=o.filter(m=>m instanceof O1);(function $ie(e,t){return 0===e||0===t})(n,s)&&c.forEach(m=>{m.currentSnapshot.forEach((v,C)=>d.set(C,v))});let u=function zie(e){return e.length?e[0]instanceof Map?e:e.map(t=>m1(t)):[]}(i).map(m=>Zr(m));u=function qie(e,t,i){if(i.size&&t.length){let n=t[0],s=[];if(i.forEach((r,o)=>{n.has(o)||s.push(o),n.set(o,r)}),s.length)for(let r=1;r<t.length;r++){let o=t[r];s.forEach(a=>o.set(a,C1(e,a)))}}return t}(t,u,d);const p=function Nne(e,t){let i=null,n=null;return Array.isArray(t)&&t.length?(i=iE(t[0]),t.length>1&&(n=iE(t[t.length-1]))):t instanceof Map&&(i=iE(t)),i||n?new kne(e,i,n):null}(t,u);return new O1(t,u,l,p)}}let Hne=(()=>{class e extends KO{constructor(i,n){super(),this._nextAnimationId=0,this._renderer=i.createRenderer(n.body,{id:"0",encapsulation:bn.None,styles:[],data:{animation:[]}})}build(i){const n=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(i)?QO(i):i;return P1(this._renderer,null,n,"register",[s]),new Bne(n,this._renderer)}static#e=this.\u0275fac=function(n){return new(n||e)(P(ec),P(Ve))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac})}return e})();class Bne extends U7{constructor(t,i){super(),this._id=t,this._renderer=i}create(t,i){return new Une(this._id,t,i||{},this._renderer)}}class Une{constructor(t,i,n,s){this.id=t,this.element=i,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,i){return this._renderer.listen(this.element,`@@${this.id}:${t}`,i)}_command(t,...i){return P1(this._renderer,this.element,this.id,t,i)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function P1(e,t,i,n,s){return e.setProperty(t,`@@${i}:${n}`,s)}const L1="@.disabled";let zne=(()=>{class e{constructor(i,n,s){this.delegate=i,this.engine=n,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(r,o)=>{const a=o?.parentNode(r);a&&o.removeChild(a,r)}}createRenderer(i,n){const r=this.delegate.createRenderer(i,n);if(!(i&&n&&n.data&&n.data.animation)){let c=this._rendererCache.get(r);return c||(c=new N1("",r,this.engine,()=>this._rendererCache.delete(r)),this._rendererCache.set(r,c)),c}const o=n.id,a=n.id+"-"+this._currentId;this._currentId++,this.engine.register(a,i);const l=c=>{Array.isArray(c)?c.forEach(l):this.engine.registerTrigger(o,a,i,c.name,c)};return n.data.animation.forEach(l),new Wne(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(i,n,s){i>=0&&i<this._microtaskId?this._zone.run(()=>n(s)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(r=>{const[o,a]=r;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(n){return new(n||e)(P(ec),P(Pg),P(q))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac})}return e})();class N1{constructor(t,i,n,s){this.namespaceId=t,this.delegate=i,this.engine=n,this._onDestroy=s}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,i){return this.delegate.createElement(t,i)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,i){this.delegate.appendChild(t,i),this.engine.onInsert(this.namespaceId,i,t,!1)}insertBefore(t,i,n,s=!0){this.delegate.insertBefore(t,i,n),this.engine.onInsert(this.namespaceId,i,t,s)}removeChild(t,i,n){this.engine.onRemove(this.namespaceId,i,this.delegate)}selectRootElement(t,i){return this.delegate.selectRootElement(t,i)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,i,n,s){this.delegate.setAttribute(t,i,n,s)}removeAttribute(t,i,n){this.delegate.removeAttribute(t,i,n)}addClass(t,i){this.delegate.addClass(t,i)}removeClass(t,i){this.delegate.removeClass(t,i)}setStyle(t,i,n,s){this.delegate.setStyle(t,i,n,s)}removeStyle(t,i,n){this.delegate.removeStyle(t,i,n)}setProperty(t,i,n){"@"==i.charAt(0)&&i==L1?this.disableAnimations(t,!!n):this.delegate.setProperty(t,i,n)}setValue(t,i){this.delegate.setValue(t,i)}listen(t,i,n){return this.delegate.listen(t,i,n)}disableAnimations(t,i){this.engine.disableAnimations(t,i)}}class Wne extends N1{constructor(t,i,n,s,r){super(i,n,s,r),this.factory=t,this.namespaceId=i}setProperty(t,i,n){"@"==i.charAt(0)?"."==i.charAt(1)&&i==L1?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,i.slice(1),n):this.delegate.setProperty(t,i,n)}listen(t,i,n){if("@"==i.charAt(0)){const s=function jne(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(t);let r=i.slice(1),o="";return"@"!=r.charAt(0)&&([r,o]=function $ne(e){const t=e.indexOf(".");return[e.substring(0,t),e.slice(t+1)]}(r)),this.engine.listen(this.namespaceId,s,r,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,n,a)})}return this.delegate.listen(t,i,n)}}let qne=(()=>{class e extends Pg{constructor(i,n,s,r){super(i.body,n,s)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(n){return new(n||e)(P(Ve),P(GS),P(QS),P(vo))};static#t=this.\u0275prov=H({token:e,factory:e.\u0275fac})}return e})();const k1=[{provide:KO,useClass:Hne},{provide:QS,useFactory:function Kne(){return new pne}},{provide:Pg,useClass:qne},{provide:ec,useFactory:function Yne(e,t,i){return new zne(e,t,i)},deps:[bw,Pg,q]}],nE=[{provide:GS,useFactory:()=>new Gne},{provide:zn,useValue:"BrowserAnimations"},...k1],V1=[{provide:GS,useClass:h1},{provide:zn,useValue:"NoopAnimations"},...k1];let Qne=(()=>{class e{static withConfig(i){return{ngModule:e,providers:i.disableAnimations?V1:nE}}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=Ze({type:e});static#i=this.\u0275inj=qe({providers:nE,imports:[dI]})}return e})(),Zne=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=Ze({type:e,bootstrap:[Uy]});static#i=this.\u0275inj=qe({imports:[dI,tie,Zte,v7,C7,Qne,Ly,PY,$Y,IQ,NQ,SZ,tX,Ac]})}return e})();T8().bootstrapModule(Zne).catch(e=>console.error(e))}},Re=>{Re(Re.s=44)}]);